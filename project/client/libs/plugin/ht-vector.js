this.ht=this.ht||{},this.ht.vector=function(){"use strict";function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var se="top",de="bottom",xe="right",be="left",ge="center",fe="middle",s="multiple",d="single",y="radio",C="checkbox",A="x",K="y",Y="HT2018-11",p="category",M="time",D="bar",T="line",ye="Previous",me="Next",we="Previous Jump",Ce="Next Jump",ke="First",Ve="Last",De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e=function(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e};function o(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,t,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var a=Object.getPrototypeOf(e);return null===a?void 0:n(a,t,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Te=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],o=!0,a=!1,r=void 0;try{for(var n,l=e[Symbol.iterator]();!(o=(n=l.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw r}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Me=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)},i=ht.Default,J=i.drawText,q=i.drawStretchImage,Q=i.getImage,$=[2,8];var a=ht.Default,re=a.drawText,ne=a.drawStretchImage,le=a.getImage;a.darker;var Ie={placeholderColor:"#737373",fontSize:12,fontFamily:"arial,  sans-serif",emptyColor:"rgba(0,0,0,0)",hoverDarker:5,activeDarker:11},ee=ht.Default.drawText;var f={HOVER:"ht.hover",ACTIVE:"ht.active",PRESSED:"ht.pressed",DISABLED:"ht.disabled",FOCUS:"ht.focus",FONT_SIZE:"ht.fontSize",FONT_FAMILY:"ht.fontFamily",FONT:"ht.font",VALUE:"ht.value",PLACEHOLDER:"ht.placeholder",TEXT_COLOR:"ht.textColor",PADDING:"ht.padding",EDITING:"ht.editing",TEXT_ALIGN:"ht.textAlign",LINE_HEIGHT:"ht.lineHeight",WORD_BREAK:"ht.wordBreak",CHECKED:"ht.checked",LABEL:"ht.label",ICON:"ht.icon",FORM_ITEM_NAME:"ht.name",FORM_ITEM_GROUP:"ht.group",ON_CLICK:"ht.onClick",ON_CHANGE:"ht.onChange",ON_KEYDOWN:"ht.onKeyDown",ON_KEYUP:"ht.onKeyUp",ON_SELECT_ROW:"ht.onSelectRow",ON_HOVER_CELL:"ht.onHoverCell",DROP_DOWN:"ht.dropDown",FORMAT:"ht.format",SHOW_TIME:"ht.showTime",DATE_TYPE:"ht.dateType",DATA_SOURCE:"ht.dataSource",DROP_ICON_WIDTH:"ht.dropIconWidth",DROP_ICON_HEIGHT:"ht.dropIconHeight",DROP_ROW_HEIGHT:"ht.dropRowHeight",DROP_WIDTH:"ht.dropWidth",DROP_BACKGROUND:"ht.dropBackground",DROP_HOVER_BACKGROUND:"ht.dropHoverBackground",DROP_LABEL_FONT:"ht.dropLabelFont",DROP_LABEL_COLOR:"ht.dropLabelColor",DROP_ACTIVE_LABEL_COLOR:"ht.dropActiveLabelColor",DROP_ACTIVE_BACKGOUND:"ht.dropActiveBackground",DROP_MAX_HEIGHT:"ht.dropMaxHeight",INPUT_TYPE:"ht.inputType",MAX_LENGTH:"ht.maxLength",ENTER_END_INPUTABLE:"ht.enterEndInputable",HOVER_INDEX:"ht.hoverIndex",DATASOURCE:"ht.dataSource",ROW_HEIGHT:"ht.rowHeight",HEAD_HEIGHT:"ht.headHeight",TRANSLATE_X:"ht.translateX",TRANSLATE_Y:"ht.translateY",SHOW_HEAD:"ht.showHead",SELECTED_INDEX:"ht.selectedIndex",SCROLL_BAR_VISIBLE:"ht.scrollBarVisible",AUTO_HIDE_SCROLL_BAR:"ht.autoHideScrollBar",COLUMNS:"ht.columns",MULTIPLE:"ht.multiple",MAX:"ht.max",MIN:"ht.min",STEP:"ht.step",SHOW_TOOLTIP:"ht.showToolTip",TOOLTIP_FORMAT:"ht.toolTipFormat",VALUE_BAR_DRAGGABLE:"ht.valueBarDraggable",MAX_SELECTION:"ht.maxSelection",HIDE_SELECTED:"ht.hideSelected"};var c=(e(r,[{key:"setColor",value:function(e,t,i,o){if(e&&!t){var a=ht.Default.toColorData(e);this.r=a[0],this.g=a[1],this.b=a[2],this.a=a[3]/255}else this.r=e,this.g=t,this.b=i,this.a=o}},{key:"toString",value:function(){return 1!==this.a&&null!==this.a?this.getRGBA():this.getWebColor()}},{key:"getRGB",value:function(){var e=this.r,t=this.g,i=this.b;return null!==e&&null!==t&&null!==i?"rgb("+e+", "+t+", "+i+")":null}},{key:"getRGBA",value:function(){var e=this.r,t=this.g,i=this.b,o=this.a;return null!==e&&null!==t&&null!==i?"rgba("+e+", "+t+", "+i+", "+(null===o?1:o.toFixed(2))+")":null}},{key:"getWebColor",value:function(){var e=this.r,t=this.g,i=this.b;return null!==e&&null!==t&&null!==i?"#"+this._getWebValue(e)+this._getWebValue(t)+this._getWebValue(i):null}},{key:"_getWebValue",value:function(e){var t=e.toString(16);return 1===t.length&&(t="0"+t),t}}]),r);function r(e,t,i,o){l(this,r),this.r=null,this.g=null,this.b=null,this.a=null,e&&this.setColor(e,t,i,o)}var g=ht.Default,N=g.drawText,z=g.drawStretchImage,G=g.getImage,X="#ffffff",U="#cccccc",Z=new c;var v=ht.Default,he=v.drawText,ue=v.drawStretchImage,ce=v.getImage;function te(e,t){return e<=1?t*e:e}function ie(e,t){return t?(e-Le)/oe*ae+ve:pe-(e-Le)/oe*ae}var oe=void 0,ae=void 0,ve=void 0,pe=void 0,_e=void 0,Le=void 0;function Re(e,t){return e<1?t*e:e}var Se=ht.Default.drawText;var k=Math.max,V=Math.min,I=ht.Default.containsPoint,S=4;function Be(e,t,i,o,a,r){var n=4<arguments.length&&void 0!==a?a:{},l=r,h=t.x,s=t.y,d=t.width,u=t.height,c=i.width,g=i.height,f=o.x,v=o.y,p=void 0,x=void 0,b=null,y=null,m=void 0,w=void 0,C=n.color,k=void 0===C?"red":C,V=n.barWidth,D=void 0===V?8:V,T=n.gap,I=void 0===T?2:T,_=n.visible;if(e.save(),u<g){var L=u*(w=u/g);y=[h+d-D-I,s+-v*w,D,Math.max(L,S)],x=u-g,_&&(e.beginPath(),tr.apply(void 0,[e].concat(Me(y),[Math.min(D,L)/2])),e.fillStyle=k,e.fill())}if(d<c-2){var R=d*(m=d/c);b=[h+-f*m,s+u-D-I,Math.max(R,S),D],p=d-c,_&&(e.beginPath(),tr.apply(void 0,[e].concat(Me(b),[Math.min(D,R)/2])),e.fillStyle=k,e.fill())}l.scrollInfo={scrollBarX:b,scrollBarY:y,scaleX:m,scaleY:w,minX:p,minY:x},e.restore()}function Pe(e,t,i,o,a,r,n,l){var h=ja(e,"translateY"),s=ja(e,"translateX"),d=Aa(i,t,e,l),u=Ma(i,t,e),c=u.scrollBarInteractiveSize||ht.Default.scrollBarInteractiveSize,g=u.scrollInfo;if(g){var f=g.minX,v=g.minY,p=g.scrollBarX,x=g.scrollBarY,b=g.scaleX,y=g.scaleY,m=void 0,w={x:o.x+d.rect.x,y:o.y+d.rect.y};if(p){var C=(c-(p=Sa(p)).height)/2;p.y-=C,p.height=c}if(x){var k=(c-(x=Sa(x)).width)/2;x.x-=k,x.width=c}if(p&&s&&I(p,w))m={downPoint:o,startX:t.a(s)||0,scaleX:b,minX:f,axis:A};else if(x&&h&&I(x,w))m={downPoint:o,startY:t.a(h)||0,scaleY:y,minY:v,axis:K};else{var V=u.headHeight,D={x:0,y:V,width:a,height:r-V};!n&&u.pannable&&I(D,o)&&(p||x)&&(m={downPoint:o,scaleX:b,minX:f,scaleY:y,minY:v,isPan:!0},p&&s&&(m.startX=t.a(s)||0,m.scaleX=b,m.minX=f),x&&h&&(m.startY=t.a(h)||0,m.scaleY=y,m.minY=v))}return m}}function b(e,t,i,o,a,r){var n=Ma(i,t,this),l=Pe(this,t,i,o,a,r,!1,e);n._scrollDragInfo=l,n.scrollBarVisible=!!l}function m(e,g,t,f,i,o){var v=Ma(t,g,this),p=v._scrollDragInfo,x=ja(this,"translateY"),b=ja(this,"translateX");v._dragTimer||(v._dragTimer=setTimeout(function(){if(p){var e=p.axis,t=p.minX,i=p.minY,o=p.downPoint,a=p.startX,r=p.startY,n=p.scaleX,l=p.scaleY,h=p.isPan;if(e===A){var s=a+(o.x-f.x)/n;s=V(0,s),s=k(t,s),b&&g.a(b,s)}else if(e===K){var d=r+(o.y-f.y)/l;d=V(0,d),d=k(i,d),x&&g.a(x,d)}else if(h){if(void 0!==a){var u=a+(f.x-o.x);u=V(0,u),u=k(t,u),b&&g.a(b,u)}if(void 0!==r){var c=r+(f.y-o.y);c=V(0,c),c=k(i,c),x&&g.a(x,c)}}}delete v._dragTimer},10))}function _(e,t,i,o,a,r){var n=Ma(i,t,this);if(n._scrollDragInfo){var l=n.scrollInfo,h=l.scrollBarX,s=l.scrollBarY,d=n.autoHideScrollBar;(h||s)&&d&&(n.scrollBarVisible=!0,W(t,n)),delete n._scrollDragInfo}}function x(e,t,i,o,a,r){var n=Ma(i,t,this),l=n.scrollInfo,h=n.scrollSpeed||1,s=ja(this,"translateY"),d=ja(this,"translateX");if(l){var u=l.scrollBarX,c=l.scrollBarY,g=l.minX,f=l.minY,v=(l.scaleX,l.scaleY,(e.wheelDeltaX||0)/40*5*h),p=(e.wheelDeltaY||0)/40*5*h,x=!1;if(c&&s&&p){var b=(t.a(s)||0)+p;b=V(0,b),b=k(f,b),t.a(s,b),x=!0}if(u&&d&&v){var y=(t.a(d)||0)+v;y=V(0,y),y=k(g,y),t.a(d,y),x=!0}if(!x&&u&&!c&&d&&p){var m=(t.a(d)||0)+p;m=V(0,m),m=k(g,m),t.a(d,m)}var w=n.autoHideScrollBar;(u||c)&&w&&(n.scrollBarVisible=!0,W(t,n))}}function W(e,t){e._hideBarTimer&&(clearTimeout(e._hideBarTimer),e._hideBarTimer=null),e._hideBarTimer=setTimeout(function(){t._scrollDragInfo||(t.scrollBarVisible=!1,e.iv())},1e3)}var L=ht.Default,Ee=L.drawText,Oe=L.drawStretchImage,We=L.getImage,He=L.drawBorder,Fe=L.intersectsRect,je=/\n/g;var F=ht.Default.drawText;var H=ht.Default.drawImage;var Ae=ht.Default.drawImage;var R=ht.Default,Ne=R.drawText,ze=R.createGradient;var P,B=ht.Default,E=B.drawStretchImage,O=B.getImage,j=(P=ht.Data,t(Ye,P),e(Ye,[{key:"init",value:function(e){var t=e.id,i=e.text,o=e.icon,a=e.badges,r=e.expanded,n=e.selected,l=e.disabled,h=e.checked,s=e.isLeaf;this.a({id:t,text:void 0===i?"Tree":i,icon:void 0===o?null:o,badges:void 0===a?[]:a,expanded:void 0!==r&&r,selected:void 0!==n&&n,disabled:void 0!==l&&l,checked:void 0!==h&&h,isLeaf:void 0!==s&&s,_isHovering:!1,_isLoading:!1})}},{key:"initNodeRect",value:function(e){var t=this.getDataModel();this.setRowRect(t,e),this.setTreeContentRect(t),this.setCellsRect(t),this.setToggleRect(t),this.setCheckRect(t),this.setIconRect(t),this.setTreeTextRect(t)}},{key:"setRowRect",value:function(e,t){var i=e.getAttrObject(),o=i.translateX,a=i.translateY,r=i.showHead,n=i.thHeight,l=i.tdHeight,h=i.borderWidth,s=i.rowLineWidth,d=i.rect,u=d.x,c=d.y,g=d.width;this.a("rowRect",{x:u+o+h,y:t?t.a("rowRect").y+l+s:(r?n:0)+c+a+h,width:g-2*h,height:l})}},{key:"setTreeContentRect",value:function(e){for(var t=e.getAttrObject(),i=t.treeColumnIndex,o=t.colWidths,a=t.columnLineWidth,r=0,n=0;n<i;n++)r+=o[n]+a;var l=t.indent,h=t.space,s=t.expandIconSize,d=t.checkIconSize,u=t.iconSize,c=t.showCheckbox,g=t.showIcon,f=this.a("rowRect"),v=f.x,p=f.y,x=f.height,b=this.a("treeTextWH"),y=b.textWidth,m=(b.textHeight,this.getDeep());this.a("treeContentRect",{x:v+m*l+r,y:p,width:s+h+(c?d+h:0)+(g?u+h:0)+y,height:x})}},{key:"setCellsRect",value:function(e){var t=e.getAttrObject(),i=t.columnLineWidth,o=t.colWidths,a=t.cellPadding,r=t.treeColumnIndex,n=this.a("rowRect"),l=n.x,h=n.y,s=n.height,d=[],u=l;if(o)for(var c=0,g=o.length;c<g;c++){0!==c&&(u+=o[c-1]+i);var f=o[c]-(c===r?0:2*a);d.push({x:u+(c===r?0:a),y:h,width:f<0?0:f,height:s})}this.a("cellsRect",d)}},{key:"setToggleRect",value:function(e){var t=this.a("treeContentRect"),i=t.x,o=t.y,a=t.height,r=e.getAttrObject(),n=r.space,l=r.expandIconSize;l=e.a("expandIconSize"),this.a("toggleRect",{x:i-n,y:o,width:l+2*n,height:a}),this.a("toggleIconRect",{x:i,y:o+(a-l)/2,width:l,height:l})}},{key:"setCheckRect",value:function(e){var t=e.getAttrObject(),i=t.showCheckbox,o=t.space,a=t.expandIconSize,r=t.checkIconSize;if(i){var n=this.a("treeContentRect"),l=n.x,h=n.y,s=n.height;this.a("checkRect",{x:l+a+o,y:h+(s-r)/2,width:r,height:r})}}},{key:"setIconRect",value:function(e){var t=e.getAttrObject(),i=t.showIcon,o=t.space,a=t.expandIconSize,r=t.checkIconSize,n=t.showCheckbox,l=t.iconSize;if(i){var h=this.a("treeContentRect"),s=h.x,d=h.y,u=h.height;this.a("iconRect",{x:s+a+o+(n?r+o:0),y:d+(u-l)/2,width:l,height:l})}}},{key:"setTreeTextRect",value:function(e){var t=e.getAttrObject(),i=t.space,o=t.expandIconSize,a=t.checkIconSize,r=t.iconSize,n=t.showCheckbox,l=t.showIcon,h=this.a("treeContentRect"),s=h.x,d=h.y,u=h.height,c=this.a("treeTextWH"),g=c.textWidth,f=c.textHeight;this.a("treeTextRect",{x:s+o+i+(n?a+i:0)+(l?r+i:0),y:d+(u-f)/2,width:g,height:f})}},{key:"drawTreeCable",value:function(e,t){var i=this.getDataModel(),o=i.a("showIcon"),a=i.a("showCheckbox"),r=this.a("isLeaf"),n=a?"checkRect":o?"iconRect":"treeTextRect",l=vr(this.a(n)).leftMiddle,h=vr(this.a("toggleIconRect")),s=h.rightMiddle,d=h.topMiddle,u=h.middleMiddle;e.beginPath(),r?e.moveTo(u.x,u.y):e.moveTo(s.x,s.y),e.lineTo(l.x,l.y);var c=this.getPreVisibleSibling(t);if(c){var g=c.a("isLeaf"),f=vr(c.a("toggleIconRect")),v=f.bottomMiddle,p=f.middleMiddle;g?e.moveTo(p.x,p.y):e.moveTo(v.x,v.y),r?e.lineTo(u.x,u.y):e.lineTo(d.x,d.y)}else{var x=this.getParent();if(x){var b=vr(x.a(n)).bottomMiddle;e.moveTo(u.x,b.y),r?e.lineTo(u.x,u.y):e.lineTo(d.x,d.y)}}e.stroke()}},{key:"drawTreeBadge",value:function(e,t,i){var o=this.a("badges");if(0!==o.length){var a=t.badgeFont,r=t.badgeHeight,n=t.badgeSpace,l=t.badgeRadius,h=this.a("rowRect"),s=h.x,d=h.y,u=s+h.width,c=d+(h.height-r)/2;e.save(),e.font=a,e.fillStyle="#777777",e.strokeStyle="white",e.lineWidth=1,e.setLineDash([]);for(var g=0,f=o.length;g<f;g++){var v=o[g],p=v.text,x=v.textColor,b=v.backColor,y=pa(a,p),m=y.width,w=y.height,C=m+2*l;u-=C+n,b&&(e.fillStyle=b),e.beginPath(),tr(e,u,c,C,r,l),e.closePath(),e.fill(),x&&(e.strokeStyle=x),e.strokeText(p,u+l,c+(r-w)/2),e.stroke(),i.badgesRect.push({node:this,info:v,badgeRect:{x:u,y:c,width:C,height:r}})}e.restore()}}},{key:"drawTreeToggleIcon",value:function(e,t,i,o,a){if(!this.a("isLeaf")){var r=o.loading,n=o.close,l=o.open,h=this.getAttrObject(),s=h.toggleRect,d=h.toggleIconRect,u=h.expanded,c=h._isLoading,g=d.x,f=d.y,v=d.width,p=d.height,x=void 0,b=void 0;b=c?(x=r.image,r.color):u?(x=n.image,n.color):(x=l.image,l.color),E(e,x,"fill",g,f,v,p,t,i,b),a.togglesRect.push({node:this,toggleRect:s})}}},{key:"drawTreeCheckIcon",value:function(e,t,i,o,a){var r=o.check,n=o.unCheck,l=o.unCheckAll,h=this.a("checkRect"),s=this.a("_checkStatus"),d=h.x,u=h.y,c=h.width,g=h.height,f=void 0,v=void 0;v="check"===s?(f=r.image,r.color):"unCheckAll"===s?(f=l.image,l.color):(f=n.image,n.color),E(e,f,"fill",d,u,c,g,t,i,v),a.checksRect.push({node:this,checkRect:h})}},{key:"drawTreeIcon",value:function(e,t,i,o){var a=o.def,r=this.a("icon"),n=this.a("iconRect"),l=n.x,h=n.y,s=n.width,d=n.height,u=void 0,c=void 0;r?u=O(r):(u=a.image,c=a.color),E(e,u,"fill",l,h,s,d,t,i,c)}},{key:"drawTreeText",value:function(e,t){var i=this.a("text"),o=this.a("treeTextRect"),a=o.x,r=o.y,n=this.getTextColor(t);n!==t.textColor?(e.save(),e.fillStyle=n,e.fillText(i,a,r),e.restore()):e.fillText(i,a,r)}},{key:"drawRowLine",value:function(e,t,i){if(t.rowLineWidth){var o=t.rowLineColor,a=t.rowLineWidth,r=i.x,n=i.y,l=i.width;e.save(),e.beginPath(),e.fillStyle=o,e.fillRect(r,n-a,l,a),e.restore()}}},{key:"drawTableCell",value:function(r,e){function t(){var e=l.x,t=l.y,i=l.width,o=l.height,a=r.measureText(C).width+2;"center"===v&&(e+=(i-a)/2),"right"===v&&(e+=i-a),"middle"===x&&(t+=(o-d)/2),"bottom"===x&&(t+=o-d),"function"==typeof g&&(C=g.call(n,C,w)),r.fillText(C,e,t)}var n=e.comp,i=e.data,o=e.column,l=e.cellRect,a=e.tdFont,h=e.tdColor,s=e.colIndex,d=e.textHeight,u=e.visibleRowIndex,c=o.key,g=o.format,f=o.align,v=void 0===f?"left":f,p=o.vAlign,x=void 0===p?"middle":p,b=o.drawCell,y=o.isIndex,m=this.a("dataInfo").tableDataSource,w=void 0===m?{}:m,C=w[c]||"";y&&(C=u),b?b.call(n,r,C,l,{font:a,color:h,column:o,colIndex:s,row:w,rowIndex:this.a("rowIndex"),defaultDraw:t,data:i}):t()}},{key:"drawTableRow",value:function(e,t){var i=t.comp,o=t.visibleRowRect,a=t.tdBackground,r=t.drawRow,n=o.x,l=o.y,h=o.width,s=o.height;a&&(e.save(),e.fillStyle=a,e.fillRect(n,l,h,s),e.restore()),r&&(e.save(),r.call(i,e,this,o),e.restore())}},{key:"getTextColor",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:{},o=i.bodyColor,a=i.color,r=e.textColor,n=e.hoverTextColor,l=e.selectTextColor,h=this.a("_isHovering");return this.a("selected")&&l?l:h&&n?n:o||a||r}},{key:"getDeep",value:function(){for(var e=1,t=this;t=t.getParent();)e++;return e}},{key:"getPreSibling",value:function(){var e=this.getDataModel().getSiblings(this).toArray(),t=e.indexOf(this)-1;return t<0?null:e[t]}},{key:"getPreVisibleSibling",value:function(e){for(var t=this.getPreSibling();t&&!e(t);)t=t.getPreSibling();return t&&e(t)?t:null}},{key:"checkAfter",value:function(){var t=this.a("checked"),e=this.getChildren();this.a("_checkStatus",t?"check":"unCheck"),e.each(function(e){e.a("checked",t),e.a("_checkStatus",t?"check":"unCheck"),e.checkAfter()})}},{key:"checkBefore",value:function(){var e=this.getParent();if(e){for(var t=e.getChildren().toArray(),i=0,o=!1,a=0;a<t.length;a++)t[a].a("checked")&&i++,"unCheckAll"===t[a].a("_checkStatus")&&(o=!0);i===t.length?(e.a("checked",!0),e.a("_checkStatus","check")):0!==i||o?(e.a("checked",!1),e.a("_checkStatus","unCheckAll")):(e.a("checked",!1),e.a("_checkStatus","unCheck")),e.checkBefore()}}}]),Ye);function Ye(e){l(this,Ye);var t=u(this,(Ye.__proto__||Object.getPrototypeOf(Ye)).call(this));return t.init(e),t}var Ge,Xe=ht.Default,Ue=Xe.getImage,Ze=Xe.drawBorder,Ke=Xe.containsPoint,Je=(Ge=ht.DataModel,t(qe,Ge),e(qe,[{key:"init",value:function(e,t){for(var i=0<arguments.length&&void 0!==e?e:[],o=t,a=0,r=i.length;a<r;a++){var n=i[a];if(n){var l=n.id,h=n.text,s=n.icon,d=n.badges,u=n.expanded,c=n.selected,g=n.disabled,f=n.checked,v=n.isLeaf,p=n.children;this.tagMap[l]&&(l=dr());var x=this.getDataByTag(l);if(x){var b=x.a("dataInfo"),y=b.text,m=b.icon,w=b.badges,C=b.isLeaf,k=b.expanded,V=b.selected,D=b.disabled,T=b.checked;h!==y&&x.a("text",void 0===h?"Tree":h),s!==m&&x.a("icon",void 0===s?null:s),d!==w&&x.a("badges",void 0===d?[]:d),v!==C&&x.a("isLeaf",void 0!==v&&v),u!==k&&x.a("expanded",void 0!==u&&u),c!==V&&x.a("selected",void 0!==c&&c),g!==D&&x.a("disabled",void 0!==g&&g),f!==T&&x.a("checked",void 0!==f&&f)}else{var I=void 0!==l?l:dr();n.id=I,(x=new j(n)).setTag(I),this.add(x)}if(this.tagMap[n.id]=!0,x.a("dataInfo",n),x.a("rowIndex",++this.rowIndex),o&&x.setParent(o),this.moveTo(x,a),u&&this.init(p,x),a===r-1){var _=o?o.getChildren().toArray():this.getRoots().toArray(),L=_.length;if(r<L)for(var R=r;R<L;R++)this.remove(_[R])}}}}},{key:"reset",value:function(e,t,i){var o=e.getValue("translateX"),a=e.getValue("translateY"),r=e.getValue("indent"),n=e.getValue("borderWidth"),l=e.getValue("columnLineWidth"),h=e.getValue("rowLineWidth"),s=e.getValue("thHeight"),d=e.getValue("tdHeight"),u=e.getValue("itemHeight"),c=e.getValue("space"),g=e.getValue("iconSize"),f=e.getValue("expandIconSize"),v=e.getValue("checkIconSize"),p=e.getValue("showHead"),x=e.getValue("showLine"),b=e.getValue("showIcon"),y=e.getValue("showCheckbox"),m=e.getValue("columns"),w=e.getValue("thFont"),C=e.getValue("tdFont"),k=e.getValue("treeFont"),V=e.getValue("columnVisibleFunc"),D=e.getValue("headLineDraggable"),T=e.getValue("headDraggable"),I=e.getValue("resizeInteractiveSize"),_=e.getValue("cellPadding"),L=e.getValue("accordion"),R=e.getValue("multiSelect"),S=e.getValue("loadData")||function(e,t){return t()},P=e.getValue("onCheck")||function(){},A=e.getValue("onExpand")||function(){},M=e.getValue("onSelect")||function(){},B=e.getValue("onClickBack")||function(){},E=e.getValue("onClickBadge")||function(){},O=e.getValue("selectableFunc")||function(){return!0},W=e.getValue("expandableFunc")||function(){return!0},H=e.getValue("checkableFunc")||function(){return!0},F=e.getValue("onClickCell"),j=e.getValue("onClickHeadCell"),N=e.getValue("expandMode");if(this.a({rect:t,translateX:o,translateY:a,indent:r,borderWidth:n,columnLineWidth:void 0===l?0:l,rowLineWidth:h,thHeight:void 0===s?0:s,tdHeight:void 0===d?u:d,space:c,iconSize:g,expandIconSize:f,checkIconSize:v,showHead:void 0!==p&&p,showLine:x,showIcon:b,showCheckbox:y,tdFont:void 0===C?k:C,thFont:w,headLineDraggable:D,headDraggable:T,resizeInteractiveSize:I,cellPadding:_,onClickCell:F,onClickHeadCell:j,accordion:L,multiSelect:R,loadData:S,onCheck:P,onExpand:A,onSelect:M,onClickBack:B,onClickBadge:E,selectableFunc:O,expandableFunc:W,checkableFunc:H,expandMode:N}),this.tagMap={},this.rowIndex=-1,m){var z=[];if(m.forEach(function(e,t){(V&&V(e,t)||!V)&&z.push(e)}),T){var Y=this.a("dragColumnsQueue");if(Y)for(var G=0,X=Y.length;G<X;G++){var U=Te(Y[G],2),Z=U[0],K=U[1],J=z[Z];z[Z]=z[K],z[K]=J}}this.a("visibleColumns",z);var q=Ra(z,t.width-2*n-l*(z.length-1)),Q=[],$=[],ee=t.x+o+n,te=t.y+n;if(this.a("defColWidths",ht.Default.clone(q)),D){var ie=this.a("dragColumnsLineDiff");if(ie)for(var oe in ie)for(var ae=0,re=z.length;ae<re;ae++)if(z[ae].key==oe){q[ae]+=ie[oe];break}var ne=i.dragColumnLineIndex,le=i.dragColumnLineDistance;void 0!==ne&&void 0!==le&&(q[ne]+le<I?q[ne]=I:q[ne]+=le)}this.a("colWidths",q),this.a("treeColumnIndex",void 0);for(var he=0,se=z.length;he<se;he++)if(z[he].isTreeColumn){this.a("treeColumnIndex",he);break}for(var de=0,ue=q.length;de<ue;de++)Q.push({x:ee,y:te,width:q[de],height:s}),D&&$.push({x:Q[de].x+Q[de].width-I,y:te,width:l+2*I,height:s}),ee+=l+q[de];this.a({columnsRect:Q,columnLinesRect:$,headRect:{x:t.x,y:t.y,width:t.width,height:s}})}}},{key:"getTreeIconInfo",value:function(e){var t=e.getValue("openIcon"),i=e.getValue("closeIcon"),o=e.getValue("loadingIcon"),a=e.getValue("defaultIcon"),r=e.getValue("checkIcon"),n=e.getValue("unCheckIcon"),l=e.getValue("unCheckAllIcon");return{open:{image:Ue(t||"ht.vector.treeOpenIcon"),color:t?void 0:e.getColor("openIconColor")},close:{image:Ue(i||"ht.vector.treeCloseIcon"),color:i?void 0:e.getColor("closeIconColor")},loading:{image:Ue(o||"ht.vector.treeLoadIcon"),color:o?void 0:e.getColor("loadingIconColor")},def:{image:Ue(a||"ht.vector.treeDefIcon"),color:a?void 0:e.getColor("defaultIconColor")},check:{image:Ue(r||"ht.vector.treeCheckIcon"),color:r?void 0:e.getColor("checkIconColor")},unCheck:{image:Ue(n||"ht.vector.treeUnCheckIcon"),color:n?void 0:e.getColor("unCheckIconColor")},unCheckAll:{image:Ue(l||"ht.vector.treeUnCheckAllIcon"),color:l?void 0:e.getColor("unCheckAllIconColor")}}}},{key:"drawBorder",value:function(e,t){var i=this.a("borderWidth"),o=this.a("rect"),a=o.x,r=o.y,n=o.width,l=o.height;i&&(e.save(),Ze(e,t,a,r,n,l,i),e.restore())}},{key:"drawTableHead",value:function(x,e,t){var b=t.comp,y=t.data,m=t.columnLineColor,w=t.thColor,i=t.thBackground,o=this.getAttrObject(),C=o.rect,k=o.columnLineWidth,V=o.columnsRect,D=o.visibleColumns,T=o.thFont,a=o.thHeight,I=o.showHead,r=o.borderWidth,_=o.cellPadding;x.save(),I&&(x.fillStyle=i,x.fillRect(C.x+r,C.y+r,C.width-2*r,a));for(var L=e.dragStartColumnIndex,R=e.dragColumnDistance,n=function(o){var a=V[o],e=D[o],r=a.x,n=a.y,l=a.width,h=a.height;if(x.beginPath(),x.fillStyle=m,x.fillRect(r+l,n,k,C.height),I){var s=e.displayName,t=e.align,d=void 0===t?"left":t,i=e.vAlign,u=void 0===i?"middle":i,c=e.headColor,g=e.color,f=e.drawHeadCell,v=w;c?v=c:g&&(v=g),r+=_,l=(l-=2*_)<0?0:l,x.save(),L!==o&&(x.rect(r,n,l,h),x.clip());var p=function(){if(void 0!==s){var e=pa(T,s),t=e.width,i=e.height;"center"===d&&(r+=(l-t)/2),"right"===d&&(r+=l-t),"middle"===u&&(n+=(h-i)/2),"bottom"===u&&(n+=h-i),L===o&&(r+=R,x.save(),x.fillStyle="rgb(217, 219, 220)",x.fillRect(r,a.y,l,h),x.restore()),x.fillStyle=v,x.font=T,x.fillText(s,r,n)}};f?f.call(b,x,s,a,{font:T,color:v,visibleColumn:e,index:o,defaultDraw:p,data:y}):p(),x.restore()}},l=0,h=V.length;l<h;l++)l!==L&&n(l);void 0!==L&&n(L),x.restore()}},{key:"drawScrollBar",value:function(e,t,i,o,a,r,n){var l=t.getValue("scrollBarWidthAbsolute"),h=t.getValue("scrollBarWidth"),s=t.getValue("autoHideScrollBar"),d=t.getValue("scrollable"),u=t.getValue("scrollBarColor"),c=o.translateX,g=o.translateY,f=o.scrollBarVisible,v=i.getZoom?i.getZoom():1,p=l?h/v:h,x=a+(a>n.width+p?p:0),b=r;if(a-2>n.width&&(b=r+p),o&&(o.scrollBarInfo={x:n.x,y:n.y,width:n.width,height:n.height,boundWidth:x,boundHeight:b,absoluteScrollBarWidth:p},o.autoHideScrollBar=s),d){var y={x:n.x,y:n.y,width:n.width,height:n.height},m={width:x,height:b},w={x:c,y:g};n.height>b&&0!==g&&(m.height=n.height-g),Be(e,y,m,w,{visible:!s||f,color:u,gap:0,barWidth:p},o||{})}}},{key:"drawDragColumnLine",value:function(e,t){var i=t.dragColumnLineRect;if(i){var o=i.x,a=i.y,r=i.width,n=i.height;e.save(),e.fillStyle="rgb(49, 141, 251)",e.fillRect(o,a,r,n),e.restore()}}},{key:"onClickBadge",value:function(e,t,i){for(var o=Te(e,3),a=o[0],r=o[1],n=o[2],l=this.a("onClickBadge"),h=0,s=i.length;h<s;h++){var d=i[h],u=d.node,c=d.info,g=d.badgeRect;if(Ke(g,t)&&!u.a("disabled"))return l.call(this,a,u,c,r,n),r.iv(),!0}return!1}},{key:"onClickCheck",value:function(e,t,i){for(var o=Te(e,3),a=o[0],r=o[1],n=o[2],l=this.getAttrObject(),h=l.checkableFunc,s=l.onCheck,d=0,u=i.length;d<u;d++){var c=i[d],g=c.node,f=c.checkRect;if(Ke(f,t)&&!g.a("disabled")&&h(g,r,n))return g.a("checked",!g.a("checked")),s.call(this,a,g,g.a("checked"),r,n),g.checkAfter(),g.checkBefore(),r.iv(),!0}return!1}},{key:"onClickToggle",value:function(e,s,d){for(var u=this,t=Te(e,3),c=t[0],g=t[1],f=t[2],i=this.getAttrObject(),v=i.onExpand,p=i.loadData,x=i.expandableFunc,b=i.accordion,o=function(e,t){var i=d[e],o=i.node,a=i.toggleRect,r=i.visibleRowRect;if(o.a("isLeaf"))return"continue";if(Ke(a||r,s)){if(o.a("_isLoading"))return{v:!0};if(!o.a("disabled")&&x(o,g,f)){b&&u.getSiblings(o).each(function(e){e!==o&&e.a("expanded",!1)}),o.a("expanded",!o.a("expanded"));var n=o.getChildren().toArray(),l=o.a("dataInfo"),h=o.a("expanded");return 0===n.length&&l.children?(u.init(l.children,o),v.call(u,c,o,h,g,f)):h&&0===n.length?new Promise(function(e){o.a("_isLoading",!0),p.call(u,o,e)}).then(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];o.a("_isLoading",!1),u.init(e,o),o.checkAfter(),v.call(u,c,o,h,g,f),g.iv()}):v.call(u,c,o,h,g,f),g.iv(),{v:!0}}}},a=0,r=d.length;a<r;a++){var n=o(a);switch(n){case"continue":continue;default:if("object"===(void 0===n?"undefined":De(n)))return n.v}}return!1}},{key:"onClickVisibleRow",value:function(e,v,p,x){for(var b=this,t=Te(e,3),y=t[0],m=t[1],w=t[2],i=this.getAttrObject(),C=i.selectableFunc,k=i.multiSelect,V=i.onSelect,o=function(e,t){var i=p[e],o=i.node,a=i.visibleRowRect;if(Ke(a,v)){if(!o.a("disabled")&&C(o,m,w)){var r=b.toDatas(function(e){return e.a("selected")}).toArray(),n=[];r.forEach(function(e){var t=e.a("id"),i=e.a("text");n.push({id:t,text:i}),k||e===o||e.a("selected",!1)}),x.selectedInfos=n,k?o.a("selected",!o.a("selected")):o.a("selected")||o.a("selected",!0),V.call(b,y,o,o.a("selected"),m,w);var l=b.a("onClickCell"),h=o.a("cellsRect");if(l&&h&&0<h.length)for(var s=0,d=h.length;s<d;s++)if(Ke(h[s],v)){var u=b.a("visibleColumns"),c=o.a("dataInfo").tableDataSource,g=void 0===c?{}:c,f=g[u[s].key]||"";l(y,0===s?o.a("text"):f,g,u,o.a("rowIndex"),s,m,w)}m.iv()}return{v:!0}}},a=0,r=p.length;a<r;a++){var n=o(a);if("object"===(void 0===n?"undefined":De(n)))return n.v}return!1}},{key:"onClickBack",value:function(e){var t=Te(e,3),i=t[0],o=t[1],a=t[2],r=this.a("onClickBack");r&&r(i,o,a)}},{key:"onClickHeadCell",value:function(e,t){var i=Te(e,3),o=i[0],a=i[1],r=i[2],n=this.getAttrObject(),l=n.columnsRect,h=n.onClickHeadCell,s=n.visibleColumns;if(h)for(var d=0,u=l.length;d<u;d++)if(Ke(l[d],t))return h(o,s[d],d,a,r),!0;return!1}},{key:"onHoverRow",value:function(e,t,i,o,a){for(var r=Te(e,3),n=(r[0],r[1]),l=r[2],h=0,s=i.length,d=this.a("selectableFunc");h<s;h++){var u=i[h],c=u.node,g=u.visibleRowRect;if(Ke(g,t)&&d(c,n,l)){o!==c&&(o&&o.a("_isHovering",!1),a.preHoverNode=c),c.a("disabled")?(Ha(l,"not-allowed"),o!==c&&n.iv()):c.a("_isHovering")||(Ha(l,"default"),c.a("_isHovering",!0),n.iv());break}}h===s&&o&&(Ha(l,"default"),o.a("_isHovering",!1),delete a.preHoverNode,n.iv())}}]),qe);function qe(){return l(this,qe),u(this,(qe.__proto__||Object.getPrototypeOf(qe)).call(this))}var Qe=ht.Default.intersectsRect;var $e=ht.Default.intersectsRect;var et=ht.Default,tt=et.drawText,it=et.drawStretchImage,ot=et.getImage;et.darker;function at(e,t,i,o,a){var r=t.x,n=t.y,l=t.width;n+=t.height,e.strokeStyle=a,e.beginPath(),o===xe?(e.moveTo(r+l,n),e.lineTo(r+l-i,n)):o===ge?(e.moveTo(r+(l-i)/2,n),e.lineTo(r+(l+i)/2,n)):(e.moveTo(r,n),e.lineTo(r+i,n)),e.stroke()}var rt={};function nt(e,t,i,o){for(var a=[],r=0,n=pa(i,"å›¾"),l=n.height/3,h=1,s=e.length;h<=s;h++)t<(l+=n.height+o)&&(r=h-1===r?(a.push(e.substring(r,h)),h):(a.push(e.substring(r,h-1)),h-1),l=n.height/3);return r!==h-1&&a.push(e.substring(r,h)),a}function lt(e,t,i,o,a,r){return t?r:ut===e?o||i:e===ct&&a||i}function st(e,t){return 0===e&&1===t?3:0===e?0:e===t-1?2:1}var dt=ht.Default.drawText,ut=void 0,ct=void 0;function gt(e,t,i,o){for(var a=e,r=0;a<t;){r++,a=e;for(var n=0;n<r;n++)a+=2*i+2*e*(o+(1-o)*n/r)}return r}function ft(e,t,i,o,a,r,n,l,h,s,d,u){var c=t.x,g=t.y,f=t.width,v=t.height,p=void 0;i!==we&&i!==Ce&&(e.beginPath(),tr(e,c,g,f,v,n),e.closePath(),r&&l&&(e.strokeStyle=r,e.lineWidth=l,e.stroke()),h&&(e.fillStyle=h,e.fill())),0<=xt.indexOf(i)&&(p=i===we||i===Ce?s.hover?cr(pt+(i===we?ke:Ve).toLowerCase()):cr("ht.vector.pagination.ellipsis"):cr(pt+i.toLowerCase())),p?ar(e,p,"uniform",c,g,f,v,d,u,a):er(e,i,o,a,c,g,f,v,ge,fe)}function vt(e,t,i,o,a,r){var n=e.active,l=e.disabled,h=e.hover;return l&&n?r:l?a:h?i:n?o:t}var pt="ht.vector.pagination.",xt=[ye,me,Ve,ke,we,Ce];var bt=(e(yt,[{key:"onClick",value:function(e,t,i,o,a,r){}},{key:"onDoubleClick",value:function(e,t,i,o,a,r){}},{key:"onDown",value:function(e,t,i,o,a,r){}},{key:"onUp",value:function(e,t,i,o,a,r){}},{key:"onMove",value:function(e,t,i,o,a,r){}},{key:"onEnter",value:function(e,t,i,o,a,r){}},{key:"onHover",value:function(e,t,i,o,a,r){}},{key:"onLeave",value:function(e,t,i,o,a,r){}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){}},{key:"onDrag",value:function(e,t,i,o,a,r){}},{key:"onEndDrag",value:function(e,t,i,o,a,r){}},{key:"onScroll",value:function(e,t,i,o,a,r){}}]),yt);function yt(){l(this,yt)}var mt=(t(wt,bt),e(wt,[{key:"onEnter",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);n.defaultCursor=i.getView().style.cursor,n.disabled?Ha(i,"not-allowed"):Ha(i,"text")}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);Ha(i,n.defaultCursor||"default")}},{key:"onDown",value:function(e,a,r,t,i,o){var n=Ma(r,a,this);if(!n.disabled&&!n.editing){var l=n.font,h=n.value,s=n.textAlign,d=n.maxLength,u=n.textColor,c=n.wordBreak,g=n.selectTextOnFocus,f=n.padding,v=n.onKeyDown,p=n.onKeyUp,x=n.onChange,b=n.lineHeight,y=ya("textarea"),m=y.style,w=ja(this,"value"),C=xa(f),k=Te(C,4),V=k[0],D=k[1],T=k[2],I=k[3];m.color=u,m.font=l,m.paddingTop=V+"px",m.paddingRight=D+"px",m.paddingBottom=T+"px",m.paddingLeft=2+I+"px",m.textAlign=s,m.resize="none",m.overflow="hidden",m.lineHeight=b+"px",m.wordBreak=c?"break-all":"keep-word",y.value=h||"",d&&y.setAttribute("maxlength",d),r.appendHTML(y);var _=Aa(r,a,this,e);_&&ma(r,y,_),n.editing=!0,n.editingValue=h,n.inputDOM=y,a.iv();var L=function(e){ma(r,y,_)},R=function e(t){var i=y.getBoundingClientRect(),o=ht.Default.getClientPoint(t);ht.Default.containsPoint(i,o)||(t.preventDefault(),Ea(a,r,y,n,w),r.ump(L),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};n.handleWindowClick=R,setTimeout(function(){g&&y.addEventListener("focus",function(e){y.select()}),y.focus(),r.mp(L);var t=null;y.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){n.editingValue=y.value,a.a(w,y.value)},10),9===e.keyCode&&(Ea(a,r,y,n,w),r.getView().removeEventListener("mousedown",R),r.getView().removeEventListener("touchstart",R)),v&&v(e,a,r)}),(p||x)&&(y.addEventListener("keyup",function(e){p&&p(e,a,r),va&&x&&x(y.value,a,r)}),va||y.addEventListener("input",function(e){x&&x(y.value,a,r)})),r.getView().addEventListener("mousedown",R),r.getView().addEventListener("touchstart",R)},1)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=ja(this,"value");n.editing&&n.inputDOM&&(Ea(t,i,n.inputDOM,n,l),i.getView().removeEventListener("mousedown",n.handleWindowClick),i.getView().removeEventListener("touchstart",n.handleWindowClick))}}]),wt);function wt(){return l(this,wt),u(this,(wt.__proto__||Object.getPrototypeOf(wt)).call(this))}var Ct=(t(kt,bt),e(kt,[{key:"onEnter",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);n.defaultCursor=i.getView().style.cursor,n.disabled?Ha(i,"not-allowed"):Ha(i,"text")}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);Ha(i,n.defaultCursor||"default")}},{key:"onDown",value:function(e,a,r,t,i,o){var n=Ma(r,a,this);if(!n.disabled&&!n.editing){var l=n.font,h=n.value,s=n.textAlign,d=n.maxLength,u=n.textColor,c=n.inputType,g=n.enterEndInputable,f=n.padding,v=n.onKeyDown,p=n.onKeyUp,x=n.onChange,b=n.selectTextOnFocus,y=a.getAnchorRect(),m=ya(),w=u||Ie.textColor,C=m.style,k=ja(this,"value"),V=xa(f),D=Te(V,4),T=D[0],I=D[1],_=D[2],L=D[3];c&&(m.type=c),C.color=w,C.font=l,C.paddingTop=T+"px",C.paddingRight=I+"px",C.paddingBottom=_+"px",C.paddingLeft=2+L+"px",C.lineHeight=y.height+"px",C.textAlign=s,m.value=h||"",m.spellcheck=!1,d&&m.setAttribute("maxlength",d),r.appendHTML(m);var R=Aa(r,a,this,e);R&&ma(r,m,R),n.editing=!0,n.editingValue=h,n.inputDOM=m,a.iv();var S=function(e){ma(r,m,R)},P=function e(t){var i=m.getBoundingClientRect(),o=ht.Default.getClientPoint(t);ht.Default.containsPoint(i,o)||(t.preventDefault(),Ea(a,r,m,n,k),r.ump(S),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};n.handleWindowClick=P,setTimeout(function(){b&&m.addEventListener("focus",function(e){m.select()}),m.focus(),r.mp(S);var t=null;m.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){n.editingValue=m.value,a.a(k,m.value)},10),(9===e.keyCode||g&&ht.Default.isEnter(e))&&(Ea(a,r,m,n,k),r.getView().removeEventListener("mousedown",P),r.getView().removeEventListener("touchstart",P)),v&&v(e,a,r)}),(p||x)&&m.addEventListener("keyup",function(e){p&&p(e,a,r),x&&x(m.value,a,r)}),r.getView().addEventListener("mousedown",P),r.getView().addEventListener("touchstart",P)},1)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=ja(this,"value");n.editing&&n.inputDOM&&(Ea(t,i,n.inputDOM,n,l),i.getView().removeEventListener("mousedown",n.handleWindowClick),i.getView().removeEventListener("touchstart",n.handleWindowClick))}}]),kt);function kt(){return l(this,kt),u(this,(kt.__proto__||Object.getPrototypeOf(kt)).call(this))}function Vt(e,t,i,o,a,r,n){if(o&&(o.editing=!1,delete o.dom),a){var l=parseFloat(i.value);Oa(n)||(l=Math.min(l,n)),Oa(r)||(l=Math.max(l,r)),e.a(a,l)}e.iv(),t.getView().removeChild(i)}var Dt=ht.Default.containsPoint,Tt=(t(It,bt),e(It,[{key:"onEnter",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);n.defaultCursor=i.getView().style.cursor,n.disabled?Ha(i,"not-allowed"):Ha(i,"text")}},{key:"onLeave",value:function(e,t,i,o,a,r){Ha(i,"default")}},{key:"onDown",value:function(e,a,r,t,i,o){var n=Ma(r,a,this),l=Aa(r,a,this,e),h=n.buttonRects,s=n.onKeyDown,d=n.onKeyUp,u=n.onChange,c=n.min,g=n.max,f={x:t.x+l.rect.x,y:t.y+l.rect.y},v=h&&(Dt(h[0],f)||Dt(h[1],f));if(!n.disabled)if(n.editing||v){if(v){var p=n.step,x=ja(this,"value");if(!x)return;var b=n.dom&&n.dom.value||a.a(x)||c||0,y=void 0;Dt(h[0],f)?(y=Na(parseFloat(b),p),Oa(g)||(y=Math.min(y,g))):(y=za(parseFloat(b),p),Oa(c)||(y=Math.max(y,c))),n.editing?(n.editingValue=n.dom.value=y,a.iv()):a.a(x,y),u&&b!==y&&u(y,a,r)}}else{var m=n.font,w=n.value,C=n.textAlign,k=n.maxLength,V=n.textColor,D=n.enterEndInputable,T=n.padding,I=n.selectTextOnFocus,_=a.getAnchorRect(),L=ya(),R=V||Ie.textColor,S=L.style,P=ja(this,"value"),A=xa(T),M=Te(A,4),B=M[0],E=M[1],O=M[2],W=M[3];S.color=R,S.font=m,S.paddingTop=B+"px",S.paddingRight=E+"px",S.paddingBottom=O+"px",S.paddingLeft=2+W+"px",S.lineHeight=_.height+"px",S.textAlign=C,L.value=w||"",L.spellcheck=!1,k&&L.setAttribute("maxlength",k),r.appendHTML(L);var H=Aa(r,a,this,e);H&&ma(r,L,H),n.editing=!0,n.editingValue=w,n.dom=L,a.iv();var F=function(e){ma(r,L,H)},j=function e(t){var i=L.getBoundingClientRect(),o=ht.Default.getClientPoint(t);ht.Default.containsPoint(i,o)||(t.preventDefault(),Vt(a,r,L,n,P,c,g),r.ump(F),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};n.handleWindowClick=j,setTimeout(function(){I&&L.addEventListener("focus",function(e){L.select()}),L.focus(),r.mp(F);var t=null;L.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){if(n.editingValue=L.value,P){var e=parseFloat(L.value);Oa(g)||(e=Math.min(e,g)),Oa(c)||(e=Math.max(e,c)),a.a(P,e)}},10),(9===e.keyCode||D&&ht.Default.isEnter(e))&&(Vt(a,r,L,n,P,c,g),r.getView().removeEventListener("mousedown",j),r.getView().removeEventListener("touchstart",j)),s&&s(e,a,r)}),L.addEventListener("keyup",function(e){d&&d(e,a,r),u&&u(parseFloat(L.value),a,r)}),L.addEventListener("input",function(e){e.target.value=e.target.value.replace(/[^\d\.{1}]/g,"")}),r.getView().addEventListener("mousedown",j),r.getView().addEventListener("touchstart",j)},1)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=Aa(i,t,this,e),h=n.buttonRects,s={x:o.x+l.rect.x,y:o.y+l.rect.y},d="text";n.disabled?d="not-allowed":h&&(ht.Default.containsPoint(h[0],s)||ht.Default.containsPoint(h[1],s))&&(d="pointer"),Ha(i,d),n.dom&&(n.dom.style.cursor=d)}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=ja(this,"value");n.editing&&n.dom&&(Vt(t,i,n.dom,n,l),i.getView().removeEventListener("mousedown",n.handleWindowClick),i.getView().removeEventListener("touchstart",n.handleWindowClick))}}]),It);function It(){return l(this,It),u(this,(It.__proto__||Object.getPrototypeOf(It)).call(this))}var _t=(t(Lt,bt),e(Lt,[{key:"onDown",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);n.disabled||(n.pressed=!0,t.iv())}},{key:"onEnter",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);n.defaultCursor=i.getView().style.cursor,n.disabled?Ha(i,"not-allowed"):Ha(i,"pointer"),n.disabled||(n.hover=!0,t.iv())}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);Ha(i,n.defaultCursor||"default"),delete n.defaultCursor,n.hover=!1,t.iv()}}]),Lt);function Lt(){return l(this,Lt),u(this,(Lt.__proto__||Object.getPrototypeOf(Lt)).call(this))}var Rt=(t(St,_t),e(St,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=n.onClick;n.disabled||(n.pressed=!1,t.iv(),l&&0<o.x&&o.x<a&&0<o.y&&o.y<r&&l(e,t,i))}}]),St);function St(){return l(this,St),u(this,(St.__proto__||Object.getPrototypeOf(St)).call(this))}var Pt=(t(At,_t),e(At,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=n.disabled,h=(n.pressed,ja(this,"checked")),s=ja(this,"group");if(!l){delete n.pressed,t.iv();var d=n.value,u=n.onChange,c=n.group;if(!t.a(h)&&0<o.x&&o.x<a&&0<o.y&&o.y<r){var g=t.a(h);i&&i.dm()&&!g&&c&&i.dm().each(function(e){c===e.a(s)&&e.a(h,!1)}),t.a(h,!0),u&&u(void 0===d||d,t,i)}}}}]),At);function At(){return l(this,At),u(this,(At.__proto__||Object.getPrototypeOf(At)).call(this))}var Mt=(t(Bt,_t),e(Bt,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=n.disabled;if(n.pressed,ja(this,"checked"),ja(this,"group"),!l){delete n.pressed;var h=n.value,s=n.onChange,d=n.group,u=(n.checked,Pa(i,t).vectorInfos),c=[],g=void 0;u.forEach(function(e){e.__inputType===y&&e.group===d&&(e.checked&&(g=e.value),c.push(e))}),g!==h&&(c.forEach(function(e){e.checked=!1}),n.checked=!0,s&&s(g,h,t,i)),t.iv()}}}]),Bt);function Bt(){return l(this,Bt),u(this,(Bt.__proto__||Object.getPrototypeOf(Bt)).call(this))}var Et=(t(Ot,_t),e(Ot,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=n.disabled,h=n.pressed,s=ja(this,"checked"),d=ja(this,"group"),u=ja(this,"value");if(!l){t.a(h,!1),t.iv(),n.value;var c=n.group,g=n.onChange;if(0<o.x&&o.x<a&&0<o.y&&o.y<r){var f=t.a(s);if(t.a(s,!f),g)if(c){var v=[];i.dm().each(function(e){c===e.a(d)&&e.a(s)&&v.push(e.a(u))}),g(v,t,i)}else g(!f,t,i)}}}}]),Ot);function Ot(){return l(this,Ot),u(this,(Ot.__proto__||Object.getPrototypeOf(Ot)).call(this))}var Wt=(e(Ht,[{key:"init",value:function(){var t=this;this._initing=!0;var e=this.data,i=this.graph,o=e.a("ht.dropDownProperty"),a=(i.getZoom(),i.tx(),i.ty(),this.value),r=new this.dropDownClazz;if(o)for(var n in o)r.setPropertyValue(n,o[n]);var l=r._dropDownView=r.initDropDownView(e,this.getDatas(),a);r.getDropDownView=function(){return l},l.on("d:click",function(e){e.stopPropagation()}),l.on("d:mousedown",function(e){e.stopPropagation()}),l.on("d:mousewheel",function(e){e.stopPropagation()}),l.on("d:mousemove",function(e){t.dropDownClazz!==ht.ui.ColorDropDown&&e.stopPropagation()}),this._dropDown=r,this._dropDownView=l,this.onInit(r,l),e.getWidth(),e.getHeight();var h=Ga(this.vectorInfo.comp,this.data,this.graph);this.prepareLayoutDropDown(r,l,{left:h.x,top:h.y,width:h.widht,height:h.height}),document.body.appendChild(l.getView()),r.addValueChangeListener(this.handleDropDownValueChange,this),r.addDropDownListener(this.handleDropDownChange,this),setTimeout(function(){t.registerCloseEvent(t._documentClickHandler)},100),r.afterOpen(a),l.iv(!0),this._initing=!1}},{key:"onInit",value:function(e,t){}},{key:"getDatas",value:function(){return null}},{key:"prepareLayoutDropDown",value:function(e,t,i){var o=e.getWidth(),a=e.getHeight(),r=ht.Default.getWindowInfo(),n=i.left+r.left,l=i.top+i.height+r.top;n+o>r.left+r.width&&(n=r.left+r.width-o),l+a>r.top+r.height&&(l-=i.height+a)<r.top&&(l=r.top),t.setX(Math.max(0,n)),t.setY(l),t.setWidth(o),t.setHeight(a)}},{key:"registerCloseEvent",value:function(e){var t=this.graph.getView();ht.Default.isTouchable?(document.addEventListener("touchstart",e),t.addEventListener("touchstart",e)):(document.addEventListener("mousedown",e),t.addEventListener("mousedown",e))}},{key:"unregisterCloseEvent",value:function(e){var t=this.graph.getView();ht.Default.isTouchable?(document.removeEventListener("touchstart",e),t.removeEventListener("touchstart",e)):(document.removeEventListener("mousedown",e),t.removeEventListener("mousedown",e))}},{key:"_clearDropDown",value:function(){this._dropDown=this._dropDownView=null,this.vectorInfo.editing=!1,this.data.iv()}},{key:"documentClickHandler",value:function(e){var t=this.data,i=this.graph;if(ht.Default.isLeftButton(e)){var o=this._dropDown,a=this._dropDownView;if(a){var r=t.getWidth(),n=t.getHeight(),l=i.tx(),h=i.ty(),s=i.getZoom(),d={x:t.getX()*s+l-r*t.getAnchor().x,y:t.getY()*s+h-n*t.getAnchor().y,width:r,height:n},u=a.containsEvent?a.containsEvent(e):o.isClickOnDropDownView(e);ht.Default.containsPoint(d,ht.Default.getClientPoint(e))||u||this.close()}}}},{key:"close",value:function(){var e=this;!e._initing&&e._dropDown&&(e._dropDown.cancel(),this.vectorInfo.editing=!1,delete e._dropDown,delete e._dropDownView,this.data.iv())}},{key:"handleDropDownValueChange",value:function(e){this.value=e.value}},{key:"open",value:function(){this.isOpened()||(this.init(),this.vectorInfo.editing=!0,this.data.iv())}},{key:"isOpened",value:function(){return!!this._dropDown}},{key:"handleDropDownChange",value:function(e){this.data;var t=this,i=t._dropDown,o=t._dropDownView;if(i){if(i.beforeClose(),"stop"===e.kind){var a=i.getDropDownValue();void 0!==a&&(this.value=a)}t._clearDropDown(),ht.Default.removeHTML(o.getView()),i.removeValueChangeListener(t.handleDropDownValueChange,t),this.unregisterCloseEvent(this._documentClickHandler),i.afterClose()}}},{key:"value",get:function(){var e=this.data,t=this.valueType.split("@"),i=Te(t,2),o=i[0],a=i[1];if("a"===o)return e.a(a);if("s"===o)return e.s(a);if("p"===o){var r=ht.Default.getter(a);if(e[r])return e[r]()}return null},set:function(e){var t=this.data,i=this.valueType,o=this.graph,a=i.split("@"),r=Te(a,2),n=r[0],l=r[1],h=this.vectorInfo.onChange,s=this.value;if("a"===n)t.a(l,e);else if("s"===n)t.s(l,e);else if("p"===n){var d=ht.Default.setter(l);t[d]&&t[d](e)}h&&h(s,e,t,o)}}]),Ht);function Ht(t,e,i,o){l(this,Ht),this.data=t,this.graph=e,this.vectorInfo=i,this.valueType=o,this._documentClickHandler=this.documentClickHandler.bind(this),ht.Default.addMethod(t,{isInstant:function(){return this.s("instant")},setInstant:function(e){t.s("instant",e)}})}var Ft=(t(jt,Wt),jt);function jt(e,t,i,o){l(this,jt);var a=u(this,(jt.__proto__||Object.getPrototypeOf(jt)).call(this,e,t,i,o));return a.dropDownClazz=ht.ui.ColorDropDown,a}function Nt(e,t,i,o){var a=i.dropDown;a||(a=new Ft(e,t,i,"a@"+o),i.dropDown=a),a.open()}var zt=(t(Yt,Wt),e(Yt,[{key:"onInit",value:function(e,t){var i=this.data,o=i.a(f.DATE_TYPE),a=i.a("ht.selectableFunc"),r=i.a("ht.dropDownProperty");if(e.setPropertyValue("dateTimePane.type",o,!0),e.setPropertyValue("dateTimePane.selectableFunc",a,!0),r)for(var n in r)e.setPropertyValue(n,r[n],!0)}}]),Yt);function Yt(e,t,i,o){l(this,Yt);var a=u(this,(Yt.__proto__||Object.getPrototypeOf(Yt)).call(this,e,t,i,o));return a.dropDownClazz=ht.ui.DateTimeDropDown,a}function Gt(e,t,i,o){var a=i.dropDown;a||(e.getFormat=function(){return e.a(f.FORMAT)},a=new zt(e,t,i,o),i.dropDown=a),a.open()}var Xt=(t(Ut,Wt),e(Ut,[{key:"onInit",value:function(e,t){var i=this.data.a(f.DATE_TYPE);e.setPropertyValue("dateTimePane.type",i,!0)}}]),Ut);function Ut(e,t,i,o){l(this,Ut);var a=u(this,(Ut.__proto__||Object.getPrototypeOf(Ut)).call(this,e,t,i,o));return e.getDropDownConfig=function(){return e.a("dropDownConfig")||{}},a.dropDownClazz=ht.ui.DateRangeDropDown,a}t(Zt,Wt),e(Zt,[{key:"getDatas",value:function(){return[{id:void 0,label:""},{id:"0",label:"Female"},{id:"1",label:"Male"}]}}]);function Zt(e,t,i){l(this,Zt);var o=u(this,(Zt.__proto__||Object.getPrototypeOf(Zt)).call(this,e,t,i));return o.dropDownClazz=ht.ui.ListDropDown,o}var Kt=(t(Jt,_t),e(Jt,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);if(!n.disabled){n.pressed=!1,t.iv();var l=ja(this,"value");0<o.x&&o.x<a&&0<o.y&&o.y<r&&Nt(t,i,n,l)}}}]),Jt);function Jt(){return l(this,Jt),u(this,(Jt.__proto__||Object.getPrototypeOf(Jt)).call(this))}var qt=(t(Qt,_t),e(Qt,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);if(!n.disabled){var l=ja(this,"value");0<o.x&&o.x<a&&0<o.y&&o.y<r&&Gt(t,i,n,"a@"+l)}}}]),Qt);function Qt(){return l(this,Qt),u(this,(Qt.__proto__||Object.getPrototypeOf(Qt)).call(this))}var $t,ei=($t=ht.graph.Interactor,t(ti,$t),e(ti,[{key:"handle_mousedown",value:function(e){this.handle_touchstart(e)}},{key:"handle_touchstart",value:function(e){if(e.stopPropagation(),!this.gv.isOnScrollBar(e)){var t=this.gv,i=t.getDataAt(e);i&&t.sm().ss(i)}}},{key:"handle_mousemove",value:function(e){var t=this.gv,i=t._hoverData,o=t.getDataAt(e);o!==i&&(t._hoverData=o&&t.sm().contains(o)?null:o,t.redraw())}},{key:"handle_mouseleave",value:function(e){var t=this.gv;t._hoverData&&(t._hoverData=null,t.redraw())}},{key:"handle_mouseup",value:function(e){this.handle_touchend(e)}},{key:"handle_touchend",value:function(e){}}]),ti);function ti(e){return l(this,ti),u(this,(ti.__proto__||Object.getPrototypeOf(ti)).call(this,e))}var ii,oi={hoverDarker:5,activeDarker:11,baseColor:"#3399ff",baseColor2:"#737373",hoverBackground:"#eeeeee",emptyColor:"#ffffff",fontSize:12,fontFamily:"arial, sans-serif",font:"12px arial sans-serif",disabledColor:"#ebebeb",disabledBackground:"#fafafa",inputTextColor:"#111111",placeholderColor:"#737373"},ai=(ii=ht.graph.GraphView,t(ri,ii),e(ri,[{key:"adjustTranslateX",value:function(){return 0}},{key:"isMovable",value:function(){return!1}},{key:"adjustZoom",value:function(){return 1}},{key:"adjustTranslateY",value:function(e){var t=this,i=this.dm().toDatas(function(e){return t.isVisible(e)}),o=this.getHeight()-i.size()*this._rowHeight;return 0<=e||0<=o?0:o<e?e:o}},{key:"handleScroll",value:function(e){var t=fa?-e.detail:e.wheelDelta/40;!fa&&e.wheelDelta===e.wheelDeltaX||this.translate(0,t)}},{key:"onPropertyChanged",value:function(e){n(ri.prototype.__proto__||Object.getPrototypeOf(ri.prototype),"onPropertyChanged",this).call(this,e);var t=e.property;"dataModel"!==t&&"fileSize"!==t||this.doLayoutLater()}},{key:"doLayoutLater",value:function(){this._doLayoutLater||(this._doLayoutLater=!0,ht.Default.callLater(this.doLayout,this))}},{key:"onValidated",value:function(){this._lastWidth!==this.getWidth()&&this.doLayoutLater()}},{key:"isVisible",value:function(e){return!0}},{key:"doLayout",value:function(){var t=this;this._doLayoutLater=!1,this._lastWidth=this.getWidth();var i=this._iconHeight,o=this._iconWidth,a=this._rowHeight,r=this._nodes=[];this.dm().getDatas().each(function(e){t.isVisible(e)&&r.push(e)}),this._lastHeight=this.getHeight();var n=8+.5*o,l=.5*a;r.forEach(function(e,t){e.setSize(o,i),e.p(n,l),l+=a})}},{key:"drawBottomPainter",value:function(i){var o=this,a=this._rowHeight,r=this.getWidth(),n=this._hoverData,l=this._dropBorderColor,h=this._dropBorderWidth;if(this.dm().toDatas(this.isVisible,this).each(function(e){if(i.beginPath(),i.rect(0,e.p().y-a/2,r,a),o.isSelected(e)?(i.fillStyle=o.getActiveColor()||oi.baseColor,i.fill()):e===n&&(i.fillStyle=o.getHoverBackground()||oi.hoverBackground,i.fill()),l&&h){var t=e.p().y+a/2-.5*h;i.beginPath(),i.moveTo(0,t),i.lineTo(r,t),i.strokeStyle=l,i.lineWidth=h,i.stroke()}}),l&&h){var e=this.getViewRect(),t=e.x,s=e.y,d=e.width,u=e.height;i.strokeStyle=l,i.lineWidth=h,i.strokeRect(t+.5*h,s+.5*h,d-h,u-h)}}},{key:"getDataAt",value:function(e){var t=Math.floor(this.lp(e).y/this._rowHeight);return this._nodes[t]}},{key:"handleSelectionChange",value:function(e){n(ri.prototype.__proto__||Object.getPrototypeOf(ri.prototype),"handleSelectionChange",this).call(this,e),this.redraw()}},{key:"getSelectWidth",value:function(){return 0}},{key:"isOnScrollBar",value:function(e){var t=this.getViewRect(),i=this.getScrollRect(),o=this.getScrollBarSize(),a=this.lp(e);return ht.Default.isTouchable&&(o*=1.5),i.height>t.height&&a.x-t.x>t.width-o}}]),ri);function ri(e){l(this,ri);var t=u(this,(ri.__proto__||Object.getPrototypeOf(ri)).call(this,e));t.setInteractors([new ht.graph.ScrollBarInteractor(t),new ei(t),new ht.graph.DefaultInteractor(t),new ht.graph.TouchInteractor(t,{editable:!1})]),t.addBottomPainter(t.drawBottomPainter.bind(t)),t.setAutoHideScrollBar(!1),t._nodes=[];var i=t.getView().style;return i.transition="all 0.2s",i.transitionOrigin="0 0",t}ka(ai,{ms_ac:["rowHeight","iconWidth","iconHeight","activeColor","hoverBackground","dropBorderWidth","dropBorderColor"],_rowHeight:26,_iconWidth:20,_iconHeight:20});var ni=(t(li,ai),e(li,[{key:"_initStyleByMaster",value:function(e){var t=0<arguments.length&&void 0!==e?e:this._vectorInfo;this.setIconHeight(t.dropIconWidth),this.setIconWidth(t.dropIconHeight),this.setRowHeight(t.dropRowHeight),this.setDropWidth(t.dropWidth),this.setBackground(t.dropBackground),this.setHoverBackground(t.dropHoverBackground),this.setActiveColor(t.dropActiveBackground),this.setDropLabelColor(t.dropLabelColor),this.setDropActiveLabelColor(t.dropActiveLabelColor),this.setDropLabelFont(t.dropLabelFont),this.setMaxHeight(t.dropMaxHeight),this.setDropBorderColor(t.dropBorderColor),this.setDropBorderWidth(t.dropBorderWidth)}},{key:"handleSelectData",value:function(e){var t=this._master,i=this._vectorInfo,o=i.onChange,a=this.sm().getSelectionMode(),r=i.dataSource;if(r&&0!==r.length&&e){if(a===d)this.sm().ss(e);else{if(this.sm().co(e))return;this.sm().as(e)}var n=e.a("value");if(a===d)t.a(this._valueName,n),t.a(f.LABEL,this.__getLabel()),t.a(f.ICON,e.a("icon"));else{var l=this._previousValue,h=i.maxSelection;if(n=[n],l&&l.indexOf(n[0])<0)n=l.concat(n);else if(l)return;0<h&&n.length>h&&n.shift(),t.a(this._valueName,n)}o&&o(this._previousValue,n,t,this._masterGraph),this.close()}}},{key:"setSelectionMode",value:function(e){s!==e&&d!==e||this.sm().setSelectionMode(e)}},{key:"getNodeValue",value:function(e){return e.a("value")||e.s("label")||e.s("text")}},{key:"getNodeLabel",value:function(e){return e.s("label")||e.s("text")||e.a("value")}},{key:"setData",value:function(e){var i=this,o=this.dm();o.clear(),e&&e.length&&(e.forEach(function(e){var t;e.icon?((t=new ht.Node).setImage(e.icon),t.s({pixelPerfect:!1,"image.stretch":"uniform",label:(e.label||e.value)+"","label.position":20,"label.offset.x":4,"label.font":i.getDropLabelFont()})):(t=new ht.Text).s({text:(e.label||e.value)+"",pixelPerfect:!1,"text.color":i.getLabelColor(t),"text.font":i.getDropLabelFont()}),t.a(e),o.add(t)}),this.setDropHeight(Math.min(this.getMaxHeight(),e.length*this.getRowHeight())))}},{key:"getValue",value:function(){var t=this,e=this.sm(),i=e.getSelection(),o=e.getSelectionMode();if(d===o)return 0===i.size()?null:this.getNodeValue(i.get(0));if(s!==o)return null;var a=[];return i.each(function(e){a.push(t.getNodeValue(e))}),a}},{key:"__getLabel",value:function(){var t=this,e=this.sm(),i=e.getSelection(),o=e.getSelectionMode();if(d===o)return 0===i.size()?null:this.getNodeLabel(i.get(0));if(s!==o)return null;var a=[];return i.each(function(e){a.push(t.getNodeLabel(e))}),a}},{key:"toggle",value:function(){this._transition||(this._opened?this.close():this.open())}},{key:"__scrollToIndex",value:function(e){this.dm().getDatas(),this.sm();var t=this.getMaxHeight(),i=this.getRowHeight();t<e*i?this.ty(t-(e+1)*i):this.ty(0)}},{key:"open",value:function(){var i=this,e=this._master,t=(this._masterGraph,this.getView().style),o=this.getDropWidth(),a=this.getDropHeight(),r=e.a(this._valueName);this.sm().cs(),Qa(r)?Ja(r)?r.length&&r.forEach(function(t){i.dm().each(function(e){e.a("value")===t&&i.sm().as(e)})}):this.dm().each(function(e,t){e.a("value")===r&&(i.sm().ss(e),i.__scrollToIndex(t))}):this.ty(0),this._previousValue=r,this._vectorInfo.editing=!0,this._master.iv(),this.layoutByMaster(),this.setWidth(o),this.setHeight(a),wa(t,"transform","scaleY(0)"),document.body.appendChild(this.getView()),this._transition=!0,this.registerCloseEvent(this._documentClickHandler),this.doLayout(),ht.Default.callLater(function(){wa(t,"transform","scaleY(1)"),setTimeout(function(){i.redraw(),i.setOpened(!0),i._transition=!1},300)})}},{key:"layoutByMaster",value:function(){this._master,this._masterGraph;var e=Ga(this._vectorInfo.comp,this._master,this._masterGraph),t=ht.Default.getWindowInfo(),i=this.getView().style,o=this.getDropWidth(),a=this.getDropHeight(),r=Math.max(0,e.x),n=e.y+e.height,l="50% 0";n+a>t.height&&n-e.height>a&&(n=n-a-e.height,l="50% 100%"),r+o>t.width&&(r=t.width-o),i.left=r+"px",i.top=n+"px",wa(i,"transformOrigin",l)}},{key:"onOpen",value:function(){}},{key:"close",value:function(){var e=this;if(!this._transition){var t=this.getView(),i=t.style;this._vectorInfo.editing=!1,this._master.iv(),this._transition=!0,this.unRegisterCloseEvent(this._documentClickHandler),wa(i,"transform","scaleY(0)"),setTimeout(function(){document.body.removeChild(t),e._transition=!1,e.setOpened(!1)},301)}}},{key:"registerCloseEvent",value:function(e){var t=this._masterGraph.getView();ht.Default.isTouchable?(document.addEventListener("touchstart",e),t.addEventListener("touchstart",e)):(document.addEventListener("mousedown",e),t.addEventListener("mousedown",e))}},{key:"unRegisterCloseEvent",value:function(e){var t=this._masterGraph.getView();ht.Default.isTouchable?(document.removeEventListener("touchstart",e),t.removeEventListener("touchstart",e)):(document.removeEventListener("mousedown",e),t.removeEventListener("mousedown",e))}},{key:"documentClickHandler",value:function(e){var t=this._master,i=this._masterGraph,o=Ga(this._vectorInfo.comp,t,i);ht.Default.containsPoint(o,ht.Default.getClientPoint(e))||this.close()}},{key:"getLabelColor",value:function(e){return this.sm().co(e)?this.getDropActiveLabelColor():this.getDropLabelColor()}},{key:"getScrollRect",value:function(){return n(li.prototype.__proto__||Object.getPrototypeOf(li.prototype),"getScrollRect",this).call(this)}},{key:"isVisible",value:function(e){return!this._vectorInfo.hideSelected||!this.sm().co(e)}}]),li);function li(e,t,i,o,a){l(this,li);var r=u(this,(li.__proto__||Object.getPrototypeOf(li)).call(this));r.setSelectionMode(a?s:d),r._master=e,r._masterGraph=t,r._vectorInfo=i,r._valueName=o,r._transition=!1,r._documentClickHandler=r.documentClickHandler.bind(r),r._previousValue=null,r.dm().setAutoAdjustIndex(!1),r.setInteractors([new ht.graph.ScrollBarInteractor(r),new ht.graph.MoveInteractor(r),new ht.graph.DefaultInteractor(r),new ht.graph.TouchInteractor(r)]);var n=r.getView().style;return n.height=0,n.boxShadow="rgba(0, 0, 0, 0.3) 0px 8px 22px",wa(n,"transition","all 0.3s esse-in"),r.mi(function(e){e.event&&(e.event.preventDefault(),e.event.stopPropagation()),"clickData"===e.kind&&r.handleSelectData(e.data)}),r.sm().ms(function(e){r.dm().each(function(e){e instanceof ht.Text&&e.s("text.color",r.getLabelColor(e))})}),r.mp(function(e){"background"===e.property&&(n.background=e.newValue)}),r.getView().addEventListener("mousemove",function(e){var t=r._hoverData,i=r.getDataAt(e);i!==t&&(r._hoverData=i&&r.sm().contains(i)?null:i,r.redraw())}),r._initStyleByMaster(),r}function hi(e,t,i,o,a){var r=i.dropDown;r||((r=new ni(e,t,i,o,a)).getView().className="ht-vector-dropdown",i.dropDown=r),r._transition||(r.isOpened()||(r.setData(i.dataSource),r._initStyleByMaster(i)),r.toggle())}ka(ni,{ms_ac:["background","dropWidth","dropHeight","maxHeight","opened","dropLabelFont","dropLabelColor","dropActiveLabelColor"],_background:oi.emptyColor,_dropWidth:200,_dropHeight:100,_maxHeight:400,_opened:!1,_dropLabelColor:oi.inputTextColor});var si=(t(di,_t),e(di,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);if(!n.disabled){n.pressed=!1,t.iv();var l=ja(this,"value");0<o.x&&o.x<a&&0<o.y&&o.y<r&&hi(t,i,n,l)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=t.__dropDown;n&&n._opened&&n.layoutByMaster()}}]),di);function di(){return l(this,di),u(this,(di.__proto__||Object.getPrototypeOf(di)).call(this))}function ui(e,t,i,o,a){var r=Ma(i,t,o),n=r.rowLineWidth,l=void 0===n?0:n,h=r.columnLineWidth,s=void 0===h?0:h,d=r.rowHeights,u=r.colWidths,c=r.headHeight,g=r.translateY,f=r.translateX,v=null,p=null;if(0<(g=Math.floor(a.y-g-c))&&d&&d.length){for(var x=v=0;v<d.length&&!(g<(x+=d[v]+l));v++);v===d.length&&(v=null)}if(0<(f=Math.floor(a.x-f))&&u&&u.length){for(var b=p=0;p<u.length&&!(f<(b+=u[p]+s));p++);p===u.length&&(p=null)}return{row:v,col:p}}var ci=(t(gi,bt),e(gi,[{key:"onDown",value:function(e,t,i,o,a,r){if(!Pe(this,t,i,o,a,r,!0,e)){var n=Ma(i,t,this),l=n.hoverIndex,h=n.multiple,s=n.onClickCell,d=n.onClickHeadCell,u=n.headRect,c=n.headHeight,g=n.onClickCellImage,f=Za(i,t,this,o,e),v=ja(this,"selectedIndex");if(u=u&&Sa(u),!Oa(l)){var p=n.dataSource||[],x=n.onSelectRow,b=n.selectedIndex;if(p&&p[l]){if(h)if(b="number"==typeof b?[b]:null==b?[]:b.slice(0),ht.Default.isCtrlDown()){var y=b.indexOf(l);0<=y?b.splice(y,1):b.push(l)}else if(ht.Default.isShiftDown()&&0<b.length){var m=b[b.length-1];if(m<l)for(var w=m+1;w<=l;w++)b.indexOf(w)<0&&b.push(w);else if(l<m)for(var C=m-1;l<=C;C--)b.indexOf(C)<0&&b.push(C)}else b=[l];else b=[l];v&&t.a(v,b),x&&x(p[l],t,i)}}if(s){var k=n.colWidths,V=n.rowHeights,D=n.columns,T=n.dataSource,I=n.rawColIndexs,_=n.rawIndexs,L=ui(0,t,i,this,o),R=_[L.row],S=I[L.col];if(null!=S&&null!=R&&L.row<=V.length&&L.col<=k.length&&D&&T&&D[S].key){var P=D[S],A=T[R],M=A[P.key];P.format&&(M=P.format(M,A,R,S)),s(e,M,A,P,R,S,t,i)}}if(d&&c&&u&&Oa(n.resizeColIndex)&&ir(u,f))for(var B=n.rawCols,E=n.colWidths,O=n.headHeight,W=n.rawColIndexs,H=u.x,F=0;F<E.length;F++){var j={x:H,y:u.y,width:E[F],height:O};if(ir(j,f)){d(e,B[F],W[F],t,i);break}H+=E[F]}if(g){var N=n.drawCellImageInfo,z=void 0===N?[]:N,Y=n.columns,G=n.dataSource,X=n.rawColIndexs,U=n.rawIndexs;if(0<z.length)for(var Z=ui(0,t,i,this,o),K=U[Z.row],J=X[Z.col],q=0,Q=z.length;q<Q;q++){var $=z[q].rect;if(ir($,f)){g(e,z[q],G[K],Y[J],K,J,t,i);break}}}}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=n.rowHeights,h=n.colWidths,s=n.hoverIndex,d=n.columns,u=n.rawDatas,c=n.rawIndexs,g=(n.rawCols,n.rawColIndexs),f=n.onHoverCell,v=n.resizable,p=n.headRect,x=n.bodyRect,b=ui(0,t,i,this,o),y=n.scrollInfo,m=n.scrollBarInteractiveSize||ht.Default.scrollBarInteractiveSize,w=b.row,C=b.col,k=Za(i,t,this,o,e);if(!n._scrollDragInfo&&c&&u){p=p&&Sa(p),x=Sa(x);var V=n.onClickCellImage,D=n.drawCellImageInfo,T=void 0===D?[]:D;if(V&&0<T.length){for(var I=0,_=T.length;I<_;I++){var L=T[I].rect;if(ir(L,k)){Ha(i,"pointer");break}}I===_&&Ha(i,"default")}if(ir(x,k)&&n.autoHideScrollBar&&y&&(y.scrollBarX&&o.y>r-m||y.scrollBarY&&o.x>a-m))return n.scrollBarVisible=!0,t.iv(),void W(t,n);if(ir(x,k)){if(f)if(null!=C&&null!==w&&w<=l.length&&C<=h.length&&d&&u&&d[C].key){var R=d[C],S=u[w],P=c[w],A=g[C],M=S[R.key];R.format&&(M=R.format(M,S,P,A)),f(e,M,S,R,P,A,t,i)}else f(e,null,null,null,null,null,t,i);s!==c[w]&&(n.hoverIndex=c[w],t.iv())}else if(p&&!n.resizeBeginPoint&&v&&ir(p,k)){for(var B=n.resizeRects,E=void 0,O=0;O<B.length;O++)if(ir(B[O],k)){E=O;break}n.resizeColIndex=E,Qa(E)?Ha(i,"ew-resize"):Ha(i,"default")}}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);n.hoverIndex=null,t.iv();var l=n.onHoverCell;l&&l(),Ha(i,"default")}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){b.apply(this,arguments);var n=Ma(i,t,this);if(Qa(n.resizeColIndex)){var l=n.colWidths,h=n.rawColIndexs,s=n.rawCols;n.resizeSourceWidth=l[h[n.resizeColIndex]],n.resizeBeginPoint=o,s.forEach(function(e,t){e.width=l[t]})}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=n.resizeBeginPoint;if(l){var h=n.rawCols,s=n.rawColIndexs,d=n.resizeColIndex,u=n.resizeSourceWidth,c=n.resizeRects,g=h[s[d]],f=o.x-l.x,v=c[d],p=v.x,x=v.y,b=v.width;return v.height,n.resizeDragPoint={x:p+b/2,y:x},g.width=Math.max(u+f,1),void t.iv()}m.apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,i,o,a,r){_.apply(this,arguments);var n=Ma(i,t,this);if(n.resizeBeginPoint){var l=ja(this,"translateX"),h=(t.a(l),n.colWidths),s=0;h.forEach(function(e){s+=e}),delete n.resizeBeginPoint,delete n.resizeDragPoint,delete n.resizeColIndex,s<a?t.a(l,0):t.iv()}}},{key:"onScroll",value:function(e,t,i,o,a,r){x.apply(this,arguments)}}]),gi);function gi(){return l(this,gi),u(this,(gi.__proto__||Object.getPrototypeOf(gi)).call(this))}function fi(e,t,i,o,a){var r=t.max,n=t.min,l=t.step,h=r-n,s=t.value,d=(i.x-o.x)/o.width*h+n,u=t.onChange,c=ja(t.comp,"value");if(d=Math.min(r,d),d=Math.max(n,d),l){var g=d%l;d=d-g+(Math.abs(g)>l/2)*(g<0?-l:l)}e.a(c,d),u&&u(s,d,e,a)}var vi=ht.Default.containsPoint,pi=(t(xi,bt),e(xi,[{key:"onDown",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);if(!n.disabled){var l=Ya(n.barRect,2),h=Za(i,t,this,o,e);vi(l,h)&&fi(t,n,h,n.barRect,i)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=Ya(n.sliderRect,2),h=n.showToolTip,s=n.toolTipFormat,d=ja(this,"value"),u=Za(i,t,this,o,e);if(vi(l,u)&&h){var c=t.a(d);c=Oa(c)?"0":c+"",Ba.show(s?s(c):c,e)}else this.dragging||Ba.hide()}},{key:"onEnter",value:function(e,t,i,o,a,r){Ma(i,t,this).disabled?Ha(i,"not-allowed"):Ha(i,"pointer")}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);Ha(i,"default"),n.dragging||Ba.hide()}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);if(!n.disabled){var l=Ya(n.sliderRect,2),h=Za(i,t,this,o,e);vi(l,h)&&(n.dragging=!0)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);if(n.dragging){var l=Za(i,t,this,o,e),h=n.barRect;fi(t,n,l,h,i);var s=n.showToolTip,d=n.toolTipFormat,u=n.value;s&&Ba.show(d?d(u):u,e)}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){delete Ma(i,t,this).dragging,Ba.hide()}}]),xi);function xi(){return l(this,xi),u(this,(xi.__proto__||Object.getPrototypeOf(xi)).call(this))}function bi(e,t,i,o,a,r){var n=t.max,l=t.min,h=t.step,s=n-l,d=(i.x-o.x)/o.width*s+l,u=t.value,c=u[0],g=u[1],f=ja(t.comp,"value"),v=t.onChange;if(d=Math.min(n,d),d=Math.max(l,d),h){var p=d%h;d=d-p+(Math.abs(p)>h/2)*(p<0?-h:h)}var x=null;if(t.dragging){var b=t.dragging;x=b<=d?[b,d]:[d,b]}else{var y=Math.abs(c-d);x=Math.abs(g-d)<=y?[c,d]:[d,g]}return r||e.a(f,x),v&&v(u,x,e,a),d}var yi=(t(mi,bt),e(mi,[{key:"onDown",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);if(!n.disabled){var l=Ya(n.barRect,2),h=n.valueBarRect,s=n.valueBarDraggable,d=Za(i,t,this,o,e);s&&ht.Default.containsPoint(h,d)||ht.Default.containsPoint(l,d)&&bi(t,n,d,n.barRect,i)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);if(n&&n.sliderRect&&n.sliderRect2){var l=Ya(n.sliderRect,2),h=Ya(n.sliderRect2,2),s=n.showToolTip,d=n.toolTipFormat,u=n.value,c=Za(i,t,this,o,e);ht.Default.containsPoint(l,c)&&s?Ba.show(d?d(u[0]):u[0],e):ht.Default.containsPoint(h,c)&&s?Ba.show(d?d(u[1]):u[1],e):this.dragging||Ba.hide()}}},{key:"onEnter",value:function(e,t,i,o,a,r){Ma(i,t,this).disabled?Ha(i,"not-allowed"):Ha(i,"pointer")}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);Ha(i,"default"),n.dragging||Ba.hide()}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);if(!n.disabled){Ya(n.barRect,2);var l=Ya(n.sliderRect,2),h=Ya(n.sliderRect2,2),s=Ya(n.valueBarRect,2),d=n.value,u=n.valueBarDraggable,c=Za(i,t,this,o,e);ht.Default.containsPoint(l,c)?n.dragging=d[1]:ht.Default.containsPoint(h,c)?n.dragging=d[0]:u&&ht.Default.containsPoint(s,c)&&(n.draggingValueBar=bi(t,n,c,n.barRect,i,!0))}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=n.showToolTip,h=n.toolTipFormat,s=n.barRect,d=Za(i,t,this,o,e);if(void 0!==n.dragging){var u=bi(t,n,d,s,i);l&&Ba.show(h?h(u):u,e)}else if(void 0!==n.draggingValueBar){var c=n.draggingValueBar,g=bi(t,n,d,s,i,!0),f=g-c,v=n.value,p=n.min,x=n.max,b=[v[0]+f,v[1]+f],y=ja(this,"value");if(b[0]<p?b=[p,p+(v[1]-v[0])]:b[1]>x&&(b=[x-(v[1]-v[0]),x]),n.draggingValueBar=g,t.a(y,b),l){var m=b.join(",");h&&(m=b.map(function(e){return h(e)}).join(", ")),Ba.show(m,e)}}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);delete n.dragging,delete n.draggingValueBar,Ba.hide()}}]),mi);function mi(){return l(this,mi),u(this,(mi.__proto__||Object.getPrototypeOf(mi)).call(this))}function wi(e,t){if(t&&0<t.length)for(var i=0;i<t.length;i++){var o=Te(t[i].rect,4),a=o[0],r=o[1],n=o[2],l=o[3];if(ht.Default.containsPoint({x:a,y:r,width:n,height:l},e))return t[i].value}}var Ci=(t(ki,bt),e(ki,[{key:"onDown",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=ja(this,"value");if(!n.disabled&&l){var h=void 0;if((h=n.dropDown)&&h.isOpened())h.close();else{var s=n.value,d=s?s.slice(0):null,u=n.valueItemInfo,c=wi(o,u);if(c&&s&&0<=s.indexOf(c)){var g=s.indexOf(c);s.splice(g,1);var f=s.slice(0);t.a(l,f),n.onChange&&n.onChange(d,f,t,i),Ha(i,"default"),this._hitValue=s}}}}},{key:"onUp",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);if(!n.disabled)if(this._hitValue)delete this._hitValue;else{var l=ja(this,"value");0<o.x&&o.x<a&&0<o.y&&o.y<r&&hi(t,i,n,l,!0)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);if(n.disabled)Ha(i,"not-allowed");else{var l=n.valueItemInfo;wi(o,l)?(this._oldCursor=i.getView().style.cursor,Ha(i,"pointer")):Ha(i,"default")}}},{key:"onEnter",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);n.disabled?Ha(i,"not-allowed"):Ha(i,"pointer"),n.disabled}},{key:"onLeave",value:function(e,t,i,o,a,r){Ha(i,"default")}}]),ki);function ki(){return l(this,ki),u(this,(ki.__proto__||Object.getPrototypeOf(ki)).call(this))}function Vi(e,t,i,o){if(e){var a=e.x,r=e.y,n=e.width,l=e.height,h=e.boundWidth,s=e.boundHeight,d=e.absoluteScrollBarWidth;if(l<s){var u=l/s;if(Di({x:a+n-d,y:r-i*u,width:d,height:l*u},o))return!0}if(n<h-2){var c=n/h;if(Di({x:a-t*c,y:r+l-d,width:n*c,height:d},o))return!0}return!1}return!1}var Di=ht.Default.containsPoint,Ti=(t(Ii,bt),e(Ii,[{key:"onDown",value:function(e,t,i,o,a,r){var n=Za(i,t,this,o,e),l=Ma(i,t,this),h=l.treeTableDataModel,s=l.scrollBarInfo,d=l.translateX,u=l.translateY,c=l.isScrollBarDragging,g=l.rectInfo;if(h)if(c)l.isScrollBarDragging=!1;else if(!Vi(s,d,u,n)&&g){var f=g.togglesRect,v=g.checksRect,p=g.visibleRowsRect,x=g.badgesRect,b=h.a("expandMode");if(h.onClickBadge(arguments,n,x))return;if(h.onClickCheck(arguments,n,v))return;var y=h.onClickToggle(arguments,n,"icon"===b?f:p);if("icon"===b&&y)return;if(h.onClickVisibleRow(arguments,n,p,l))return;h.onClickBack(arguments)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Za(i,t,this,o,e),l=Ma(i,t,this),h=l.treeTableDataModel,s=l.scrollBarInfo,d=l.translateX,u=l.translateY,c=l.isScrollBarDragging,g=l.rectInfo,f=l.preHoverNode;if(h&&!c)if(Vi(s,d,u,n))f&&(f.a("disabled")&&Ha(i,"default"),f.a("_isHovering",!1),t.iv());else if(g){var v=g.visibleRowsRect;h.onHoverRow(arguments,n,v,f,l)}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=n.preHoverNode;l&&(Ha(i,"default"),l.a("_isHovering",!1),delete n.preHoverNode,t.iv())}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=Za(i,t,this,o,e),l=Ma(i,t,this),h=l.scrollBarInfo,s=l.translateX,d=l.translateY;Vi(h,s,d,n)&&(l.isScrollBarDragging=!0),b.apply(this,arguments)}},{key:"onDrag",value:function(e,t,i,o,a,r){m.apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);n&&(n.isScrollBarDragging=!1),_.apply(this,arguments)}},{key:"onScroll",value:function(e,t,i,o,a,r){x.apply(this,arguments)}}]),Ii);function Ii(){return l(this,Ii),u(this,(Ii.__proto__||Object.getPrototypeOf(Ii)).call(this))}function _i(e,t,i,o){if(e){var a=e.x,r=e.y,n=e.width,l=e.height,h=e.boundWidth,s=e.boundHeight,d=e.absoluteScrollBarWidth;if(l<s){var u=l/s;if(Li({x:a+n-d,y:r-i*u,width:d,height:l*u},o))return!0}if(n<h-2){var c=n/h;if(Li({x:a-t*c,y:r+l-d,width:n*c,height:d},o))return!0}return!1}return!1}var Li=ht.Default.containsPoint,Ri=(t(Si,bt),e(Si,[{key:"onDown",value:function(e,t,i,o,a,r){var n=Za(i,t,this,o,e),l=Ma(i,t,this),h=l.treeTableDataModel,s=l.scrollBarInfo,d=l.translateX,u=l.translateY,c=l.isScrollBarDragging,g=l.rectInfo;if(h)if(c)l.isScrollBarDragging=!1;else if(!_i(s,d,u,n)&&g){var f=g.togglesRect,v=g.checksRect,p=g.visibleRowsRect;if(h.onClickHeadCell(arguments,n))return;if(h.onClickCheck(arguments,n,v))return;if(h.onClickToggle(arguments,n,f))return;if(h.onClickVisibleRow(arguments,n,p,l))return;h.onClickBack(arguments)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Za(i,t,this,o,e),l=Ma(i,t,this),h=l.treeTableDataModel,s=l.scrollBarInfo,d=l.translateX,u=l.translateY,c=l.isScrollBarDragging,g=l.rectInfo,f=l.preHoverNode;if(h&&!c)if(_i(s,d,u,n))f&&(f.a("disabled")&&Ha(i,"default"),f.a("_isHovering",!1),t.iv());else{if(g){var v=g.visibleRowsRect;h.onHoverRow(arguments,n,v,f,l)}var p=!1;if(h.a("headLineDraggable")){for(var x=h.a("columnLinesRect"),b=0,y=x.length;b<y;b++)if(Li(x[b],n)){Ha(i,"ew-resize"),p=!0;break}b===y&&Ha(i,"default")}h.a("headDraggable")&&!p&&Li(h.a("headRect"),n)&&Ha(i,"pointer")}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=n.preHoverNode;l&&(l.a("_isHovering",!1),delete n.preHoverNode,t.iv()),Ha(i,"default")}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=Za(i,t,this,o,e),l=Ma(i,t,this),h=l.treeTableDataModel,s=l.scrollBarInfo,d=l.translateX,u=l.translateY;if(_i(s,d,u,n)&&(l.isScrollBarDragging=!0),b.apply(this,arguments),h){if(h.a("headLineDraggable"))for(var c=h.a("columnLinesRect"),g=0,f=c.length;g<f;g++)if(Li(c[g],n))return l.dragColumnLineIndex=g,void(l.columnLineBegingDragX=n.x);if(h.a("headDraggable"))for(var v=h.a("columnsRect"),p=0,x=v.length;p<x;p++)if(Li(v[p],n))return l.dragStartColumnIndex=p,void(l.dragStartColumnBeginDragX=n.x)}}},{key:"onDrag",value:function(e,s,t,i,o,a){var d=Za(t,s,this,i,e),u=Ma(t,s,this),c=u.treeTableDataModel,r=u.dragColumnLineIndex,n=u.columnLineBegingDragX,g=u.dragStartColumnBeginDragX,l=u.dragStartColumnIndex;if(m.apply(this,arguments),c){if(c.a("headLineDraggable")){if(u._dragColumnLineTimer)return;u._dragColumnLineTimer=setTimeout(function(){void 0!==r&&(u.dragColumnLineDistance=d.x-n,s.iv()),delete u._dragColumnLineTimer},10)}if(void 0===r&&c.a("headDraggable")&&void 0!==l){if(u._dragColumnTimer)return;u._dragColumnTimer=setTimeout(function(){for(var e=c.a("columnsRect"),t=0,i=e.length;t<i;t++){var o=e[t];if(Li(o,d)){var a=o.x,r=o.y,n=o.width,l=o.height,h=c.a("columnLineWidth");d.x<a+n/2?(u.dragColumnLineRect={x:a-h,y:r,width:h,height:l},u.dragColumnDirection="left"):(u.dragColumnLineRect={x:a+n,y:r,width:h,height:l},u.dragColumnDirection="right"),u.dragEndColumnIndex=t,u.dragColumnDistance=d.x-g,s.iv();break}}delete u._dragColumnTimer},10)}}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=n.treeTableDataModel,h=n.dragColumnLineIndex,s=n.dragColumnLineDistance,d=(n.columnLineBegingDragX,n.dragStartColumnIndex),u=n.dragEndColumnIndex,c=n.dragColumnDirection;if(n&&(n.isScrollBarDragging=!1),_.apply(this,arguments),l){if(l.a("headLineDraggable")){var g=l.a("dragColumnsLineDiff")||{},f=l.a("colWidths"),v=l.a("defColWidths"),p=l.a("visibleColumns");void 0!==h&&void 0!==s&&(g[p[h].key]=f[h]-v[h],l.a("dragColumnsLineDiff",g))}if(void 0!==h)return delete n.dragColumnLineIndex,delete n.dragColumnLineDistance,void delete n.columnLineBegingDragX;if(l.a("headDraggable")&&void 0!==d&&void 0!==u){var x=!0;if(u-d==1&&"left"===c&&(x=!1),u-d==-1&&"right"===c&&(x=!1),d===u&&(x=!1),x){var b=l.a("dragColumnsQueue")||[];b.push([d,u]),l.a("dragColumnsQueue",b)}delete n.dragStartColumnIndex,delete n.dragEndColumnIndex,delete n.dragColumnLineRect,delete n.dragStartColumnBeginDragX,t.iv()}}}},{key:"onScroll",value:function(e,t,i,o,a,r){x.apply(this,arguments)}}]),Si);function Si(){return l(this,Si),u(this,(Si.__proto__||Object.getPrototypeOf(Si)).call(this))}var Pi=10,Ai=10;ht.Default.setCompType("htVectorChartTip",{width:50,height:50,func:function(u,e,t,i,o){var r=t.getValue("labelFont"),c=t.getValue("labelColor"),g=t.getValue("itemFont"),f=(t.getValue("itemColor"),t.getValue("itemIconSize")),a=t.getValue("info");if(a){ht.Default.isArray(a)||(a=[a]);var v=e.x,n=e.y,p=(e.width,e.height,0),x=0,b=n;a.forEach(function(e,t){var i=e.label,o=e.datas,d=e.colors;if(0<t&&(b+=8,p+=8),i){var a=pa(r,i);p+=a.height,x=a.width,ht.Default.drawText(u,i,r,c,v,b,a.width,a.height,"left"),b+=a.height+2}o.forEach(function(e,t){var i=Te(e,3),o=i[0],a=i[1],r=i[2],n=null!=o?o+"ï¼š"+a:a,l=pa(g,n);p+=l.height+2,x=Math.max(x,l.width+f+3);var h=v;if(!ht.Default.isEmptyObject(d)){var s=f/2;u.fillStyle=r||d[t],u.beginPath(),u.moveTo(s,b+s),u.arc(s,b+s,s,0,2*Math.PI),u.fill(),h+=3+f}ht.Default.drawText(u,n,g,c,h,b,l.width,l.height,"left"),b+=l.height+2})}),Ai=p,Pi=x}},properties:{labelFont:{valueType:"Font",defaultValue:"14px arial, sans-serif"},labelColor:{valueType:"Color",defaultValue:"rgb(247, 247, 247)"},itemFont:{valueType:"Font",defaultValue:"14px arial, sans-serif"},itemColor:{valueType:"Color",defaultValue:"rgb(247, 247, 247)"},itemIconSize:{valueType:"PositiveNumber",defaultValue:12},info:{valueType:"Object",defaultValue:{}}}}),ht.Default.setImage("htVectorChartTip",{width:50,height:50,fitSize:!0,pixelPerfect:!1,interactive:!0,boundExtend:2,comps:[{type:"htVectorChartTip",displayName:"htVectorChartTip",rect:[0,0,50,50],info:{func:"attr@info",value:{}},itemColor:{func:"attr@itemColor",value:"rgb(247, 247, 247)"}}]});var Mi,Bi=(Mi=ht.graph.GraphView,t(Ei,Mi),e(Ei,[{key:"setInfo",value:function(e){this._tipNode.a("info",e),this.getWidth()===Pi&&this.getHeight()===Ai||(this._tipNode.setWidth(Pi),this._tipNode.setHeight(Ai),this.setWidth(Pi),this.setHeight(Ai),this.fitContent(!1,0))}},{key:"setAttr",value:function(e){this._tipNode.a(e)}}]),Ei);function Ei(){l(this,Ei);var e=u(this,(Ei.__proto__||Object.getPrototypeOf(Ei)).call(this));e.getView().style.position="relative";var t=e._tipNode=new ht.Node;return t.setImage("htVectorChartTip"),e.dm().add(t),e.setWidth(Pi),e.setHeight(Ai),e}var Oi=new Bi,Wi=(t(Hi,bt),e(Hi,[{key:"onDown",value:function(e,t,i,o,a,r){}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=n.ui,h=n.option;if(h&&l&&(n._moveTimer&&clearTimeout(n._moveTimer),h&&h.tooltip.show&&!n._dragging)){var s=l.interactiveInfo,d=l.bounds.bodyRect,u=s.axisInfos,c=Za(i,t,this,o,e),g=h.tooltip.formatter;if(ir(d,c)&&u.length){for(var f=l.valueAxis===A?c.y:c.x,v=void 0,p=1/0,x=u[0],b=0;b<x.length;b++){var y=Math.abs(x[b].position-f);y<p&&(p=y,v=b)}if(x[v]){var m=[],w=l.seriesColors.slice(0);u.forEach(function(e){var t=e[v];m.push({label:t.label,datas:t.series,colors:w.splice(0,t.series.length)})}),m=Ka(m),g&&g(m,t,i),Oi.setInfo(m),Ba.show(Oi.getView(),e)}n.hoverIndex!==v&&(n.hoverIndex=v,t.iv())}else delete n.hoverIndex,t.iv(),Ba.hide()}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);void 0!==n.hoverIndex&&(delete n.hoverIndex,t.iv(),Ba.hide())}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=Aa(i,t,this,e),l=Ma(i,t,this),h=l.option,s=l.ui;if(l&&h.onRectSelected){void 0!==l.hoverIndex&&(delete l.hoverIndex,t.iv(),Ba.hide());var d=s.bounds.bodyRect,u={x:o.x+n.rect.x,y:o.y+n.rect.y};ir(d,u)&&(l._dragging=!0,l.rectPoint1=u)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=Aa(i,t,this,e),l=Ma(i,t,this);if(l&&l._dragging){var h=l.ui.bounds.bodyRect,s={x:o.x+n.rect.x,y:o.y+n.rect.y};l.rectPoint2=hr(h,s),t.iv()}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);if(n&&n._dragging){var c=n.ui,l=n.option,h=c.rectPoint1,s=c.rectPoint2,d=c.valueAxis,u=l.xAxis,g=l.yAxis,f=or(h,s);delete n._dragging,delete n.rectPoint1,delete n.rectPoint2,t.iv();var v={x:[],y:[]};u.forEach(function(e){var t=e.type,i=[];if(v.x.push(i),p===t){var o=c.interactiveInfo;o.axisInfos&&o.axisInfos.length&&o.axisInfos[0].forEach(function(e,t){e.position>f.x&e.position<f.x+f.width&&i.push(t)})}else if(M===t){var a=e._axisObj.timeRange;if(a){var r=Te(a,2),n=r[0],l=r[1],h=l-n,s=c.bounds.bodyRect,d=Math.floor((f.x-s.x)/s.width*h+n),u=Math.floor((f.x-s.x+f.width)/s.width*h+n);d=Math.max(d,n),u=Math.min(u,l),i.push(d),i.push(u)}}}),g.forEach(function(e){e.type;var t=[];if(v.y.push(t),K===d){var i=Te(e._axisObj.valueRange,2),o=i[0],a=i[1],r=a-o,n=c.bounds.bodyRect,l=(n.height-f.height-f.y+n.y)/n.height*r+o,h=(n.height-f.y+n.y)/n.height*r+o;l=Math.max(l,o),h=Math.min(h,a),t.push(l),t.push(h)}}),l.onRectSelected(v,t,i)}}}]),Hi);function Hi(){return l(this,Hi),u(this,(Hi.__proto__||Object.getPrototypeOf(Hi)).call(this))}var Fi=(t(ji,_t),e(ji,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);if(!n.disabled){var l=ja(this,"value");0<o.x&&o.x<a&&0<o.y&&o.y<r&&function(e,t,i,o){var a=i.dropDown;a||(e.getFormat=function(){return e.a(f.FORMAT)},a=new Xt(e,t,i,o),i.dropDown=a),a.open()}(t,i,n,"a@"+l)}}}]),ji);function ji(){return l(this,ji),u(this,(ji.__proto__||Object.getPrototypeOf(ji)).call(this))}function Ni(e,t){for(var i=0;i<e.length;i++){var o=e[i],a=o.rect,r=o.index;if(ht.Default.containsPoint(a,t))return r}}var zi=(t(Yi,bt),e(Yi,[{key:"onEnter",value:function(e,t,i,o,a,r){var n="pointer";Ma(i,t,this).disabled&&(n="not-allowed"),Ha(i,n)}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);Ha(i,"default"),n.hoverIndex=null,t.iv()}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=n.buttonRects,h=(n.values,n.disabled),s=Za(i,t,this,o,e),d=null;h||(l&&(d=Ni(l,s)),d!==n.hoverIndex&&(n.hoverIndex=d,t.iv()))}},{key:"onDown",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=n.buttonRects,h=n.values,s=n.disabled,d=n.onChange,u=Za(i,t,this,o,e),c=ja(this,"value"),g=null;if(!s&&c){l&&(g=Ni(l,u));var f=Oa(g)?null:h[g],v=t.a(c);f!==v&&(t.a(c,f),d&&d(v,f,t,i))}}}]),Yi);function Yi(){return l(this,Yi),u(this,(Yi.__proto__||Object.getPrototypeOf(Yi)).apply(this,arguments))}var Gi=Math.PI,Xi=Math.pow,Ui=Math.sin,Zi={swing:function(e){return-Math.cos(e*Gi)/2+.5},easeNone:function(e){return e},easeIn:function(e){return e*e},easeOut:function(e){return(2-e)*e},easeBoth:function(e){return(e*=2)<1?.5*e*e:.5*(1- --e*(e-2))},easeInStrong:function(e){return e*e*e*e},easeOutStrong:function(e){return 1- --e*e*e*e},easeBothStrong:function(e){return(e*=2)<1?.5*e*e*e*e:.5*(2-(e-=2)*e*e*e)},elasticIn:function(e){return 0===e||1===e?e:-Xi(2,10*(e-=1))*Ui(2*Gi*(e-.075)/.3)},elasticOut:function(e){return 0===e||1===e?e:Xi(2,-10*e)*Ui(2*Gi*(e-.075)/.3)+1},elasticBoth:function(e){return 0===e||1===e?e:e<1?Xi(2,10*(e-=1))*Ui(2*Gi*(e-.1125)/.45)*-.5:Xi(2,-10*(e-=1))*Ui(2*Gi*(e-.1125)/.45)*.5+1},backIn:function(e){if(1===e)return e;return e*e*(2.70158*e-1.70158)},backOut:function(e){return(e-=1)*e*(2.70158*e+1.70158)+1},backBoth:function(e){var t=1.70158;return(e*=2)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},bounceIn:function(e){return 1-Easing.bounceOut(1-e)},bounceOut:function(e){var t=7.5625;return e<1/2.75?t*e*e:e<2/2.75?t*(e-=1.5/2.75)*e+.75:e<2.5/2.75?t*(e-=2.25/2.75)*e+.9375:t*(e-=2.625/2.75)*e+.984375},bounceBoth:function(e){return e<.5?.5*Easing.bounceIn(2*e):.5*Easing.bounceOut(2*e-1)+.5}},Ki=(t(Ji,bt),e(Ji,[{key:"onDown",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=Za(i,t,this,o,e),h=n.itemInfos,s=n.index,d=n.animation,u=n.onClickItem,c=n.dataSource,g=void 0;if(h&&h.length)for(var f=0;f<h.length;f++){var v=h[f];if(ir(v.rect,l)){g=v.index;break}}if(Qa(g)&&s!==g){var p=ja(this,"index");if(p)if(d){n._animationObj&&n._animationObj.stop();var x=g-s;n._animationObj=ht.Default.startAnim({frames:30,interval:16,easing:Zi.easeOut,finishFunc:function(){delete n._animationObj},action:function(e){t.a(p,s+x*e)}})}else t.a(p,g)}Qa(g)&&u&&u(c[g],g,t,i)}},{key:"onEnter",value:function(e,t,i,o,a,r){}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=Za(i,t,this,o,e),h=n.itemInfos,s=!1;if(h&&h.length)for(var d=0;d<h.length;d++){var u=h[d];if(ir(u.rect,l)){s=!0;break}}Ha(i,s?"pointer":"default")}},{key:"onLeave",value:function(e,t,i,o,a,r){}},{key:"onScroll",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=n.scrollable,h=n.index,s=n.dataSource,d=0<e.scrollDelta?1:-1;if(l){var u=s.length,c=ja(this,"index"),g=h+d;0<=g&&g<u&&t.a(c,g)}}}]),Ji);function Ji(){return l(this,Ji),u(this,(Ji.__proto__||Object.getPrototypeOf(Ji)).apply(this,arguments))}var qi=(t(Qi,bt),e(Qi,[{key:"onDown",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=Za(i,t,this,o,e),h=n.itemInfos,s=n.index,d=n.animation,u=n.onClickItem,c=n.dataSource,g=void 0;if(h&&h.length)for(var f=0;f<h.length;f++){var v=h[f];if(ir(v.rect,l)){g=v.index;break}}if(Qa(g)&&s!==g){var p=ja(this,"index");if(p)if(d){n._animationObj&&n._animationObj.stop();var x=g-s;n._animationObj=ht.Default.startAnim({frames:30,interval:16,easing:Zi.easeOut,finishFunc:function(){delete n._animationObj},action:function(e){t.a(p,s+x*e)}})}else t.a(p,g)}Qa(g)&&u&&u(c[g],g,t,i)}},{key:"onEnter",value:function(e,t,i,o,a,r){}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=Za(i,t,this,o,e),h=n.itemInfos,s=!1;if(h&&h.length)for(var d=0;d<h.length;d++){var u=h[d];if(ir(u.rect,l)){s=!0;break}}Ha(i,s?"pointer":"default")}},{key:"onLeave",value:function(e,t,i,o,a,r){}},{key:"onScroll",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=n.scrollable,h=n.index,s=n.dataSource,d=0<e.scrollDelta?1:-1;if(l){var u=s.length,c=ja(this,"index"),g=h+d;0<=g&&g<u&&t.a(c,g)}}}]),Qi);function Qi(){return l(this,Qi),u(this,(Qi.__proto__||Object.getPrototypeOf(Qi)).apply(this,arguments))}function $i(n,e){var l=n.xAxis.map(function(e){return e._axisObj.boundHeight}),h=n.yAxis.map(function(e){return e._axisObj.boundWidth}),t=2,s=e.leftAxis=[],d=e.rightAxis=[],u=e.topAxis=[],c=e.bottomAxis=[],g=0,i=0,f=0,o=0;n.xAxis.forEach(function(e,t){e.show&&(e._axisObj.position===se?(f+=l[t],u.push(t)):(o+=l[t],c.push(t)))}),n.yAxis.forEach(function(e,t){e.show&&(e._axisObj.position===xe?(i+=h[t],d.push(t)):(g+=h[t],s.push(t)))}),n.yAxis.forEach(function(e){t=Math.max(t,2+e._axisObj.labelHeight)}),f<t&&(f=t),o<t&&(o=t);var a=e.contentRect,v=0,p=0;if(e.valueAxis===K&&n.xAxis.forEach(function(e){if(e.axisLabel.show&&e.data){var t=pa(e.axisLabel.font,e.data[0]),i=t.width/2;p<i&&(p=i),t=pa(e.axisLabel.font,e.data[e.data.length-1]),v=Math.max(t.width/2,v)}else if(e.axisLabel.show&&e.type===M){var o=e._axisObj.formatter;if("string"==typeof o){var a=o;o=function(e){return lr(new Date(e),a)}}var r=pa(e.axisLabel.font,o?o(Date.now()):"e"),n=r.width/2;p<n&&(p=n),v=Math.max(r.width/2,v)}}),g<p){var r=p-g;h[0]+=r,g=p}var x,b=a.x,y=a.y,m=a.width,w=a.height,C=[],k=[],V=b,D=y,T=m-g-i,I=w-f-o;i<v&&(T=T-v+i),T=Math.max(0,T),I=Math.max(0,I),D=y+f,h.forEach(function(e,t){if(n.yAxis[t]._axisObj.position===xe){for(var i=0,o=d.indexOf(t);0<o;)i+=h[d[--o]];C.push({x:b+g+T+i,y:D,width:e,height:I})}else{for(var a=0,r=s.indexOf(t);0<r;)a+=h[s[--r]];C.push({x:V+a,y:D,width:e,height:I})}}),V=b+g,D=y,l.forEach(function(e,t){if(n.xAxis[t]._axisObj.position===se){for(var i=0,o=u.indexOf(t);0<o;)i+=l[u[--o]];k.push({x:V,y:D+i,width:T,height:e})}else{for(var a=0,r=c.indexOf(t);0<r;)a+=l[c[--r]];k.push({x:V,y:D+I+f+a,width:T,height:e})}}),x={x:b+g,y:y+f,width:Math.max(0,T),height:Math.max(0,I)},e.bounds={xAxisRects:k,yAxisRects:C,bodyRect:x}}function eo(o,a,e){return(o=ro(o)?o.slice(0):[o]).forEach(function(e,t){var i=no(a);Wa(i,e),o[t]=i}),o}function to(e,t,i,o,a,r){var n=t.max,l=t.min,h=t.step,s=n-l,d=(i.x-o.x)/o.width*s+l,u=t.value,c=u[0],g=u[1];if(d=Math.min(n,d),d=Math.max(l,d),h){var f=d%h;d=d-f+(Math.abs(f)>h/2)*(f<0?-h:h)}var v=null;if(Qa(a))v=a<=d?[a,d]:[d,a];else{var p=Math.abs(c-d);v=Math.abs(g-d)<=p?[c,d]:[d,g]}return!r&&e&&e(v),d}function io(e,t,i,o,a,r){var n=t.max,l=t.min,h=t.step,s=n-l,d=(o.height-(i.y-o.y))/o.height*s+l,u=t.value,c=u[0],g=u[1];if(d=Math.min(n,d),d=Math.max(l,d),h){var f=d%h;d=d-f+(Math.abs(f)>h/2)*(f<0?-h:h)}var v=null;if(Qa(a))v=a<=d?[a,d]:[d,a];else{var p=Math.abs(c-d);v=Math.abs(g-d)<=p?[c,d]:[d,g]}return!r&&e&&e(v),d}function oo(e,t,i,o,a){var r=t-e,n=i.x,l=i.y,h=i.width,s=i.height,d=a?l:n,u=a?s:h;return(u-((a?o.y:o.x)-d))/u*r+e}var ao=ht.Default,ro=ao.isArray,no=ao.clone,lo=new Bi,ho=(t(so,bt),e(so,[{key:"onMove",value:function(e,t,i,o,a,r){Aa(i,t,this,e);var n=Ma(i,t,this),l=n.ui,h=n.option;if(l&&h&&h.tooltip.show){var s=h.tooltip;if(n._dragging||n.dragging)return delete n.hoverTime,delete n.hoverPositionX,t.iv(),void Ba.hide();n._moveTimer&&clearTimeout(n._moveTimer);var d,u=Za(i,t,this,o,e),c=h.xAxis[0]._axisObj.zoomTimeRange,g=l.xAxisDataZoom,f=l.yAxisDataZoom,v=g?g.slider:null,p=f?f.slider:null;if(c&&h.series){var x=l.seriesDatas,b=l.bounds.bodyRect,y=b.x,m=(b.y,c[0]),w=c[1],C={},k=[];if(d=h.series.map(function(e){return e.name}),ir(b,u)){for(var V in x.forEach(function(e,i){e&&e.forEach(function(e){if(!(e[0]<m||e[0]>w)){var t=C[e[0]];(t=t||(C[e[0]]={time:e[0],series:[]})).series.push([d[i],e[1]])}})}),C)k.push(C[V]);if(k.sort(function(e,t){return e.time>t.time?1:-1}),k.length){var D=Math.floor((u.x-y)/b.width*(w-m)+m),T=function(e,t){var i=t.length;if(1===i)return t[0];for(var o=void 0,a=void 0,r=void 0;1!==i;){var n=Math.floor(i/2),l=t[n],h=l.time;if(e===h)return l;if(r=Math.abs(e-h),Qa(o)&&a<r){for(var s=1/0,d=void 0,u=0;u<t.length;u++){var c=t[u],g=Math.abs(e-c.time);g<s&&(d=c,s=g)}return s<a&&d?d:o}i=(t=h<e?t.slice(Math.min(i-1,n+1)):t.slice(0,n)).length,o=l,a=r}var f=t[0];return a<(r=Math.abs(f.time-e))?o:f}(D,k);if(T){var I=h.xAxis[0]._axisObj.formatter;if("string"==typeof I){var _=I;I=function(e){return lr(new Date(e),_)}}var L=I(T.time),R=l.seriesColors.slice(0),S=[{label:L,datas:T.series,colors:R.splice(0,T.series.length)}];S=Ka(S),s.formatter&&s.formatter(S,T.time,t,i),lo.setInfo(S),D=T.time,n.hoverTime!==D&&(n.hoverTime=D,t.iv()),Ba.show(lo.getView(),e)}}if(v||p){var P=n.sliderInfo={info:[],body:!0};return v&&P.info.push({axis:A,info:v}),void(p&&P.info.push({axis:K,info:p}))}}else{if(delete n.hoverTime,t.iv(),Ba.hide(),v&&(ir(Ya(v.sliderRect,3),u)||ir(Ya(v.sliderRect2,3),u)||ir(v.valueBarRect,u)))return Ha(i,"ew-resize"),void(n.sliderInfo={axis:A,info:v});if(p&&(ir(Ya(p.sliderRect,3),u)||ir(Ya(p.sliderRect2,3),u)||ir(p.valueBarRect,u)))return Ha(i,"ns-resize"),void(n.sliderInfo={axis:K,info:p});delete n.sliderInfo,Ha(i,"default")}}}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);void 0!==n.hoverTime&&(delete n.hoverTime,t.iv(),Ba.hide())}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=Aa(i,t,this,e),l=Ma(i,t,this),h=l.option,s=l.ui,d=l.sliderInfo;if(l&&h.onRectSelected){void 0!==l.hoverIndex&&(delete l.hoverIndex,t.iv(),Ba.hide());var u=s.bounds.bodyRect,c={x:o.x+n.rect.x,y:o.y+n.rect.y};if(ir(u,c))return l._dragging=!0,void(l.rectPoint1=c)}if(d){var g=d.info,f=g.sliderRect,v=g.sliderRect2,p=g.valueBarRect,x=g.value,b=g.barRect,y=Za(i,t,this,o,e);l.dragging=!0,console.log(d),d.body?d.info.forEach(function(e){e.draggingValue=oo(e.info.value[0],e.info.value[1],e.info.barRect,y,e.axis===K)}):ir(Ya(f,3),y)?d.fixed=x[1]:ir(Ya(v,3),y)?d.fixed=x[0]:ir(p,y)&&(A===d.axis?d.draggingValue=to(null,d.info,y,b,null,!0):d.draggingValue=io(null,d.info,y,b,null,!0))}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=Aa(i,t,this,e),l=Ma(i,t,this);if(l&&l._dragging){var h=l.ui.bounds.bodyRect,s={x:o.x+n.rect.x,y:o.y+n.rect.y};l.rectPoint2=hr(h,s),l._drawTimer&&clearTimeout(l._drawTimer),l._drawTimer=setTimeout(function(){t.iv(),delete l._drawTimer},2)}var d=l.sliderInfo,u=l.option;if(l.dragging&&d){var c=d.info,g=c.barRect,f=c.setter,v=Za(i,t,this,o,e),p=d.axis===A?to:io,x=void 0;if(x=A===d.axis?u.xAxis[0]._axisObj.formatter:u.yAxis[0].axisLabel?u.yAxis[0].axisLabel.formatter:null,Qa(d.fixed)){var b=p(f,d.info,v,g,d.fixed);Ba.show(x?x(b):b,e)}else if(Qa(d.draggingValue)){var y=d.draggingValue,m=p(null,d.info,v,g,null,!0)-y,w=d.info.value,C=d.info.min,k=d.info.max,V=[w[0]+m,w[1]+m];V[0]<C?V=[C,C+(w[1]-w[0])]:V[1]>k&&(V=[k-(w[1]-w[0]),k]),f(V);var D=V.join(",");x&&(D=V.map(function(e){return x(e)}).join(", ")),Ba.show(D,e)}else d.body&&d.info.forEach(function(e){var t=e.info,i=t.barRect,o=t.setter,a=t.min,r=t.max,n=e.info.value,l=e.draggingValue,h=oo(n[0],n[1],i,v,e.axis===K)-l;e.axis===K&&(h=-h);var s=e.info.value,d=[s[0]+h,s[1]+h];console.log(),d[0]<a?d=[a,a+(s[1]-s[0])]:d[1]>r&&(d=[r-(s[1]-s[0]),r]),o(d)});t.iv()}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);if(n&&(delete n.sliderInfo,delete n.dragging,Ba.hide(),n._dragging)){var d=n.ui,l=n.option,h=d.rectPoint1,s=d.rectPoint2,u=d.valueAxis,c=l.xAxis,g=l.yAxis,f=or(h,s);delete n._dragging,delete n.rectPoint1,delete n.rectPoint2,t.iv();var v={x:[],y:[]};c.forEach(function(e){e.type;var t=[];v.x.push(t);var i=e._axisObj.timeRange;if(i){var o=Te(i,2),a=o[0],r=o[1],n=r-a,l=d.bounds.bodyRect,h=Math.floor((f.x-l.x)/l.width*n+a),s=Math.floor((f.x-l.x+f.width)/l.width*n+a);h=Math.max(h,a),s=Math.min(s,r),t.push(h),t.push(s)}}),g.forEach(function(e){var t=[];if(v.y.push(t),K===u){var i=Te(e._axisObj.valueRange,2),o=i[0],a=i[1],r=a-o,n=d.bounds.bodyRect,l=(n.height-f.height-f.y+n.y)/n.height*r+o,h=(n.height-f.y+n.y)/n.height*r+o;l=Math.max(l,o),h=Math.min(h,a),t.push(l),t.push(h)}}),l.onRectSelected(v,t,i)}}},{key:"onDown",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=n.ui,h=n.option;if(l&&h&&!n.dragging){var s=l.xAxisDataZoom,d=l.yAxisDataZoom,u=Za(i,t,this,o,e),c=s?s.slider:null,g=d?d.slider:null;c&&ir(c.barRect,u)&&!n.sliderInfo&&(to(c.setter,c,u,c.barRect),t.iv()),g&&ir(g.barRect,u)&&!n.sliderInfo&&(io(g.setter,g,u,g.barRect),t.iv())}}},{key:"onScroll",value:function(e,t,i,o,a,r){!function(s,e,t,i,o){var a=Ma(t,e,i),r=a.ui,n=a.option,l=r.bounds.bodyRect,h=Za(t,e,i,o,s);if(r&&n&&ir(l,h)){var d=r.xAxisDataZoom,u=r.yAxisDataZoom,c=d?d.slider:null,g=u?u.slider:null,f=!1;return[c,g].forEach(function(e){if(e){var t=e.value,i=e.zoomIncrement,o=e.min,a=e.max,r=e.setter,n=(a-o)*i*(0<s.scrollDelta?1:-1),l=Math.max(o,t[0]-n),h=Math.min(a,t[1]+n);if(h<=l&&(l=h-1),Math.abs(h-l)<Math.abs(n))return;r([l,h]),f=!0}}),f}}(e,t,i,this,o)||(delete Ma(i,t,this).hoverTime,t.iv())}}]),so);function so(){return l(this,so),u(this,(so.__proto__||Object.getPrototypeOf(so)).call(this))}var uo=(t(co,bt),e(co,[{key:"onMove",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=n.hoverIndex;if(n.tipShow){var h,s=void 0,d=t._div;if(!d){var u=(d=t._div=document.createElement("div")).style;u.boxSizing="border-box",u.position="absolute",u.background="rgba(0,0,0,0.3)",u.margin=0,u.padding="8px",u.borderRadius="5px",u.color="#fff",u.pointerEvents="none"}if(h=n.tipInfoList){for(var c=0;c<h.length;c++)if(ir(h[c],o)){var g=ht.Default.getClientPoint(e),f=g.x+10,v=g.y-40;d.style.left=f+"px",d.style.top=v+"px",s=c;break}if(l!==s&&(n.hoverIndex=s,t.iv()),void 0===s)d.parentNode&&d.parentNode.removeChild(d);else if(d.parentNode||document.body.appendChild(d),s!==l){var p=n.tipInfoList[s];p.name,p.text&&(p.name,p.text),t._div.innerHTML=p.text?p.name+":"+p.text:p.name}}}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=ht.vector.getVectorInfo(i,t,this);if(n.tipShow){void 0!==n.hoverIndex&&(n.hoverIndex=void 0,t.iv());var l=t._div;l.parentNode&&l.parentNode.removeChild(l)}}}]),co);function co(){return l(this,co),u(this,(co.__proto__||Object.getPrototypeOf(co)).call(this))}function go(e,t){for(var i=0;i<e.length;i++)if(ir(e[i].rect,t))return e[i]}var fo=[ye,me,ke,Ve,we,Ce],vo=(t(po,bt),e(po,[{key:"onMove",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=Za(i,t,this,o,e);if(n.itemList){var h=go(n.itemList,l);Ha(i,h?h.isDisabled?"not-allowed":"pointer":"default");var s=h?h.label:void 0;n.hoverLabel!==s&&(n.hoverLabel=s,t.iv())}}},{key:"onDown",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=Za(i,t,this,o,e);if(n.itemList){var h=go(n.itemList,l),s=h?h.label:void 0,d=ja(this,"current"),u=n.onChange,c=n.totalPage,g=t.a(d),f=s;!h||h&&h.isDisabled||(0<=fo.indexOf(f)&&(f=f===ye?g-1:f===me?g+1:f===ke?1:f===we?Math.max(1,g-5):f===Ce?Math.min(c,g+5):n.itemList.length),g!==f&&(t.a(d,f),u&&u(g,f,t,i)))}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);Ha(i,"default"),n.hoverLabel&&(delete n.hoverLabel,t.iv())}}]),po);function po(){return l(this,po),u(this,(po.__proto__||Object.getPrototypeOf(po)).call(this))}var xo=(t(bo,bt),e(bo,[{key:"onBeginDrag",value:function(e,t,i,o,a,r){b.apply(this,arguments)}},{key:"onDrag",value:function(e,t,i,o,a,r){m.apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,i,o,a,r){_.apply(this,arguments)}},{key:"onScroll",value:function(e,t,i,o,a,r){x.apply(this,arguments)}}]),bo);function bo(){return l(this,bo),u(this,(bo.__proto__||Object.getPrototypeOf(bo)).call(this))}var yo=ht.Default.setImage;yo("ht.vector.date",{width:16,height:16,comps:[{type:"roundRect",borderColor:"#ffffff",cornerRadius:1,rect:[1.5,6.54942,12.94,8]},{type:"shape",borderWidth:1,borderColor:"#ffffff",borderCap:"round",closePath:!0,points:[1.5,2.4523,14.44,2.4523,14.44,2.4523,14.44,2.4523,14.44,14.54942,14.44,14.54942,14.44,14.54942,1.5,14.54942,1.5,14.54942,1.5,14.54942,1.5,2.4523,1.5,2.4523,1.5,2.4523,1.5,2.4523],segments:[1,2,3,2,3,2,3,2,3,2]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[4.46,1,4.46,4]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[11.5,1,11.5,4]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52013,9.50677,7.00013,9.50677,9.00013,9.50677,12.50756,9.50677],segments:[1,2,1,2]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52,12.52535,12.50756,12.52535]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52013,6.54942,7.00013,6.54942,9.00013,6.54942,12.50756,6.54942],segments:[1,2,1,2]}]}),yo("ht.vector.dropDownIcon",{width:18,height:10,comps:[{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",points:[1,1,9,9,17,1]}]}),yo("ht.vector.treeOpenIcon",{width:10,height:10,attachStyle:"close",blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",borderColor:"rgb(0,0,0)",closePath:!0,points:[0,0,10,5,0,10]}]}),yo("ht.vector.treeCloseIcon",{width:10,height:10,attachStyle:"close",blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",borderColor:"rgb(0,0,0)",closePath:!0,points:[0,0,10,0,5,10]}]}),yo("ht.vector.treeDefIcon",{width:22,height:16,blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[19.46829,3.58619,19.46829,1.10347,7.80392,1.10347,6.77294,0,0,0,0,16,19.46157,16,22,3.58619,19.46829,3.58619,6.04692,1.12664,7.07791,2.23011,18.26449,2.23011,18.26449,3.59706,2.82065,3.59706,1.12837,10.10776,1.12837,1.12664,6.04692,1.12664,18.43055,14.74166,1.12837,14.74166,1.12837,14.63244,3.68405,4.67291,20.5368,4.67291,18.43055,14.74166],segments:[1,2,2,2,2,2,2,2,2,5,1,2,2,2,2,2,2,2,5,1,2,2,2,2,2,5]}]}),yo("ht.vector.treeLoadIcon",{width:32,height:32,blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[16.5125,32,7.69062,32,.5125,24.82187,.5125,16,.5125,7.17813,7.6875,0,16.5125,0,20.60625,0,24.5,1.54375,27.48125,4.35,27.84688,4.69375,27.8625,5.26563,27.51875,5.63125,27.175,5.99375,26.60313,6.0125,26.2375,5.66875,23.59375,3.18125,20.14063,1.8125,16.5125,1.8125,8.6875,1.8125,2.325,8.17812,2.325,16,2.325,23.82187,8.69062,30.1875,16.5125,30.1875,22.40937,30.1875,27.60312,26.6375,29.74063,21.14063,29.92188,20.675,30.44688,20.44063,30.9125,20.625,31.37813,20.80625,31.60938,21.33125,31.42813,21.79688,29.01563,27.99687,23.1625,32,16.5125,32],segments:[1,4,4,4,4,4,4,4,4,4,4,4,4,5]}]}),yo("ht.vector.treeCheckIcon",{dataBindings:[],width:160,height:160,attachStyle:"close",blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[139.3,.47663,20.5,.47663,9.52832,.47663,.5,9.50496,.5,20.47663,.5,139.57663,.5,150.54831,9.52832,159.57663,20.5,159.57663,139.5,159.57663,150.47168,159.57663,159.5,150.54831,159.5,139.57663,159.5,20.37663,159.47367,15.05689,157.32589,9.96152,153.53619,6.22809,149.74648,2.49467,144.61954,.42337,139.3,.47663,133.1,47.37663,61.3,119.57663,60.37719,120.51835,59.11835,121.05785,57.8,121.07663,56.41253,121.11208,55.0711,120.56825,54.1,119.57663,26.4,88.27663,24.93292,87.00925,24.32978,84.99815,24.85726,83.13258,25.38474,81.26701,26.95166,79.86949,28.86517,79.55795,30.77868,79.24642,32.70799,80.07473,33.8,81.67663,57.9,108.57663,126.1,40.37663,127.27177,38.81427,129.2561,38.07551,131.1643,38.49122,133.07249,38.90692,134.56971,40.40414,134.98541,42.31234,135.40112,44.22053,134.66236,46.20486,133.1,47.37663],segments:[1,2,4,2,4,2,4,2,4,4,5,1,2,4,4,2,4,4,4,2,2,4,4,4,5]}]}),yo("ht.vector.treeUnCheckIcon",{width:160,height:160,blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[130,5,30,5,16.25,5,5,16.25,5,30,5,130,5,143.75,16.25,155,30,155,130,155,143.75,155,155,143.75,155,130,155,30,155,16.25,143.75,5,130,5,142.5,130,142.5,136.875,136.875,142.5,130,142.5,30,142.5,23.125,142.5,17.5,136.875,17.5,130,17.5,30,17.5,23.125,23.125,17.5,30,17.5,130,17.5,136.875,17.5,142.5,23.125,142.5,30,142.5,130],segments:[1,2,4,2,4,2,4,2,4,5,1,4,2,4,2,4,2,4,2,5]}]}),yo("ht.vector.treeUnCheckAllIcon",{width:160,height:160,blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[158.11523,31.17188,158.11523,128.82813,158.11523,136.89453,155.24414,143.80859,149.52148,149.53125,143.79883,155.25391,136.9043,158.125,128.81836,158.125,31.18164,158.125,23.11523,158.125,16.20117,155.25391,10.47852,149.53125,4.75586,143.80859,1.88477,136.91406,1.88477,128.82813,1.88477,31.17188,1.88477,23.10547,4.75586,16.19141,10.47852,10.46875,16.20117,4.74609,23.0957,1.875,31.18164,1.875,128.83789,1.875,136.9043,1.875,143.81836,4.74609,149.54102,10.46875,155.24414,16.19141,158.11523,23.10547,158.11523,31.17188,132.06055,86.52344,132.06055,73.49609,132.06055,71.73828,131.41602,70.19531,130.12695,68.92578,128.83789,67.63672,127.29492,66.99219,125.55664,66.99219,34.42383,66.99219,32.66602,66.99219,31.12305,67.63672,29.85352,68.92578,28.56445,70.21484,27.91992,71.75781,27.91992,73.49609,27.91992,86.52344,27.91992,88.28125,28.56445,89.82422,29.85352,91.09375,31.14258,92.38281,32.64648,93.02734,34.42383,93.02734,125.55664,93.02734,127.31445,93.02734,128.85742,92.38281,130.12695,91.09375,131.41602,89.78516,132.06055,88.26172,132.06055,86.52344],segments:[1,2,4,4,2,4,4,2,4,4,2,4,4,5,1,2,4,4,2,4,4,2,4,4,2,4,4,5]}]}),yo("ht.vector.pagination.previous",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",points:[28,17,18,25,28,33]}]}),yo("ht.vector.pagination.next",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:3.14159,points:[32,17,22,25,32,33]}]}),yo("ht.vector.pagination.first",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:0,points:[35,17,25,25,35,33]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:0,points:[29,17,19,25,29,33]}]}),yo("ht.vector.pagination.last",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:3.14159,points:[29,17,19,25,29,33]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:3.14159,points:[35,17,25,25,35,33]}]}),yo("ht.vector.pagination.ellipsis",{modified:"Mon Aug 26 2019 15:46:29 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)",background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"oval",background:"rgb(255,255,255)",borderColor:"#979797",rect:[12.18756,23,4,4]},{type:"oval",background:"rgb(255,255,255)",borderColor:"#979797",rect:[23,23,4,4]},{type:"oval",background:"rgb(255,255,255)",borderColor:"#979797",rect:[33.81244,23,4,4]}]});var mo=(e(wo,[{key:"show",value:function(e,t){"number"==typeof e&&(e+=""),"string"==typeof e?this._container.innerHTML=e:(this._container.innerHTML="",this._container.appendChild(e)),document.body.appendChild(this._container),this.update(t)}},{key:"update",value:function(e){var t=this._container.getBoundingClientRect(),i=ht.Default.getWindowInfo(),o=this._container.style,a=(e.clientX||e.pageX)+8,r=(e.clientY||e.pageY)+8;o.pointerEvents="none",a=Math.max(0,a),r=Math.max(0,r),a+t.width>i.width&&(a=i.width-t.width),r+t.height>i.height&&(r=i.height-t.height),this._container.style.left=a+"px",this._container.style.top=r+"px"}},{key:"hide",value:function(){this._container.parentNode===document.body&&document.body.removeChild(this._container)}}]),wo);function wo(){l(this,wo),(this._container=document.createElement("div")).className="ht-vector-tooltip"}var Co=function(o,e,t,i,a){var r=a.seriesDatas[t],n=e.name,l=e.itemStyle||{},h=e.lineStyle||{},s=e.areaStyle||{},d=a.bounds,u=(d.xAxisRects,d.yAxisRects,d.bodyRect),c=u.x,g=u.y,f=u.width,v=u.height,p=Fa(i.color,t),x=i.xAxis[e.xAxisIndex||0],b=i.yAxis[e.yAxisIndex||0],y=(x._axisObj.unitWidth,b._axisObj.valueRange),m=a.hoverIndex,w=y[0],C=y[1]-w,k=x._axisObj.axisInfos,V=e.smooth,D=void 0,T=void 0;if(r&&r.length&&k){var I=[],_=a.interactiveInfo.axisInfos[a.valueAxis===K?e.xAxisIndex||0:e.yAxisIndex||0];if(r.forEach(function(e,t){if(k[t]){var i={x:k[t].position,y:g+v*(1-Math.abs(e-w)/C)};I.push(i),_[t].series.push([n,e,h.color||p,i.x,i.y])}}),T=I.slice(0),V&&2<=I.length){var L=sr(I,"number"==typeof V?V:void 0);I=L.points,D=L.segments}if(o.save(),o.beginPath(),o.rect(c,g,f,v),o.clip(),s.color){var R=I[0],S=I[I.length-1],P=g+v*(1-Math.abs(0-w)/C);P=Math.min(g+v,Math.max(P,g)),$a(o,I,D),o.lineTo(S.x,P),o.lineTo(R.x,P),o.closePath(),o.fillStyle=fr(o,s.color,u),o.fill()}var A=h.color||p;o.lineWidth=h.width||2,o.strokeStyle=fr(o,A),a.seriesColors.push(A),h.pattern&&o.setLineDash(h.pattern),$a(o,I,D),o.stroke(),o.restore();var M=l.size||0,B=l.activeSize||3;M||1!==I.length||(M=1);var E=l.background,O=void 0===E?A:E,W=l.borderWidth,H=void 0===W?1:W,F=l.borderColor,j=void 0===F?A:F;if(M&&(o.beginPath(),T.forEach(function(e,t){var i=m===t?B:M;i&&(o.moveTo(e.x,e.y),o.arc(e.x,e.y,i,0,2*Math.PI))}),H&&j&&(o.lineWidth=H,o.strokeStyle=j,o.stroke()),O&&(o.fillStyle=O,o.fill())),void 0!==m&&B){var N=l.activeBackground,z=void 0===N?O:N,Y=l.activeBorderColor,G=void 0===Y?j:Y,X=l.activeBorderWidth,U=void 0===X?H:X;a._hoverHandlers||(a._hoverHandlers=[]);var Z=T[m];if(!Z)return;a._hoverHandlers.push(function(){o.beginPath(),o.moveTo(Z.x,Z.y),o.arc(Z.x,Z.y,B,0,2*Math.PI),z&&(o.fillStyle=z,o.fill()),U&&G&&(o.lineWidth=U,o.strokeStyle=G,o.stroke())})}}},ko=function(n,e,t,l,i){var o=i.seriesDatas[t],a=e.name,r=(e.itemStyle,i.bounds),h=(r.xAxisRects,r.yAxisRects,r.bodyRect),s=(h.x,h.y),d=(h.width,h.height),u=e.color||Fa(l.color,t),c=l.xAxis[e.xAxisIndex||0],g=l.yAxis[e.yAxisIndex||0],f=c._axisObj.unitWidth,v=g._axisObj.valueRange,p=(i.hoverIndex,v[0]),x=v[1]-p,b=c._axisObj.axisInfos,y=e.shadow,m=e.barWidth||.8,w=i.barSeries,C=w.length,k=w.indexOf(e),V=i.barCategoryGap||0,D=(f-2*(1<=V?V:f*V))/C,T=e.drawBar,I=i.view&&i.view.getZoom?i.view.getZoom():1;if(m<1&&(m*=D),o&&o.length&&b){var _=[],L=i.interactiveInfo.axisInfos[i.valueAxis===K?e.xAxisIndex||0:e.yAxisIndex||0];o.forEach(function(e,t){var i=void 0;if(i="function"==typeof u?u(e,t,Fa(l.color,t)):u,b[t]){var o={x:b[t].position,y:s+(1-e/x)*d};L[t].series.push([a,e,i,o.x,o.y]),_.push({x:o.x-f/2+D*k+(D-m)/2+V,y:o.y,width:m,height:(e-p)/x*d})}}),i.seriesColors.push(Fa(l.color,t)),n.save(),_.forEach(function(a,e){var r=void 0;r=fr(n,"function"==typeof u?u(o[e],e,Fa(l.color,e)):u,a);function t(){if(n.fillStyle=r,y){var e=y.color||ht.Default.darker(r),t=y.opacity;if(Qa(t)){var i=ur(e),o=i.splice(3,1)[0]||255;e="rgba("+i.join(",")+","+o/255*t+")"}n.shadowColor=e,n.shadowBlur=y.blur||0,n.shadowOffsetX=(y.offsetX||0)*I,n.shadowOffsetY=(y.offsetY||0)*I}n.fillRect(a.x,a.y,a.width,a.height)}T?T(n,o[e],a,{defaultDraw:t,color:r,data:i.data,view:i.view}):t()}),n.restore()}};var Vo={show:!0,type:"value",splitNumber:5,axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!0,color:"#cccccc",width:1}},Do={show:!0,type:"category",data:[],axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!1,color:"#cccccc",width:1}},To=["rgb(51,153,255)","rgb(93,217,174)","#FEB64D","rgb(241,125,164)","rgb(135,144,204)","rgb(124,145,155)","rgb(48,242,120)","rgb(212,0,0)","#32D3EB","#c4ccd3"],Io=(e(_o,[{key:"initTimeAxis",value:function(){var o=this,e=this.series,a=[];if(e.forEach(function(e,t){var i=o.ui.seriesDatas[t];i&&(a=a.concat(i))}),a.length){var t=[];a.forEach(function(e){Ja(e)&&t.push(e[0])}),t.sort(function(e,t){return t<e?1:-1});var i=this.timeRange=[t[0],t[t.length-1]],r=this.axisOption.axisLabel.formatter;if(!r){var n=this.adjustTimeFormatString(this.timeRange);r=function(e){return lr(new Date(e),n)}}this.formatter=r;var l=this.getDataZoomOption();if(l&&t.length){var h=i[0],s=i[1],d=this.zoomTimeRange=[Qa(l.min)?Math.max(h,l.min):h,Qa(l.max)?Math.min(s,l.max):s];d[1]-d[0]==0&&(d[0]===h?d[1]+=1:d[0]-=1),d.push(this.getUnitFromMaxAndMin(d[1],d[0])||1)}else this.zoomTimeRange=this.timeRange}}},{key:"getBoundWidth",value:function(){}},{key:"getBoundHeight",value:function(){}},{key:"getAxisValues",value:function(){var h=this,e=this.series,s=this.seriesIndexs,d=[];e.forEach(function(e,t){var i=h.ui.seriesDatas[s[t]];if(i)if(Ja(i))d=d.concat(i);else if(qa(i)){for(var o=i.x,a=i.y,r=Math.min(o.length,a.length),n=[],l=0;l<r;l++)n.push([0,a[l]]);d=d.concat(n)}});var t=[];return d.forEach(function(e){Ja(e)?t.push(e[1]):t.push(parseFloat(e))}),t}},{key:"getMaxValueBound",value:function(){var e=this.axisOption,t=this.getAxisValues();this.valueRange||this.caluValueRange(t);var i=Te(this.valueRange,2),o=i[0],a=i[1],r=o.toString().length>a.toString().length?o:a,n=e.axisLabel.formatter;return n&&(r=n(r)),nr(e.axisLabel.font,r,e.axisLabel.rotate)}},{key:"caluValueRange",value:function(e){var t=this.axisOption,i=t.max,o=t.min,a=void 0,r=t.splitNumber||5,n=Math.max.apply(this,e),l=Math.min.apply(this,e);n<0&&(n=0);var h=n,s=l,d=l<0?n-l:n;if(Qa(o)&&Qa(i))a=(i-o)/r;else if(Qa(i)&&i/r%1==0){var u=Qa(o)?o:s;Oa(o)&&0<s&&(u=0),a=(i-(Qa(u)?u:s))/r}else if(1<n||n<=0){for(var c=1,g=d/c;100<=parseInt(g);)g=d/(c*=10);for(g=Math.ceil(g)*c;g%r!=0||g/r%c!=0;)g+=c;a=(n=g)/r}else a=n/r;if(a=a||1,Oa(o))if(0<=l)o=0;else{for(var f=0;l<f;)f-=a;l=f}if(Oa(i))for(i=n+(l<0?l:0);i<h;)i+=a;Oa(o)&&(o=l),o||i||(a=i=1),this.valueRange=[o,i,a];var v=this.getDataZoomOption();if(v&&e.length){var p=this.zoomValueRange=[Qa(v.min)?Math.max(o,v.min):o,Qa(v.max)?Math.min(i,v.max):i];p[1]-p[0]==0&&(p[0]===o?p[1]+=a/1e3:p[0]-=a/1e3),p.push(this.getUnitFromMaxAndMin(p[1],p[0])||1)}else this.zoomValueRange=this.valueRange}},{key:"getUnitFromMaxAndMin",value:function(e,t,i){for(var o=2<arguments.length&&void 0!==i?i:5,a=e-t,r=1,n=a/r;100<=parseInt(n);)n=a/(r*=10);for(n=Math.ceil(n)*r;n%o!=0||n/o%r!=0;)n+=r;return n/o}},{key:"caluValueRange2",value:function(e){var t,i,o=this.axisOption,a=o.max,r=o.min;o.splitNumber,i=Math.min(this,e),t=Math.max(this,e),Oa(r)&&Oa(a)?t<0?a=0:0<i?(r=0,valueMax):(valueMax,valueMin):Oa(r)&&Qa(a)||Qa(r)&&Oa(a),this.valueRange=[r,a,void 0]}},{key:"adjustTimeFormatString",value:function(e){e.sort(function(e,t){return t<e?1:-1});var t=e[0],i=e[e.length-1]-t;return i<18e5?"mm:ss":i<1728e5?"HH:mm":"YYYY-MM-DD"}},{key:"getDataZoomOption",value:function(){return this.axisOption.dataZoom}},{key:"getValuesByValueRange",value:function(e){var t=Te(this.zoomValueRange,3),i=t[0],o=t[1],a=t[2],r=[],n=0;if(0<=i){for(r.push(i);n<o;)i<=n&&r.push(n),n+=a;r.push(o)}else if(o<=0){for(r.push(o);i<n;)n<=o&&r.unshift(n),n-=a;r.unshift(i)}else{for(;n<o;)r.push(n),n+=a;for(r.push(o),n=0;i<n;)r.unshift(n),n-=a;r.unshift(i)}var l=r.length;if(3<l){var h=e?.4:.6,s=r[0],d=r[1];(r[l-1]-r[l-2])/a<h&&r.splice(l-2,1),(d-s)/a<h&&r.splice(1,1)}return r}}]),_o);function _o(e,t,i){l(this,_o),this.option=t,this.axisOption=e,this.ui=i,this.series=[],this.seriesIndexs=[],this.axisInfos=[],this.data=Xa(e.data,i.data,i.view)}var Lo=(t(Ro,Io),e(Ro,[{key:"getTimeAxisTimes",value:function(){var o=this,e=this.series,a=[];e.forEach(function(e,t){var i=o.ui.seriesDatas[t];i&&(a=a.concat(i))});var t=[];return a.forEach(function(e){Ja(e)?t.push(e[0]):t.push(parseFloat(e))}),t.sort(function(e,t){return t<e?1:-1}),t}},{key:"getBoundHeight",value:function(){var e=this.axisOption;if(!e.show)return 2;var t=e.axisLabel.rotate,i=e.axisTick.show?e.axisTick.length:0,o=this.getDataZoomOption(),a=0;if(o&&!1!==o.sliderVisible&&(a+=18),this.isValueAxis)return a+2;var r=e.data,n=Y;return r&&(e.type===M?(this.getTimeAxisTimes(),n=this.formatter(Date.now())):e.type===p&&r.forEach(function(e){e.toString().length>n.length&&(n=e)})),t?(t=Math.max(-45,t),t=Math.min(45,t),a+nr(e.axisLabel.font,n,t).height+4+i):a+pa(e.axisLabel.font,Y).height+4+i}},{key:"draw",value:function(a){var o=this,e=this.ui,t=this.axisOption,i=t.type===M,r=this.axisIndex,n=e.bounds.xAxisRects[r],l=e.boundaryGap,h=n.x,s=n.y,d=n.width,u=n.height,c=this.data||[],g=this.formatter||t.axisLabel.formatter,f=(t.axisLabel.interval,this.timeRange),v=void 0;if(!1!==t.show&&t.axisLine.show&&(a.strokeStyle=t.axisLine.color,a.lineWidth=t.axisLine.width,a.beginPath(),this.position===se?(a.moveTo(h,s+u),a.lineTo(h+d,s+u)):(a.moveTo(h,s),a.lineTo(h+d,s)),a.stroke()),t.type===M){if(c=[],this.series.forEach(function(e,t){var i=o.ui.seriesDatas[t];i&&i.length>c.length&&(c=i.map(function(e){return e[0]}))}),!(f&&f[0]&&f[1]))return;v=f[1]-f[0]}var p=0,x=0,b=1,y=void 0;if(1<c.length?x=p=l?(b=1,d/(c.length-1+b)):(b=1,d/(c.length-1)):p=d/2,c&&c.length&&(this.unitWidth=p,y=1===c.length?this.axisInfos=[{position:h+p,label:g?g(c[0]):c[0]}]:this.axisInfos=c.map(function(e,t){return{position:(i?h+(e-f[0])/v*d:h+t*p)+l*p/2,label:g?g(e):e}}),!1!==t.show&&(t.axisLabel.show||t.axisTick.show))){var m=t.axisLabel.font,w=t.axisLabel.color,C=t.axisLabel.align,k=t.axisTick.length,V=this.position===se?s:s+2+(t.axisTick.show?t.axisTick.length:0),D=0,T=[];if(c.forEach(function(e){g&&(e=g(e));var t=pa(m,e);T.push(t),D+=t.width}),D>n.width&&!r&&(b=Math.ceil(D/n.width)),t.axisTick.show&&k){var I=Qa(t.axisTick.interval)?t.axisTick.interval:b;0===I&&(I=1),a.strokeStyle=t.axisTick.color,a.beginPath(),c.forEach(function(e,t){if(t%I==0){var i=h+t*x;o.position===se?(a.moveTo(i,s+u),a.lineTo(i,s+u-k)):(a.moveTo(i,s),a.lineTo(i,s+k))}}),a.stroke()}if(t.axisLabel.show){var _=Qa(t.axisLabel.interval)?t.axisLabel.interval:b;0===_&&(_=1),c.forEach(function(e,t){if(t%_==0){var i=T[t],o=y[t].position;Oa(e)&&(e=""),g&&(e=g(e)),l?ht.Default.drawText(a,e.toString(),m,w,o-p/2,V,p,i.height,"center"):ht.Default.drawText(a,e.toString(),m,w,o-i.width/2,V,i.width,i.height,C)}})}if(a.save(),t.splitLine.show){var L=Qa(t.splitLine.interval)?t.splitLine.interval:b;0===L&&(L=1);var R=e.bounds.bodyRect,S=R.x,P=R.y,A=(R.width,R.height);a.strokeStyle=t.splitLine.color,a.lineWidth=t.splitLine.width||1,t.splitLine.pattern&&a.setLineDash(t.splitLine.pattern),a.beginPath(),c.forEach(function(e,t){if(t%L==0){var i=S+t*x;a.moveTo(i,P),a.lineTo(i,P+A)}}),a.stroke()}a.restore()}}}]),Ro);function Ro(e,t,i){l(this,Ro);var o=u(this,(Ro.__proto__||Object.getPrototypeOf(Ro)).call(this,e,t,i));return o.axisIndex=t.xAxis.indexOf(e),o.isValueAxis=i.valueAxis===A,o.position=e.position||(o.axisIndex?se:de),t.series.forEach(function(e){(e.xAxisIndex||0)===o.axisIndex&&o.series.push(e)}),o.boundHeight=o.getBoundHeight(),e.type===M&&o.initTimeAxis(),o}var So=(t(Po,Io),e(Po,[{key:"getLabelHeight",value:function(){return this.getMaxValueBound().height}},{key:"getBoundWidth",value:function(){var e=this.axisOption,t=this.getMaxValueBound(),i=e.axisTick.show?e.axisTick.length:0,o=0,a=this.getDataZoomOption();return a&&!1!==a.sliderVisible&&(o+=18),this.isValueAxis?o+t.width+i+4:o+50}},{key:"draw",value:function(o){var i=this,a=this.ui,e=this.axisOption,t=this.axisIndex,r=a.bounds.yAxisRects[t];if(!1!==e.show){var n=this.getDataZoomOption(),l=this.zoomValueRange,h=void 0;n&&(h={x:r.x,y:r.y,width:18,height:r.height},this.drawSlider(o,h),r={x:r.x+18,y:r.y,width:r.width-18,height:r.height});var s=r,d=s.x,u=s.y,c=s.width,g=s.height;if(e.axisLine.show&&(o.strokeStyle=e.axisLine.color,o.lineWidth=e.axisLine.width,o.beginPath(),this.position===xe?(o.moveTo(d,u),o.lineTo(d,u+g)):(o.moveTo(d+c,u),o.lineTo(d+c,u+g)),o.stroke()),e.axisLabel.show){var f=Te(l,3),v=f[0],p=f[1],x=(f[2],p-v),b=this.getValuesByValueRange(!0),y=0;e.axisTick.show&&(y=e.axisTick.length)&&(o.strokeStyle=e.axisTick.color,o.beginPath(),b.forEach(function(e){var t=u+g*(1-(e-v)/x);i.position===xe?(o.moveTo(d,t),o.lineTo(d+y,t)):(o.moveTo(d+c,t),o.lineTo(d+c-y,t))}),o.stroke());var m=c-2-(e.axisTick.show?y:0),w=e.axisLabel.font,C=e.axisLabel.color,k="auto"===e.axisLabel.align?this.position===be?xe:be:e.axisLabel.align,V=e.axisLabel.formatter,D=pa(w,Y),T=d+(this.position===xe?y:0);if(b.forEach(function(e){var t=u+g*(1-(e-v)/x)-D.height/2;"function"==typeof V&&(e=V(e)),ht.Default.drawText(o,e.toString(),w,C,T,t,m,D.height,k)}),o.save(),e.splitLine.show){var I=a.bounds.bodyRect,_=I.x,L=I.y,R=I.width,S=I.height;o.strokeStyle=e.splitLine.color,o.lineWidth=e.splitLine.width||1,e.splitLine.pattern&&o.setLineDash(e.splitLine.pattern),o.beginPath(),b.forEach(function(e,t){if(!(0===t&&a.bottomAxis.length||t===b.length-1&&a.topAxis.length)){var i=L+S*(1-(e-v)/x);o.moveTo(_,i),o.lineTo(_+R,i)}}),o.stroke()}o.restore()}}}},{key:"drawSlider",value:function(e,t){var i=this,o=t.x,a=(t.y,t.width),r=t.height,n=Te(this.valueRange,2),l=n[0],h=n[1],s=this.getDataZoomOption(),d=this.getDataZoomOption(),u=d.barBackground,c=void 0===u?"#eee":u,g=d.barValueBackground,f=void 0===g?"rgb(51,153,255)":g,v=d.barWidth,p=void 0===v?Math.min(12,a):v,x=d.barBorderRadius,b=void 0===x?0:x,y=d.min,m=void 0===y?l:y,w=d.max,C=void 0===w?h:w,k=d.sliderOffsetX,V=void 0===k?0:k,D=d.sliderOffsetY,T=void 0===D?0:D,I=d.sliderWidth,_=void 0===I?14:I,L=d.sliderHeight,R=void 0===L?5:L,S=d.sliderBackground,P=void 0===S?"#32D3EB":S,A=d.sliderBorderColor,M=void 0===A?"#32D3EB":A,B=d.sliderBorderWidth,E=void 0===B?1:B,O=d.sliderBorderRadius,W=void 0===O?0:O,H=d.sliderImage,F=d.sliderVisible,j=d.zoomIncrement,N=void 0===j?.05:j,z=h-l;m=Math.max(l,m),C=Math.min(h,C),h<m&&(m=h),C<l&&(C=l);var Y=Ka(t);Y.x=o+(a-p)/2,Y.width=p;var G=Ka(Y);G.height*=(C-m)/z,G.y+=(h-C)/z*r;var X=Y.x+(p-_)/2+V,U=G.y+G.height-R/2+T,Z=G.y-R/2+T;!1!==F&&(Ua(e,Y,c,b),Ua(e,G,f,b),H?(drawImage(e,ht.Default.getImage(H),X,U,_,R),drawImage(e,ht.Default.getImage(H),X,Z,_,R)):(W<1&&(W*=Math.min(_,R)),e.beginPath(),tr(e,X,U,_,R,W),e.closePath(),e.fillStyle=P,e.fill(),E&&(e.lineWidth=E,e.strokeStyle=M,e.stroke()),e.beginPath(),tr(e,X,Z,_,R,W),e.closePath(),e.fillStyle=P,e.fill(),E&&(e.lineWidth=E,e.strokeStyle=M,e.stroke()))),this.ui.yAxisDataZoom={slider:{dataZoom:s,rect:t,barRect:Y,zoomIncrement:N,min:l,max:h,value:[m,C],setter:function(e){var t=i.ui.originalOption.yAxis[0].dataZoom;e[0]===l?delete t.min:t.min=e[0],e[1]===h?delete t.max:t.max=e[1]},valueBarRect:G,sliderRect:{x:X,y:U,width:_,height:R},sliderRect2:{x:X,y:Z,width:_,height:R}}}}}]),Po);function Po(e,t,i){l(this,Po);var o=u(this,(Po.__proto__||Object.getPrototypeOf(Po)).call(this,e,t,i));return o.axisIndex=t.yAxis.indexOf(e),o.isValueAxis=i.valueAxis===K,o.position=e.position||(o.axisIndex?xe:be),t.series.forEach(function(e,t){(e.yAxisIndex||0)===o.axisIndex&&(o.series.push(e),o.seriesIndexs.push(t))}),o.labelHeight=o.getLabelHeight(),o.boundWidth=o.getBoundWidth(),e.type===M&&o.initTimeAxis(),o}var Ao=ht.Default,Mo=Ao.clone,Bo=Ao.unionPoint;var Eo={show:!0,type:"time",axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!1,color:"#cccccc",width:1}},Oo=(t(Wo,Lo),e(Wo,[{key:"draw",value:function(e){var t=this.ui,i=this.axisOption,o=this.axisIndex,a=t.bounds.xAxisRects[o],r=a,n=r.x,l=r.y,h=r.width,s=r.height,d=this.getTimeAxisTimes(),u=this.formatter||i.axisLabel.formatter,c=this.zoomTimeRange,g=this.getDataZoomOption(),f=void 0,v=void 0;if(i.show){if(g&&(v={x:a.x,y:a.y+a.height-18,width:a.width,height:18},this.drawSlider(e,v),a={x:a.x,y:a.y,width:a.width,height:a.height-18}),"string"==typeof u){var p=u;u=function(e){return lr(new Date(e),p)}}if(i.axisLine.show&&(e.strokeStyle=i.axisLine.color,e.lineWidth=i.axisLine.width,e.beginPath(),this.position===se?(e.moveTo(n,l+s),e.lineTo(n+h,l+s)):(e.moveTo(n,l),e.lineTo(n+h,l)),e.stroke()),d&&d.length){var x=pa(u(Date.now()),i.axisLabel.font);if(c&&c[0]&&c[1]){var b=0,y=0;if(f=c[1]-c[0]){var m=Math.max(Math.floor((h+2)/(x.width+10))-2,1);b=h/m,y=f/m}else b=h/2;if(b&&(this.unitWidth=b,i.axisLabel.show||i.axisTick.show)){var w=i.axisLabel.font,C=i.axisLabel.color,k=i.axisLabel.align,V=i.axisTick.length,D=this.position===se?l:l+2+(i.axisTick.show?i.axisTick.length:0);if(i.axisTick.show&&V){e.strokeStyle=i.axisTick.color,e.beginPath();var T=n;if(f)for(;T<=n+h+2;)e.moveTo(T,l),e.lineTo(T,l+V),T+=b;else e.moveTo(T+h/2,l),e.lineTo(T+h/2,l+V);e.stroke()}if(i.axisLabel.show){var I=n,_=c[0];if(f)for(;I<=n+h+2;)ht.Default.drawText(e,u(_),w,C,I-x.width/2,D,x.width,x.height,k),I+=b,_+=y;else ht.Default.drawText(e,u(_),w,C,I+h/2-x.width/2,D,x.width,x.height,k)}if(e.save(),i.splitLine.show){var L=Qa(i.splitLine.interval)?i.splitLine.interval:1;0===L&&(L=1);var R=t.bounds.bodyRect,S=R.x,P=R.y,A=R.width,M=R.height;e.strokeStyle=i.splitLine.color,e.lineWidth=i.splitLine.width||1,i.splitLine.pattern&&e.setLineDash(i.splitLine.pattern),e.beginPath();var B=S;if(c[0],f)for(;B<=S+A+2;)0%L==0&&(e.moveTo(B,P),e.lineTo(B,P+M)),B+=b;else{var E=B+A/2;e.moveTo(E,P),e.lineTo(E,P+M)}e.stroke()}e.restore()}}}}}},{key:"drawSlider",value:function(e,t){var i=this,o=(t.x,t.y),a=t.width,r=t.height,n=Te(this.timeRange,2),l=n[0],h=n[1],s=this.getDataZoomOption(),d=s.barBackground,u=void 0===d?"#eee":d,c=s.barValueBackground,g=void 0===c?"rgb(51,153,255)":c,f=s.barWidth,v=void 0===f?Math.min(12,a):f,p=s.barBorderRadius,x=void 0===p?0:p,b=s.min,y=void 0===b?l:b,m=s.max,w=void 0===m?h:m,C=s.sliderOffsetX,k=void 0===C?0:C,V=s.sliderOffsetY,D=void 0===V?0:V,T=s.sliderWidth,I=void 0===T?5:T,_=s.sliderHeight,L=void 0===_?14:_,R=s.sliderBackground,S=void 0===R?"#32D3EB":R,P=s.sliderBorderColor,A=void 0===P?"#32D3EB":P,M=s.sliderBorderWidth,B=void 0===M?1:M,E=s.sliderBorderRadius,O=void 0===E?0:E,W=s.sliderImage,H=s.sliderVisible,F=s.zoomIncrement,j=void 0===F?.05:F,N=h-l;y=Math.max(l,y),w=Math.min(h,w),h<y&&(y=h),w<l&&(w=l);var z=Ka(t);z.y=o+(r-v)/2,z.height=v;var Y=Ka(z);Y.width*=(w-y)/N,Y.x+=(y-l)/N*a;var G=Y.x-I/2+k,X=Y.x+Y.width-I/2+k,U=Y.y+(v-L)/2+D;!1!==H&&(Ua(e,z,u,x),Ua(e,Y,g,x),W?(rr(e,ht.Default.getImage(W),G,U),rr(e,ht.Default.getImage(W),X,U)):(O<1&&(O*=Math.min(I,L)),e.beginPath(),tr(e,G,U,I,L,O),e.closePath(),e.fillStyle=S,e.fill(),B&&(e.lineWidth=B,e.strokeStyle=A,e.stroke()),e.beginPath(),tr(e,X,U,I,L,O),e.closePath(),e.fillStyle=S,e.fill(),B&&(e.lineWidth=B,e.strokeStyle=A,e.stroke()))),this.ui.xAxisDataZoom={slider:{dataZoom:s,rect:t,barRect:z,valueBarRect:Y,zoomIncrement:j,min:l,max:h,step:1,value:[y,w],setter:function(e){var t=i.ui.originalOption.xAxis[0].dataZoom;e[0]===l?delete t.min:t.min=e[0],e[1]===h?delete t.max:t.max=e[1]},sliderRect:{x:G,y:U,width:I,height:L},sliderRect2:{x:X,y:U,width:I,height:L}}}}}]),Wo);function Wo(e,t,i){return l(this,Wo),u(this,(Wo.__proto__||Object.getPrototypeOf(Wo)).call(this,e,t,i))}var Ho=function(i,e,t,o,a){var r=a.seriesDatas[t],n=o.xAxis[e.xAxisIndex||0]._axisObj.zoomTimeRange;if(r&&r.length){var l=function(e,t,i,o){var a=e.slice(0);if(o){for(var r=o[0],n=o[1],l=void 0,h=void 0,s=0;s<a.length;s++)if(a[s][0]>=r){l=s;break}for(var d=a.length-1;0<=d;d--)if(a[d][0]<=n){h=d+1;break}a=a.slice(l,h)}if(!t)return a;var u=[],c=a.length;if(i){if(c<=i)return a;Array.prototype.push.apply(u,a.splice(c-i,i))}var g=[];if(!(t<(c=a.length)))return i&&a.push.apply(a,u),a;var f=2*(c/t|0);if(f<3)return i&&a.push.apply(a,u),a;for(var v=0;v<c;v+=f){for(var p=a.slice(v,Math.min(v+f,c)),x=p.length,b=p[0],y=p[0],m=1;m<x;m++){var w=p[m];w[1]<y[1]&&(y=w),w[1]>b[1]&&(b=w)}b[0]>y[0]?(g.push(y),g.push(b)):(g.push(b),g.push(y))}return u=g.concat(u)}(r,a.maxVisiblePoint,a.endProtectPoint,n),h=(e.name,e.itemStyle||{}),s=e.lineStyle||{},d=e.areaStyle||{},u=a.bounds.bodyRect,c=u.x,g=u.y,f=u.width,v=u.height,p=Fa(o.color,t),x=o.yAxis[e.yAxisIndex||0]._axisObj.zoomValueRange,b=x[0],y=x[1]-b,m=n[0],w=n[1]-m,C=e.smooth,k=[],V=void 0,D=void 0;if(l.forEach(function(e){var t=e[0],i=e[1],o={x:c+f*((t-m)/w),y:g+v*(1-(i-b)/y)};k.push(o)}),D=k.slice(0),C&&2<=k.length){var T=sr(k,"number"==typeof C?C:void 0);k=T.points,V=T.segments}if(i.save(),i.beginPath(),i.rect(c,g,f,v),i.clip(),d.color&&1<k.length){var I=k[0],_=k[k.length-1];$a(i,k,V),i.lineTo(_.x,g+v),i.lineTo(I.x,g+v),i.closePath(),i.fillStyle=fr(i,d.color,u),i.fill()}var L=s.color||p;i.lineWidth=s.width||2,i.strokeStyle=fr(i,L),a.seriesColors.push(L),s.pattern&&i.setLineDash(s.pattern),$a(i,k,V),i.stroke(),i.restore();var R=h.size||0,S=h.activeSize||3;R||1!==k.length||(R=1);var P=h.background,A=void 0===P?L:P,M=h.borderWidth,B=void 0===M?1:M,E=h.borderColor,O=void 0===E?L:E;if(R){i.beginPath();var W=R;D.forEach(function(e,t){W&&ir(u,e)&&(i.moveTo(e.x+W,e.y),i.arc(e.x,e.y,W,0,2*Math.PI))}),i.closePath(),A&&(i.fillStyle=A,i.fill()),B&&O&&(i.lineWidth=B,i.strokeStyle=O,i.stroke())}if(a.hoverTime&&S){var H=h.activeBackground,F=void 0===H?A:H,j=h.activeBorderColor,N=void 0===j?O:j,z=h.activeBorderWidth,Y=void 0===z?B:z;a._hoverHandlers||(a._hoverHandlers=[]);for(var G=void 0,X=0;X<l.length;X++)if(l[X][0]===a.hoverTime){G=D[X];break}if(!G)return;a._hoverHandlers.push(function(){i.beginPath(),i.moveTo(G.x,G.y),i.arc(G.x,G.y,S,0,2*Math.PI),F&&(i.fillStyle=F,i.fill()),Y&&N&&(i.lineWidth=Y,i.strokeStyle=N,i.stroke())})}}};var Fo=function(o,e,a,t,i){var r=i.seriesDatas[a],n=e.name,l=e.itemStyle||{},h=e.lineStyle||{},s=(e.areaStyle,i.bounds),d=(s.xAxisRects,s.yAxisRects,s.bodyRect),u=d.x,c=d.y,g=d.width,f=d.height,v=Fa(t.color,a),p=t.xAxis[e.xAxisIndex||0],x=t.yAxis[e.yAxisIndex||0]._axisObj.zoomValueRange,b=x[0],y=x[1]-b,m=p._axisObj.zoomValueRange,w=m[0],C=m[1]-w,k=e.smooth,V=void 0,D=i.hitSeriesIndex,T=i.hitPointIndex,I=t.clipMode;if(!Ja(r)&&qa(r)){var _=r.x||[],L=r.y||[],R=_.length>L;r=[],(R?_:L).forEach(function(e,t){R?r.push([e,L[t]]):r.push([_[t],e])})}if(r&&r.length){var S=[],P=[],A=[],M=void 0;if(r.forEach(function(e,t){var i=Te(e,2),o=i[0],a=i[1],r={x:u+g*((o-w)/C),y:c+f*(1-(a-b)/y)};if(I)S.push(r),A.push(t?2:1),P.push(e);else if(ir(d,r)){S.push(r),P.push(e);var n=M?2:1;A.push(n),M=n}else M=null}),i.pointsInfo[a]={values:P,name:n,points:S},V=S.slice(0),k&&2<=S.length){var B="number"==typeof k?k:void 0,E=[],O=void 0;A.forEach(function(e,t){1===e&&(O=[],E.push(O)),O.push(S[t])}),S=[],A=[],E.forEach(function(e){var t=sr(e,B);S=S.concat(t.points),A=A.concat(t.segments)})}o.save(),o.beginPath(),o.rect(u,c,g,f),o.clip();var W=h.color||v;o.lineWidth=h.width||2,o.strokeStyle=fr(o,W),i.seriesColors.push(W),h.pattern&&o.setLineDash(h.pattern),$a(o,S,A),o.stroke(),o.restore();var H=l.size||2,F=l.activeSize||4;H||1!==S.length||(H=1);var j=l.background,N=void 0===j?W:j,z=l.borderWidth,Y=void 0===z?1:z,G=l.borderColor,X=void 0===G?W:G;H&&(o.beginPath(),V.forEach(function(e,t){if(ir(d,e)){var i=D===a&&T===t?F:H;i&&(o.moveTo(e.x,e.y),o.arc(e.x,e.y,i,0,2*Math.PI))}}),Y&&X&&(o.lineWidth=Y,o.strokeStyle=X,o.stroke()),N&&(o.fillStyle=N,o.fill()))}};var jo=(t(No,Io),e(No,[{key:"getAxisValues",value:function(){var h=this,e=this.series,s=this.seriesIndexs,d=[];e.forEach(function(e,t){var i=h.ui.seriesDatas[s[t]];if(i)if(Ja(i))d=d.concat(i);else if(qa(i)){for(var o=i.x,a=i.y,r=Math.min(o.length,a.length),n=[],l=0;l<r;l++)n.push([o[l],0]);d=d.concat(n)}});var t=[];return d.forEach(function(e){t.push(e[0])}),t}},{key:"getBoundHeight",value:function(){var e=this.axisOption;if(!e.show)return 2;var t=e.axisLabel.rotate,i=e.axisTick.show?e.axisTick.length:0,o=this.getDataZoomOption(),a=0;o&&!1!==o.sliderVisible&&(a+=18);var r=Y,n=this.getAxisValues();return n&&n.forEach(function(e){e.toString().length>r.length&&(r=e)}),t?(t=Math.max(-45,t),t=Math.min(45,t),a+nr(e.axisLabel.font,r,t).height+4+i):a+pa(e.axisLabel.font,Y).height+4+i}},{key:"draw",value:function(a){var e=this.ui,t=this.axisOption,i=this.axisIndex,o=e.bounds.xAxisRects[i],r=this.getDataZoomOption(),n=this.zoomValueRange,l=void 0;r&&(l={x:o.x,y:o.y+o.height-18,width:o.width,height:18},this.drawSlider(a,l),o={x:o.x,y:o.y,width:o.width,height:o.height-18});var h=o,s=h.x,d=h.y,u=h.width,c=h.height;if(!1!==t.show&&(t.axisLine.show&&(a.strokeStyle=t.axisLine.color,a.lineWidth=t.axisLine.width,a.beginPath(),i?(a.moveTo(s,d+c),a.lineTo(s+u,d+c)):(a.moveTo(s,d),a.lineTo(s+u,d)),a.stroke()),t.axisLabel.show)){var g=Te(n,3),f=g[0],v=g[1],p=(g[2],v-f),x=this.getValuesByValueRange(),b=void 0;t.axisTick.show&&(b=t.axisTick.length)&&(a.strokeStyle=t.axisTick.color,a.beginPath(),x.forEach(function(e){var t=s+u*((e-f)/p);i?(a.moveTo(t,d+c),a.lineTo(t,d+c-b)):(a.moveTo(t,d),a.lineTo(t,d+b))}),a.stroke()),t.axisTick.show;var y=t.axisLabel.font,m=t.axisLabel.color,w=t.axisLabel.formatter,C=d+(i?0:b);if(x.forEach(function(e,t){var i=pa(y,e.toString()),o=s+u*((e-f)/p)-i.width/2;"function"==typeof w&&(e=w(e)),ht.Default.drawText(a,e.toString(),y,m,o,C,i.width,i.height,"center")}),a.save(),t.splitLine.show){var k=e.bounds.bodyRect,V=k.x,D=k.y,T=k.width,I=k.height;a.strokeStyle=t.splitLine.color,a.lineWidth=t.splitLine.width||1,t.splitLine.pattern&&a.setLineDash(t.splitLine.pattern),a.beginPath(),x.forEach(function(e,t){if(0!==t){var i=V+T*((e-f)/p);a.moveTo(i,D),a.lineTo(i,D+I)}}),a.stroke()}a.restore()}}},{key:"drawSlider",value:function(e,t){var i=this,o=(t.x,t.y),a=t.width,r=t.height,n=Te(this.valueRange,2),l=n[0],h=n[1],s=this.getDataZoomOption(),d=s.barBackground,u=void 0===d?"#eee":d,c=s.barValueBackground,g=void 0===c?"rgb(51,153,255)":c,f=s.barWidth,v=void 0===f?Math.min(12,a):f,p=s.barBorderRadius,x=void 0===p?0:p,b=s.min,y=void 0===b?l:b,m=s.max,w=void 0===m?h:m,C=s.sliderOffsetX,k=void 0===C?0:C,V=s.sliderOffsetY,D=void 0===V?0:V,T=s.sliderWidth,I=void 0===T?5:T,_=s.sliderHeight,L=void 0===_?14:_,R=s.sliderBackground,S=void 0===R?"#32D3EB":R,P=s.sliderBorderColor,A=void 0===P?"#32D3EB":P,M=s.sliderBorderWidth,B=void 0===M?1:M,E=s.sliderBorderRadius,O=void 0===E?0:E,W=s.sliderImage,H=s.sliderVisible,F=s.zoomIncrement,j=void 0===F?.05:F,N=h-l;y=Math.max(l,y),w=Math.min(h,w),h<y&&(y=h),w<l&&(w=l);var z=Ka(t);z.y=o+(r-v)/2,z.height=v;var Y=Ka(z);Y.width*=(w-y)/N,Y.x+=(y-l)/N*a;var G=Y.x-I/2+k,X=Y.x+Y.width-I/2+k,U=Y.y+(v-L)/2+D;!1!==H&&(Ua(e,z,u,x),Ua(e,Y,g,x),W?(rr(e,ht.Default.getImage(W),G,U),rr(e,ht.Default.getImage(W),X,U)):(O<1&&(O*=Math.min(I,L)),e.beginPath(),tr(e,G,U,I,L,O),e.closePath(),e.fillStyle=S,e.fill(),B&&(e.lineWidth=B,e.strokeStyle=A,e.stroke()),e.beginPath(),tr(e,X,U,I,L,O),e.closePath(),e.fillStyle=S,e.fill(),B&&(e.lineWidth=B,e.strokeStyle=A,e.stroke()))),this.ui.xAxisDataZoom={slider:{dataZoom:s,rect:t,barRect:z,valueBarRect:Y,zoomIncrement:j,min:l,max:h,value:[y,w],setter:function(e){var t=i.ui.originalOption.xAxis[0].dataZoom;e[0]===l?delete t.min:t.min=e[0],e[1]===h?delete t.max:t.max=e[1]},sliderRect:{x:G,y:U,width:I,height:L},sliderRect2:{x:X,y:U,width:I,height:L}}}}}]),No);function No(e,t,i){l(this,No);var o=u(this,(No.__proto__||Object.getPrototypeOf(No)).call(this,e,t,i));return o.axisIndex=t.xAxis.indexOf(e),t.series.forEach(function(e,t){(e.xAxisIndex||0)===o.axisIndex&&(o.series.push(e),o.seriesIndexs.push(t))}),o.labelHeight=o.getMaxValueBound().height,o.boundHeight=o.getBoundHeight(),o}var zo=ht.Default,Yo=zo.clone;zo.unionPoint;function Go(e,t){for(var i=ht.Math.Vector2,o=Math.cos,a=Math.sin,r=e.arcStartAngle,n=e.arcEndAngle,l=e.roseRadius,h=e.innerRadius,s=h+l,d=n-r,u={x:s*o(r),y:s*a(r)},c={x:s*o(n),y:s*a(n)},g={x:h*o(r),y:h*a(r)},f={x:h*o(n),y:h*a(n)},v=t,p=v+Math.PI/2,x=p+Math.PI/2,b=x+Math.PI/2,y=[{x:s*o(v),y:s*a(v)},{x:s*o(p),y:s*a(p)},{x:s*o(x),y:s*a(x)},{x:s*o(b),y:s*a(b)}],m=[u,c,g,f],w=0;w<4;w++){var C=y[w],k=new i(u),V=new i(C),D=k.clone().normalize().dot(V.normalize()),T=Math.acos(D);0<k.x*V.y-V.x*k.y?T<d&&m.push(C):2*Math.PI-T<d&&m.push(C)}for(var I=-1/0,_=1/0,L=0,R=m.length;L<R;L++){var S=m[L].y;I=Math.max(I,S),_=Math.min(_,S)}return{minY:_,maxY:I}}function Xo(e,t){var i=t.isEmphasis,o=t.type,a=t.outFormatter,r=e.name,n=e.value,l=e.percent,h=e.seriesName,s=e.labelEmphasis,d=e.labelNormal,u=e.labelLineNormal,c=e.labelLineEmphasis,g=void 0,f=void 0;"label"===o?f=i?(g=s.font,s.formatter):(g=d.font,d.formatter):"labelLine"===o&&(f=i?(g=c.font,c.formatter):(g=u.font,u.formatter)),a&&(f=a);var v=r.toString();f&&(v=(f=f.replace(/\\n/g,"<br>")).replace(/\{(\w)\}/g,function(e,t){return"a"===t?h:"b"===t?r:"c"===t?n:"d"===t?(100*l).toFixed(1)+"%":e}));var p=v.split("<br>"),x=void 0,b=void 0;return g&&(b=(x=pa(g,"e").height+1)*p.length/2),{labelTextArray:p,textHeight:x,beginHeight:b}}var Uo=ht.Default.isBoolean,Zo=(e(Ko,[{key:"initGLabel",value:function(e){var t=e.getValue("label.normal.show"),i=e.getValue("label.normal.position"),o=e.getValue("label.normal.formatter"),a=e.getValue("label.normal.color"),r=e.getValue("label.normal.font");this.gLabelNormal={show:!Uo(t)||t,position:i||"center",formatter:o||"",color:a,font:r||"12px serif"};var n=e.getValue("label.emphasis.show"),l=e.getValue("label.emphasis.position"),h=e.getValue("label.emphasis.formatter"),s=e.getValue("label.emphasis.color"),d=e.getValue("label.emphasis.font");this.gLabelEmphasis={show:!Uo(n)||n,position:l||"center",formatter:h||"",color:s,font:d||"13px serif"}}},{key:"initGLabelLine",value:function(e){var t=e.getValue("labelLine.normal.show"),i=e.getValue("labelLine.normal.length"),o=e.getValue("labelLine.normal.length2"),a=e.getValue("labelLine.normal.formatter"),r=e.getValue("labelLine.normal.width"),n=e.getValue("labelLine.normal.type"),l=e.getValue("labelLine.normal.font"),h=e.getValue("labelLine.normal.lineColor"),s=e.getValue("labelLine.normal.textColor");this.gLabelLineNormal={show:!Uo(t)||t,length:void 0===i?15:i,length2:void 0===o?10:o,formatter:a||"",width:void 0===r?1:r,type:n||"dashed",font:l||"12px serif",lineColor:h,textColor:s};var d=e.getValue("labelLine.emphasis.show"),u=e.getValue("labelLine.emphasis.length"),c=e.getValue("labelLine.emphasis.length2"),g=e.getValue("labelLine.emphasis.formatter"),f=e.getValue("labelLine.emphasis.width"),v=e.getValue("labelLine.emphasis.type"),p=e.getValue("labelLine.emphasis.font"),x=e.getValue("labelLine.emphasis.lineColor"),b=e.getValue("labelLine.emphasis.textColor");this.gLabelLineEmphasis={show:!Uo(d)||d,length:void 0===u?15:u,length2:void 0===c?10:c,formatter:g||"",width:void 0===f?2:f,type:v||"dashed",font:p||"13px serif",lineColor:x,textColor:b}}}]),Ko);function Ko(e){l(this,Ko),this.initGLabel(e),this.initGLabelLine(e)}var Jo=ht.Default.isEmptyObject,qo=(e(Qo,[{key:"initDefaultValue",value:function(e){var t=this.data,i=this.index,o=this.color,a=t.name,r=void 0===a?"ç³»åˆ—å":a,n=t.value,l=void 0===n?0:n,h=t.itemStyle,s=void 0===h?{}:h,d=t.labelLine,u=void 0===d?{}:d,c=t.label,g=void 0===c?{}:c,f=e.gLabelNormal,v=e.gLabelEmphasis,p=e.gLabelLineNormal,x=e.gLabelLineEmphasis,b=o[i%o.length];if(this.name=r,this.value=l,this.itemStyle=Object.assign({color:b,borderColor:"#000"},s),this.labelNormal=Object.assign({},f,g.normal||{}),this.labelEmphasis=Object.assign({},v,g.emphasis||{}),this.labelLineNormal=Object.assign({},p,u.normal||{}),this.labelLineEmphasis=Object.assign({},x,u.emphasis||{}),Jo(this.labelNormal.color)){var y=this.labelNormal.position;this.labelNormal.color="center"===y?b:"black"}if(Jo(this.labelEmphasis.color)){var m=this.labelEmphasis.position;this.labelEmphasis.color="center"===m?b:"black"}Jo(this.labelLineNormal.lineColor)&&(this.labelLineNormal.lineColor=b),Jo(this.labelLineNormal.textColor)&&(this.labelLineNormal.textColor=b),Jo(this.labelLineEmphasis.lineColor)&&(this.labelLineEmphasis.lineColor=b),Jo(this.labelLineEmphasis.textColor)&&(this.labelLineEmphasis.textColor=b),this.pieColor=b}},{key:"getLabelPoints",value:function(){var e=this.centerX,t=this.centerY,i=this.roseType,o=this.roseRadius,a=this.innerRadius,r=this.outerRadius,n=this.lineAngle,l=e+(i?o+a:r)*Math.cos(n),h=t+(i?o+a:r)*Math.sin(n);return{textX:(l+(e+a*Math.cos(n)))/2,textY:(h+(t+a*Math.sin(n)))/2}}},{key:"getLabelInfo",value:function(e){return Xo(this,{isEmphasis:e,type:"label"})}},{key:"getLabelLinePoints",value:function(e){var t=this.labelLineNormal,i=this.labelLineEmphasis,o=this.centerX,a=this.centerY,r=this.roseType,n=this.roseRadius,l=this.innerRadius,h=this.outerRadius,s=this.lineAngle,d=this.hoverOffset,u=t.length,c=i.length,g=e?l+n+d:l+n,f=e?h+d:h,v=o+(r?g:f)*Math.cos(s),p=a+(r?g:f)*Math.sin(s),x=void 0,b=void 0;if(e){var y=h+d+c;x=o+y*Math.cos(s),b=a+y*Math.sin(s)}else{var m=h+u;x=o+m*Math.cos(s),b=a+m*Math.sin(s)}return{x0:v,y0:p,x1:x,y1:b}}},{key:"getLabelLineLabelInfo",value:function(e){return Xo(this,{isEmphasis:e,type:"labelLine"})}}]),Qo);function Qo(e,t){l(this,Qo),Object.assign(this,e),this.initDefaultValue(t)}var $o=ht.Default.isBoolean,ea=Math.PI,ta=ea/180;function ia(e,t,i,o,a){var r=Ma(i,t,a);if(r){var n=r.arcPoints,l=r.arcAngles,h=r.center,s=r.radius,d=r.foucusArcNum,u=r.hoverOffset,c=r.tooltip,g=void 0===c?{}:c,f=r.pieItems,v=Za(i,t,a,o);if(n){var p=ht.Math.Vector2,x=2*Math.PI,b=new p(h),y=s.outerRadius,m=s.innerRadius,w=ht.Default.getDistance(v,h);if(m<w&&w<(void 0!==d?y+u:y))for(var C=0,k=l.length;C<k;C++){var V=f[C],D=V.roseType,T=V.roseRadius;if(D&&(C===d?m+T+u:m+T)<w)C===d&&(delete r.foucusArcNum,t.iv());else{var I=new p(n[C]).sub(b),_=new p(v).sub(b),L=I.clone().normalize().dot(_.normalize()),R=Math.acos(L);if(0<I.x*_.y-_.x*I.y){if(R<l[C]){d!=C&&(r.foucusArcNum=C,t.iv());break}d===C&&(delete r.foucusArcNum,t.iv())}else{if(x-R<l[C]){d!=C&&(r.foucusArcNum=C,t.iv());break}d===C&&(delete r.foucusArcNum,t.iv())}}}else void 0!==d&&(delete r.foucusArcNum,t.iv())}if(g.show){var S=r.foucusArcNum;if(void 0!==S){var P=f[S],A=P.value,M=P.percent,B=P.name,E=P.seriesName,O=g.formatter,W=[];if(O)Xo(P,{outFormatter:O}).labelTextArray.forEach(function(e,t){W.push([null,e])});else W=[["åç§°",B],["ç™¾åˆ†æ¯”",(100*M).toFixed(1)+"%"],["æ•°å€¼",A]];oa.setInfo({label:E,datas:W}),Ba.show(oa.getView(),e)}else Ba.hide()}}}var oa=new Bi,aa=(t(ra,bt),e(ra,[{key:"onMove",value:function(e,t,i,o,a,r){ia(e,t,i,o,this)}},{key:"onUp",value:function(e,t,i,o,a,r){ia(e,t,i,o,this)}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);void 0!==n.foucusArcNum&&(delete n.foucusArcNum,t.iv(),Ba.hide())}}]),ra);function ra(){return l(this,ra),u(this,(ra.__proto__||Object.getPrototypeOf(ra)).call(this))}var na=(t(la,bt),e(la,[{key:"onMove",value:function(c,g,f,e,t,i){var v=Ma(f,g,this),p=v.ui,x=v.option;if(p&&x&&!v.dragging){var o=p.bounds,b=Za(f,g,this,e,c),a=o.bodyRect;if(ir(a,b)&&x.tooltip.show){var r=function(){function e(o){var e=i[o],t=e.points,a=e.values,r=e.name;t.forEach(function(e,t){var i=gr(e,b);i<n&&i<1/0&&(l=parseInt(o),d=r,s=a[h=t])})}var n=6/(f.getZoom?f.getZoom():1),i=p.pointsInfo,t=x.tooltip.formatter,l=void 0,h=void 0,s=void 0,d=void 0;for(var o in i)e(o);if(Qa(s)){var a=s.join(",");t?a=t({name:d,value:s},g,f).toString():d&&(a=d+"<br/>"+a),Ba.show(a,c)}else Ba.hide();var r=v.hitSeriesIndex,u=v.hitPointIndex;return v.hitSeriesIndex=l,u===(v.hitPointIndex=h)&&r===l||g.iv(),{v:void 0}}();if("object"===(void 0===r?"undefined":De(r)))return r.v}var n=p.xAxisDataZoom,l=p.yAxisDataZoom,h=n?n.slider:null,s=l?l.slider:null;if(h&&(ir(Ya(h.sliderRect,3),b)||ir(Ya(h.sliderRect2,3),b)||ir(h.valueBarRect,b)))return Ha(f,"ew-resize"),void(v.sliderInfo={axis:A,info:h});if(s&&(ir(Ya(s.sliderRect,3),b)||ir(Ya(s.sliderRect2,3),b)||ir(s.valueBarRect,b)))return Ha(f,"ns-resize"),void(v.sliderInfo={axis:K,info:s});delete v.sliderInfo,Ha(f,"default")}}},{key:"onDown",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=n.ui,h=n.option;if(l&&h&&!n.dragging){var s=l.xAxisDataZoom,d=l.yAxisDataZoom,u=Za(i,t,this,o,e),c=s?s.slider:null,g=d?d.slider:null;c&&ir(c.barRect,u)&&!n.sliderInfo&&(to(c.setter,c,u,c.barRect),t.iv()),g&&ir(g.barRect,u)&&!n.sliderInfo&&(io(g.setter,g,u,g.barRect),t.iv())}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);Qa(n.hitPointIndex)&&(delete n.hitSeriesIndex,delete n.hitPointIndex,Ba.hide(),t.iv()),n.dragging||Ha(i,"default")}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=n.sliderInfo;if(l){var h=l.info,s=h.sliderRect,d=h.sliderRect2,u=h.valueBarRect,c=h.value,g=h.barRect,f=Za(i,t,this,o,e);n.dragging=!0,ir(Ya(s,3),f)?l.fixed=c[1]:ir(Ya(d,3),f)?l.fixed=c[0]:ir(u,f)&&(A===l.axis?l.draggingValue=to(null,l.info,f,g,null,!0):l.draggingValue=io(null,l.info,f,g,null,!0))}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=Ma(i,t,this),l=n.sliderInfo,h=n.option;if(n.dragging&&l){var s=l.info,d=s.barRect,u=s.setter,c=(s.sliderRect,s.sliderRect2,s.valueBarRect,s.value,s.dataZoom,Za(i,t,this,o,e)),g=l.axis===A?to:io,f=void 0;if(f=A===l.axis?h.xAxis[0].axisLabel?h.xAxis[0].axisLabel.formatter:null:h.yAxis[0].axisLabel?h.yAxis[0].axisLabel.formatter:null,Qa(l.fixed)){var v=g(u,l.info,c,d,l.fixed);Ba.show(f?f(v):v,e)}else if(Qa(l.draggingValue)){var p=l.draggingValue,x=g(null,l.info,c,d,null,!0)-p,b=l.info.value,y=l.info.min,m=l.info.max,w=[b[0]+x,b[1]+x];w[0]<y?w=[y,y+(b[1]-b[0])]:w[1]>m&&(w=[m-(b[1]-b[0]),m]),l.info.setter(w);var C=w.join(",");f&&(C=w.map(function(e){return f(e)}).join(", ")),Ba.show(C,e)}t.iv()}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=Ma(i,t,this);delete n.sliderInfo,delete n.dragging,Ba.hide()}}]),la);function la(){return l(this,la),u(this,(la.__proto__||Object.getPrototypeOf(la)).call(this))}function ha(e,t,i){for(var o=[],a=0,r=1,n=e.length;r<=n;r++){var l=e.substring(a,r);pa(i,l).width>t&&(a=r-1===a?(o.push(e.substring(a,r)),r):(o.push(e.substring(a,r-1)),r-1))}return a!==r-1&&o.push(e.substring(a,r)),o}function sa(e,t,i,o){for(var a=[],r=e.split("\n"),n=0,l=r.length;n<l;n++){var h=r[n];if(""===h&&(h=" "),o)Array.prototype.push.apply(a,ha(h,i,t));else{for(var s,d,u="",c=void 0,g=void 0,f=void 0,v="",p=0;p<h.length;p++){h.charAt(p).match(/[a-z|A-Z]/g)?u+="1":u+="2"}u=(u=u.replace(/21/g,"2_1")).replace(/12/g,"1_2");for(var x=0;x<u.length;x++){u.charAt(x).match(/\_/g)&&(h=Ca(h,x+1,"|"))}s=h.split("|"),d=u.split("_");for(var b=0,y=s.length;b<y;b++)c=v+s[b],g=pa(t,c),"1"===d[b][0]?g.width>i?v?(a.push(v),v="",b--):(f=ha(s[b],i,t),Array.prototype.push.apply(a,f.slice(0,f.length-1)),v=f[f.length-1]):v=g.width===i?(a.push(c),""):c:v=g.width>i?(f=ha(c,i,t),Array.prototype.push.apply(a,f.slice(0,f.length-1)),f[f.length-1]):c;v&&a.push(v)}}return a}function da(e,t,i,o,a,r){return e?(t=t&&new c(t),e.pressed?o||(a&&t&&0!==t.a?ht.Default.darker(t,Ie.activeDarker):r?null:Ie.emptyColor):e.hover?i||(a&&t&&0!==t.a?ht.Default.darker(t,Ie.hoverDarker):r?null:Ie.emptyColor):r?null:t?t.getRGBA():Ie.emptyColor):t}var ua,ca,ga,fa=/firefox/.test(window.navigator.userAgent.toLowerCase()),va=/MSIE/.test(window.navigator.userAgent.toLowerCase()),pa=(ua={},ca=document?ht.Default.createCanvas().getContext("2d"):null,function(e,t){ca.font=e||ht.Default.labelFont;var i=ua[ca.font];return i||(i=2*ca.measureText("e").width,ua[ca.font]=i),{width:ca.measureText(t).width+2,height:i}}),xa=function(e,t){if(!e)return ba([],t);var i=function(e){return e?("string"!=typeof e&&(e+=""),e.replace(/^\s+|\s+$/g,"")):""}(e).split(/\s+/g),o=[];return i.forEach(function(e){isNaN(e)||o.push(parseInt(e))}),ba(o)},ba=function(e,t){var i=1<arguments.length&&void 0!==t?t:0;return e&&0!==e.length?3===e.length?[e[0],e[1],e[2],e[1]]:2===e.length?[e[0],e[1],e[0],e[1]]:1===e.length?[e[0],e[0],e[0],e[0]]:[e[0],e[1],e[2],e[3]]:[i,i,i,i]},ya=function(e){e&&"textarea"===e||(e="input");var t=document.createElement(e),i=t.style;return i.display="block",i.boxSizing="border-box",i.position="absolute",i.outline="none",i.zIndex=1e4,i.borderWidth=0,i.backgroundColor="rgba(0, 0, 0, 0)",t},ma=function(e,t,i){var o=t.style,a=i.rect,r=new ht.Math.Matrix2d,n=e.getZoom();ht.Default.layout(t,a),r.appendTranslate(e.tx(),e.ty()),r.appendScale(n,n),r.append(i.matrix),wa(o,"transform","matrix("+r.a.toFixed(5)+", "+r.b.toFixed(5)+", "+r.c.toFixed(5)+",\n    "+r.d.toFixed(5)+", "+r.tx.toFixed(5)+", "+r.ty.toFixed(5)+")"),wa(o,"transformOrigin",(-a.x).toFixed(5)+"px "+(-a.y).toFixed(5)+"px")},wa=((ga=document.createElement("input")).setAttribute("style","width: 0;height: 0;"),function(e,t,i){var o=t[0].toUpperCase+t.substring(1,t.length);e["webkit"+o]=i,e["moz"+o]=i,e["ms"+o]=i,e["o"+o]=i,e[t]=i}),Ca=function(e,t,i){return e=e.substring(0,t-1)+i+e.substring(t-1,e.length)};function ka(e,t){var i=e.prototype,o=ht.Default.getMSMap();for(var a in t)o[a]&&o.hasOwnProperty(a)?o[a](i,t):i[a]=t[a]}function Va(e){var t=e.a(f.VALUE);return void 0===t?"":t}var Da,Ta=(Da=null,function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=e.multiple,h=e.readType,s=e.filter,t=e.accept;Da||((Da=document.createElement("input")).setAttribute("type","file"),Da.setAttribute("id","hiddenFile"),Da.style.width=0,Da.style.height=0,Da.addEventListener("change",function(e){document.body.removeChild(Da),Da=null;for(var t=e.target.files,i={files:[]},o=0;o<t.length;o++)s?s(t[o])&&i.files.push(t[o]):i.files.push(t[o]);if(h&&0!==i.files.length)if(l){var a=0;i.files.forEach(function(t){var e=new FileReader;e.onload=function(e){t.readResult=e.target.result,++a===i.files.length&&n(i)},Ia(e,t,h)})}else{var r=new FileReader;r.onload=function(e){t[0].readResult=e.target.result,n(i)},Ia(r,t[0],h)}else n(i)}),document.body.appendChild(Da)),Da.multiple=!!l,Da.accept=t||"",Da.click()});function Ia(e,t,i){"binaryString"===i?e.readAsBinaryString(t):"ArrayBuffer"===i?e.readAsArrayBuffer(t):"dataUrl"===i?e.readAsDataURL(t):e.readAsText(t)}function _a(e,t){var i=t.borderWidth,o=t.borderColor,a=t.dash,r=t.dashPattern,n=t.background,l=t.bgGradient,h=t.bgGradientColor,s=t.contentRect;if(a&&e.setLineDash(r),n){var d;if(l&&h)n=(d=ht.Default).createGradient.apply(d,[e,l,n,h].concat(Me(s)));e.fillStyle=n,e.fill()}i&&o&&(e.strokeStyle=o,e.lineWidth=i,e.stroke())}function La(e,t){return ht.Default.intersectsRect(e,t)}var Ra=function(e,t){for(var i=[],o=0,a=0,r=void 0,n=0,l=e.length;n<l;n++)if(r=e[n].width||.1,isNaN(r)){var h=r.split("+"),s=parseFloat(h[0]),d=[];1<s?a+=s:o+=s,d.push(s),1<(s=parseFloat(h[1]))?(a+=s,d.unshift(s)):(o+=s,d.push(s)),i.push(d)}else 1<=(r=parseFloat(r))?a+=r=Math.max(12,r):o+=r,i.push(r);for(n=0,l=i.length;n<l;n++)(r=i[n])<1?i[n]=Math.max(0,r/o*(t-a)):r instanceof Array&&(i[n]=r[0]+Math.max(0,r[1]/o*(t-a)));return i},Sa=function(e){var t=Te(e,4);return{x:t[0],y:t[1],width:t[2],height:t[3]}},Pa=function(e,t){return e&&t?e.getDataUI?e.getDataUI(t):e.getData3dUI?e.getData3dUI(t):void 0:null},Aa=function(e,t,i,o){var a=function(e,t,i,o){if(!e||!e.interactiveInfo)return null;if(i){var a=void 0;if("billboard"===t.s("shape3d"))a=t.s("shape3d.image");else if(o){var r=e.gv.intersectObject(o,t);a=t.s("shape3d."+("body"===r.part?"":r.part+".")+"image")}return a&&e.interactiveInfo[a]?e.interactiveInfo[a].bodyInfo.compInfos:null}return e.interactiveInfo.bodyInfo?e.interactiveInfo.bodyInfo.compInfos:null}(Pa(e,t),t,e instanceof ht.graph3d.Graph3dView,o);if(a)for(var r=0,n=a.length;r<n;r++){var l=a[r];if(l.comp===i)return l}return null},Ma=function(e,t,i){var o=Pa(e,t);if(!o)return{};if(o.vectorInfos){for(var a=o.vectorInfos,r=0;r<a.length;r++)if(a[r].comp===i)return a[r]}else o.vectorInfos=[];var n={comp:i};return o.vectorInfos.push(n),n},Ba=new mo,Ea=function(e,t,i,o,a){o&&(o.editing=!1,delete o.dom),a&&e.a(a,i.value),e.iv(),t.getView().removeChild(i)},Oa=function(e){return null==e},Wa=function e(t,i,o){for(var a in i){var r=i[a];"object"!==(void 0===r?"undefined":De(r))||ht.Default.isArray(r)||o?t[a]=i[a]:(Oa(t[a])&&(t[a]={}),e(t[a],i[a]))}},Ha=function(e,t){e.getView().style.cursor=t},Fa=function(e,t){var i=1<arguments.length&&void 0!==t?t:0;return e[i%=e.length]},ja=function(e,t,i,o){var a=e[t];if(a&&a.func&&"string"==typeof a.func){var r=a.func.split("@"),n=Te(r,2);n[0];return n[1]}return null},Na=function(e,t){var i,o,a,r;try{i=e.toString().split(".")[1].length}catch(e){i=0}try{o=t.toString().split(".")[1].length}catch(e){o=0}if(r=Math.abs(i-o),a=Math.pow(10,Math.max(i,o)),0<r){var n=Math.pow(10,r);t=o<i?(e=Number(e.toString().replace(".","")),Number(t.toString().replace(".",""))*n):(e=Number(e.toString().replace(".",""))*n,Number(t.toString().replace(".","")))}else e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""));return(e+t)/a},za=function(e,t){var i,o,a;try{i=e.toString().split(".")[1].length}catch(e){i=0}try{o=t.toString().split(".")[1].length}catch(e){o=0}return((e*(a=Math.pow(10,Math.max(i,o)))-t*a)/a).toFixed(o<=i?i:o)},Ya=function(e,t){return{x:e.x-t,y:e.y-t,width:e.width+2*t,height:e.height+2*t}},Ga=function(e,t,i){var o=Aa(i,t,e).rect,a=t.getAnchor(),r=t.getWidth(),n=t.getHeight(),l=t.toGlobal({x:o.x-a.x*r,y:o.y-a.y*n}),h=t.toGlobal({x:o.x+o.width-a.x*r,y:o.y+o.height-a.y*n});return function(e,t){var i=t.getView().getBoundingClientRect(),o=t.getZoom(),a=t.tx(),r=t.ty(),n={};return n.height=e.height*o,n.width=e.width*o,n.x=i.left+a+e.x*o,n.y=i.top+r+e.y*o,n}(or(l,h),i)},Xa=function(e,t,i){if(!e||!e.func)return e;var o,a=e.func,r=e.value;return o=ht.Default.isFunction(a)?i&&i.vectorDataBindingDisabled&&!e.isSafeFunc?r:a(t,i):t instanceof ht.Data?/^attr@/.test(a)?t.a(a.slice(5)):/^style@/.test(a)?t.s(a.slice(6)):/^field@/.test(a)?t[a.slice(6)]:t[a]?t[a](i):r:r,void 0!==r&&null==o?r:o},Ua=function(e,t,i,o){var a=t.x,r=t.y,n=t.width,l=t.height;e.fillStyle=i,e.beginPath(),tr(e,a,r,n,l,o),e.closePath(),e.fill()},Za=function(e,t,i,o,a){var r=Aa(e,t,i,a);return{x:o.x+r.rect.x,y:o.y+r.rect.y}},Ka=function(e){return ht.Default.clone(e)},Ja=function(e){return ht.Default.isArray(e)},qa=function(e){return ht.Default.isObject(e)},Qa=function(e){return!Oa(e)},$a=function(e,t,i,o){ht.Default.drawPoints(e,t,i,o)},er=function(e,t,i,o,a,r,n,l,h,s){ht.Default.drawText(e,t,i,o,a,r,n,l,h,s)},tr=function(e,t,i,o,a,r,n,l,h){ht.Default.drawRoundRect.apply(ht.Default,arguments)},ir=function(e,t,i,o){return ht.Default.containsPoint(e,t,i,o)},or=function(e,t){return ht.Default.unionPoint(e,t)},ar=function(e,t,i,o,a,r,n,l,h,s){!s&&l&&(s=l.s("body.color")),ht.Default.drawStretchImage(e,t,i,o,a,r,n,l,h,s)},rr=function(e,t,i,o,a,r,n,l,s){!s&&n&&(s=n.s("body.color")),ht.Default.drawImage(e,img,i,o,w,h,n,l,s)},nr=function(e,t,i){if(i){var o=pa(e,t),a=new ht.Math.Vector2(0,0),r=new ht.Math.Vector2(o.width,0),n=new ht.Math.Vector2(o.width,o.height),l=new ht.Math.Vector2(0,o.height),h=new ht.Math.Vector2(o.width/2,o.height/2),s=Math.PI*(i/180);return a.rotateAround(h,s),r.rotateAround(h,s),n.rotateAround(h,s),l.rotateAround(h,s),or([a,r,n,l])}return pa(e,t)},lr=function(e,t){var i=t;i=(i=i.replace(/yyyy|YYYY/,e.getFullYear())).replace(/yy|YY/,9<e.getYear()%100?(e.getYear()%100).toString():"0"+e.getYear()%100);var o=e.getMonth()+1;i=(i=(i=(i=(i=i.replace(/MM/,9<o?o.toString():"0"+o)).replace(/M/g,o)).replace(/w|W/g,["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"][e.getDay()])).replace(/dd|DD/,9<e.getDate()?e.getDate().toString():"0"+e.getDate())).replace(/d|D/g,e.getDate());var a=e.getHours();return i=(i=(i=(i=i.replace(/HH/,9<a?a.toString():"0"+a)).replace(/H/g,a)).replace(/A/g,12<=a?"PM":"AM")).replace(/Aa/g,12<=a?"pm":"am"),a=12<a?a%12:a,i=(i=(i=(i=(i=(i=i.replace(/hh/,9<a?a.toString():"0"+a)).replace(/h/g,a)).replace(/mm/,9<e.getMinutes()?e.getMinutes().toString():"0"+e.getMinutes())).replace(/m/g,e.getMinutes())).replace(/ss|SS/,9<e.getSeconds()?e.getSeconds().toString():"0"+e.getSeconds())).replace(/s|S/g,e.getSeconds())},hr=function(e,t){var i=e.x,o=e.y,a=e.width,r=e.height,n=t.x,l=t.y;return n=Math.max(n,i-1),n=Math.min(n,i+a+1),l=Math.max(l,o-1),{x:n,y:l=Math.min(l,o+r+1)}},sr=function(e,t){var i=1<arguments.length&&void 0!==t?t:.1,o=e.length,a=[],r=[];if(o<=2)return{points:e,segments:null};for(var n=0;n<o;n++){var l=e[n],h=e[n-1]||l,s=e[n+1]||l,d=new ht.Math.Vector2(e[n]),u=new ht.Math.Vector2(h),c=new ht.Math.Vector2(s).clone().sub(u).multiplyScalar(i);if(0===n){a.push({x:d.x,y:d.y});var g=d.clone().add(c);a.push({x:g.x,y:g.y}),r.push(1)}else if(n===o-1){var f=d.clone().sub(c);a.push({x:f.x,y:f.y}),a.push({x:d.x,y:d.y}),r.push(4)}else{var v=d.clone().sub(c),p=d.clone().add(c);a.push({x:h?Math.max(h.x,v.x):v.x,y:v.y}),a.push({x:d.x,y:d.y}),a.push({x:s?Math.min(s.x,p.x):p.x,y:p.y}),r.push(4)}}return{points:a,segments:r}},dr=function(){var i=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"==e?t:3&t|8).toString(16)})},ur=function(e){return ht.Default.toColorData(e)},cr=function(e){return ht.Default.getImage(e)},gr=function(e,t){return ht.Default.getDistance(e,t)},fr=function(e,t,i){if("object"!==(void 0===t?"undefined":De(t)))return t;var o=t.type,a=t.colorStops,r=t.coordinate,n=i.x,l=i.y,h=i.width,s=i.height,d=void 0;if("radial"===o){r=r||[0,0,.5,0,1,.5];var u=Math.min(h,s),c=[n+h*r[0],l+s*r[1],u*r[2],n+h*r[3],l+s*r[4],u*r[5]];d=e.createRadialGradient.apply(e,c),a.forEach(function(e){var t=e.offset,i=e.color;d.addColorStop(t,i)})}else{var g=[n+h*(r=r||[0,0,0,1])[0],l+s*r[1],n+h*r[2],l+s*r[3]];d=e.createLinearGradient.apply(e,g),a.forEach(function(e){var t=e.offset,i=e.color;d.addColorStop(t,i)})}return d},vr=function(e){var t=e.x,i=e.y,o=e.width,a=e.height,r=o/2,n=a/2;return{middleMiddle:{x:t+r,y:i+n},topMiddle:{x:t+r,y:i},bottomMiddle:{x:t+r,y:i+a},leftMiddle:{x:t,y:i+n},rightMiddle:{x:t+o,y:i+n}}},pr={comp:{button:function(e,t,i,o,a){var r=i.getValue("text"),n=i.getValue("disabled"),l=i.getValue("font"),h=i.getValue("icon"),s=i.getValue("iconPosition"),d=i.getValue("iconWidth"),u=i.getValue("iconHeight"),c=i.getValue("iconGap"),g=i.getColor("iconColor"),f=i.getColor("hoverIconColor"),v=i.getColor("activeIconColor"),p=i.getColor("textColor"),x=i.getColor("hoverTextColor"),b=i.getColor("activeTextColor"),y=i.getColor("disabledTextColor"),m=i.getValue("borderWidth"),w=i.getColor("borderColor"),C=i.getColor("hoverBorderColor"),k=i.getColor("activeBorderColor"),V=i.getColor("disabledBorderColor"),D=i.getColor("background"),T=i.getColor("hoverBackground"),I=i.getColor("activeBackground"),_=i.getColor("disabledBackground"),L=i.getValue("borderRadius"),R=i.getValue("handleClick"),S=Ma(a,o,i),P=ba($),A=Te(P,4),M=(A[0],A[1],A[2],A[3],xa(L)),B=Te(M,4),E=B[0],O=B[1],W=B[2],H=B[3],F=t.x,j=t.y,N=t.width,z=t.height;if(n?(D=_,w=V,p=y,m=m||1):(D=da(S,D,T,I,!0),w=da(S,w,C,k,!0),g=da(S,g,f,v,!1,!0),p=da(S,p,x,b,!0)),e.fillStyle=D,e.beginPath(),tr(e,F,j,N,z,E,O,H,W),e.closePath(),e.fill(),m&&w&&(e.strokeStyle=w,e.lineWidth=m,e.stroke()),!h&&Qa(r))J(e,r,l,p,F,j,N,z,"center","middle");else if(h&&!Qa(r))q(e,Q(h),"uniform",F+.5*(N-d),j+.5*(z-u),d,u,o,a,g);else if(h&&Qa(r)){var Y=pa(l,r),G=void 0,X=void 0;if(se===s||de===s){var U=j+.5*(z-u-Y.height-c);G={x:F,height:Y.height,width:N},X={x:F+.5*(N-d),width:d,height:u},se===s?(G.y=U+u+c,X.y=U):de===s&&(G.y=U,X.y=U+Y.height+c)}else{var Z=F+.5*(N-d-Y.width-c);G={width:Y.width,y:j,height:z},X={y:.5*(z-u),width:d,height:u},xe===s?(G.x=Z,X.x=Z+Y.width+c):(G.x=Z+d+c,X.x=Z)}J(e,r,l,p,G.x,G.y,G.width,G.height,"center","middle"),q(e,Q(h),"uniform",X.x,X.y,X.width,X.height,o,a,g)}S&&(S.disabled=n,S.onClick=R)},input:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getColor("placeholderColor"),h=i.getValue("disabled"),s=i.getValue("borderWidth"),d=i.getColor("borderColor"),u=i.getColor("focusBorderColor")||d,c=i.getValue("borderRadius"),g=i.getValue("padding"),f=i.getColor("background"),v=i.getColor("focusBackground")||f,p=i.getValue("icon"),x=i.getValue("iconWidth"),b=i.getValue("iconHeight"),y=i.getValue("iconAlign"),m=i.getValue("font"),w=i.getValue("textAlign"),C=i.getColor("textColor"),k=i.getValue("maxLength"),V=i.getValue("inputType"),D=i.getValue("enterEndInputable"),T=i.getValue("onKeyDown"),I=i.getValue("onKeyUp"),_=i.getValue("onChange"),L=i.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",R=Ma(a,o,i),S=R&&R.editing,P=R&&R.editingValue,A=xa(g),M=Te(A,4),B=M[0],E=M[1],O=M[2],W=M[3],H=xa(c),F=Te(H,4),j=F[0],N=F[1],z=F[2],Y=F[3],G=t.x,X=t.y,U=t.width,Z=t.height,K=void 0;if(o&&S?(K=v,d=u):K=f,e.beginPath(),tr(e,G,X,U,Z,j,N,Y,z),e.closePath(),K&&(e.fillStyle=K,e.fill()),(s&&d||S&&s&&u)&&(e.strokeStyle=S?u:d,e.lineWidth=s,e.stroke()),r=(Qa(r)?r:"")+"",!P||!S){var J=!r&&n,q=r||n||"",Q=r?C:l,$=Math.max(0,U-W-E),ee=Math.max(0,Z-B-O),te=G+W,ie=X+B;S&&(q=n||"",Q=l),q&&(e.save(),e.beginPath(),e.rect(te,ie,$,ee),e.clip(),!J&&o&&"password"===V&&(q=function(){for(var e="",t=0;t<q.length;t++)e+="â€¢";return e}()),re(e,q,m,Q,te,X+1,$,Z,w,"middle"),e.restore())}if(p){var oe=void 0;oe="left"===y?G:"center"===y?G+.5*(U-x):G+U-x,ne(e,le(p),"uniform",oe,.5*(Z-b),x,b,o,a)}if(h){var ae=s/2;e.beginPath(),tr(e,G-ae,X-ae,U+s,Z+s,j,N,Y,z),e.fillStyle=L,e.closePath(),e.fill()}R&&(R.disabled=h,R.font=m,R.value=r,R.placeholder=n,R.textAlign=w,R.maxLength=k,R.textColor=C,R.inputType=V,R.enterEndInputable=D,R.onKeyUp=I,R.onKeyDown=T,R.onChange=_,R.padding=g,R.selectTextOnFocus=i.getValue("selectTextOnFocus"))},inputNumber:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getColor("placeholderColor"),h=i.getColor("min"),s=i.getColor("max"),d=i.getColor("step"),u=i.getValue("disabled"),c=i.getValue("borderWidth"),g=i.getColor("borderColor"),f=i.getColor("focusBorderColor")||g,v=i.getValue("borderRadius"),p=i.getValue("padding"),x=i.getColor("background"),b=i.getColor("focusBackground")||x,y=i.getValue("icon"),m=i.getValue("iconWidth"),w=i.getValue("iconHeight"),C=i.getValue("iconAlign"),k=i.getValue("font"),V=i.getValue("textAlign"),D=i.getColor("textColor"),T=i.getValue("maxLength"),I=i.getValue("enterEndInputable"),_=i.getValue("buttonVisible"),L=i.getValue("onKeyDown"),R=i.getValue("onKeyUp"),S=i.getValue("onChange"),P=i.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",A=Ma(a,o,i),M=A&&A.editing,B=A&&A.editingValue,E=xa(p),O=Te(E,4),W=O[0],H=O[1],F=O[2],j=O[3],N=xa(v),z=Te(N,4),Y=z[0],G=z[1],X=z[2],U=z[3],Z=t.x,K=t.y,J=t.width,q=t.height,Q=void 0;if(o&&M?(Q=b,g=f):Q=x,e.beginPath(),tr(e,Z,K,J,q,Y,G,U,X),e.closePath(),Q&&(e.fillStyle=Q,e.fill()),(c&&g||M&&c&&f)&&(e.strokeStyle=M?f:g,e.lineWidth=c,e.stroke()),!B&&0!==B||!M){var $=Qa(r)?r:Qa(n)?n:"",ee=Qa(r)?D:l,te=Math.max(0,J-j-H),ie=Math.max(0,q-W-F),oe=Z+j,ae=K+W;M&&($=Qa(n)?n:"",ee=l),Qa($)&&(e.save(),e.beginPath(),e.rect(oe,ae,te,ie),e.clip(),tt(e,$,k,ee,oe,K+1,te,q,V,"middle"),e.restore())}if(_){var re=Z+J-20,ne=K+c/2,le=q-c,he=5<le/2?2.5:le/2*.4;e.strokeStyle=g,e.beginPath(),e.moveTo(re,ne),e.lineTo(re,ne+le),e.moveTo(re,ne+le/2),e.lineTo(20+re,ne+le/2),e.stroke(),e.beginPath(),e.moveTo(6+re,ne+le/4+he),e.lineTo(10+re,ne+le/4-he),e.lineTo(14+re,ne+le/4+he),e.stroke(),e.beginPath(),e.moveTo(6+re,ne+le/4*3-he),e.lineTo(10+re,ne+le/4*3+he),e.lineTo(14+re,ne+le/4*3-he),e.stroke(),A&&(A.buttonRects=[{x:re,y:ne,width:20,height:q/2},{x:re,y:ne+q/2,width:20,height:q/2}])}if(y){var se=void 0;se="left"===C?Z:"center"===C?Z+.5*(J-m):Z+J-m,it(e,ot(y),"uniform",se,.5*(q-w),m,w,o,a)}if(u){var de=c/2;e.beginPath(),tr(e,Z-de,K-de,J+c,q+c,Y,G,U,X),e.fillStyle=P,e.closePath(),e.fill()}A&&(A.disabled=u,A.font=k,A.value=r,A.placeholder=n,A.textAlign=V,A.maxLength=T,A.textColor=D,A.enterEndInputable=I,A.onKeyUp=R,A.onKeyDown=L,A.onChange=S,A.padding=p,A.step=d,A.min=h,A.max=s,A.selectTextOnFocus=i.getValue("selectTextOnFocus"))},textarea:function(t,e,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getColor("placeholderColor"),h=i.getValue("disabled"),s=i.getValue("borderWidth"),d=i.getColor("borderColor"),u=i.getColor("focusBorderColor"),c=i.getValue("borderRadius"),g=i.getValue("padding"),f=i.getColor("background"),v=i.getColor("focusBackground")||f,p=i.getValue("textAlign"),x=i.getColor("textColor"),b=i.getValue("lineHeight"),y=i.getValue("font"),m=i.getValue("wordBreak"),w=i.getValue("maxLength"),C=i.getValue("enterEndInputable"),k=i.getValue("onKeyUp"),V=i.getValue("onKeyDown"),D=i.getValue("onChange"),T=i.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",I=Ma(a,o,i),_=I&&I.editing,L=I&&I.editingValue,R=xa(g),S=Te(R,4),P=S[0],A=S[1],M=S[2],B=S[3],E=xa(c),O=Te(E,4),W=O[0],H=O[1],F=O[2],j=O[3],N=e.x,z=e.y,Y=e.width,G=e.height,X=void 0;if(o&&_?(X=v,d=u):X=f,t.beginPath(),tr(t,N,z,Y,G,W,H,j,F),t.closePath(),X&&(t.fillStyle=X,t.fill()),(s&&d||_&&s&&u)&&(t.strokeStyle=_?u:d,t.lineWidth=s,t.stroke()),r=(Qa(r)?r:"")+"",!L||!_){var U=r||n||"",Z=r?x:l,K=Math.max(0,Y-B-A),J=Math.max(0,G-P-M);if(_&&(U=n||"",Z=l),U){t.save(),t.beginPath(),t.rect(N+B,z+P,K,J),t.clip();var q=sa(U,y,K,m),Q=z+P;q.forEach(function(e){z+G<Q||(ee(t,e,y,Z,N+B,Q,K,b,p,"middle"),Q+=b)}),t.restore()}}if(h){var $=s/2;t.beginPath(),tr(t,N-$,z-$,Y+s,G+s,W,H,j,F),t.fillStyle=T,t.closePath(),t.fill()}I&&(I.disabled=h,I.font=y,I.value=r,I.placeholder=n,I.textAlign=p,I.maxLength=w,I.textColor=x,I.enterEndInputable=C,I.padding=g,I.wordBreak=m,I.onKeyUp=k,I.onKeyDown=V,I.onChange=D,I.lineHeight=b,I.selectTextOnFocus=i.getValue("selectTextOnFocus"))},radio:function(e,t,i,o,a){var r=i.getValue("disabled"),n=i.getValue("checked"),l=i.getColor("normalColor"),h=i.getColor("background"),s=i.getColor("activeColor"),d=i.getColor("disabledColor"),u=i.getColor("disabledBackground"),c=(i.getValue("symbol"),Ma(a,o,i)),g=n?s:l,f=t.x,v=t.y,p=t.width,x=t.height,b=Math.min(p,x);o&&(r?(g=d,h=u):c.pressed?n?g=ht.Default.darker(g,Ie.activeDarker):h=ht.Default.darker(h,Ie.activeDarker):c.hover&&(n?g=ht.Default.darker(g,Ie.hoverDarker):h=ht.Default.darker(h,Ie.hoverDarker))),h&&(e.beginPath(),e.fillStyle=h,e.arc(f+.5*p,v+.5*x,.5*b,0,2*Math.PI),e.fill()),e.beginPath(),e.strokeStyle=g,e.lineWidth=1.5,e.arc(f+.5*p,v+.5*x,.5*b,0,2*Math.PI),e.stroke(),n&&(e.beginPath(),e.fillStyle=g,e.arc(f+.5*p,v+.5*x,.25*b,0,2*Math.PI),e.fill()),o&&!o.__inputType&&(o.__inputType=y),c&&(c.disabled=r,c.onChange=i.getValue("onChange"),c.group=i.getValue("group"),c.value=i.getValue("value"))},checkbox:function(e,t,i,o,a){var r=i.getValue("checked"),n=i.getValue("disabled"),l=i.getColor("borderColor"),h=i.getColor("activeBorderColor"),s=i.getColor("disabledBorderColor"),d=i.getColor("background"),u=i.getColor("activeBackground"),c=i.getColor("disabledBackground"),g=i.getValue("borderRadius"),f=i.getColor("iconColor"),v=i.getColor("disabledIconColor"),p=Ma(a,o,i),x=t.x,b=t.y,y=t.width,m=t.height,w=Math.min(y,m);d=r?u:d,d=n?(l=s,f=v,c):da(o,d,null,null,!0),r&&!n&&(l=h),m<y?x+=.5*(y-m):y<m&&(b+=.5*(m-y)),e.beginPath(),tr(e,x,b,w,w,g),e.closePath(),d&&(e.fillStyle=d,e.fill()),e.strokeStyle=l,e.lineWidth=1,e.stroke(),r&&(e.beginPath(),e.moveTo(x+.125*w,b+.5*w),e.lineTo(x+w*(3/8),b+.75*w),e.lineTo(x+.8125*w,b+.25*w),e.lineWidth=Math.max(1,w/16),e.lineCap="round",e.strokeStyle=f,e.stroke()),o&&!o.__inputType&&(o.__inputType=C),p&&(p.disabled=n,p.checked=r,p.onChange=i.getValue("onChange"),p.group=i.getValue("group"),p.value=i.getValue("value"))},colorPicker:function(e,t,i,o,a){var r=i.getValue("disabled"),n=i.getValue("borderWidth"),l=i.getValue("borderColor"),h=i.getValue("disabledBorderColor"),s=i.getValue("focusBorderColor"),d=i.getValue("borderRadius"),u=i.getValue("textColor"),c=i.getValue("value"),g=i.getValue("font"),f=i.getValue("fullMode"),v=i.getValue("showDropDownIcon"),p=i.getValue("dropDownIcon"),x=i.getValue("dropDownIconColor"),b=i.getValue("dropDownIconWidth"),y=i.getValue("dropDownIconHeight"),m=i.getValue("onChange"),w=Ma(a,o,i),C=xa(d),k=Te(C,4),V=k[0],D=k[1],T=k[2],I=k[3],_=t.x,L=t.y,R=t.width,S=t.height,P=_+R+5,A=L+S+5,M=!1,B=void 0;if(r?l=u=h:w&&w.editing&&s&&(l=s),e.save(),f){e.beginPath(),tr(e,_,L,R,S,V,D,I,T),e.closePath(),e.clip();for(var E=L,O=0;E<A;E+=5,O++){M=O%2!=0;for(var W=_;W<P;W+=5)e.fillStyle=M?U:X,e.fillRect(W,E,5,5),M=!M}}else{P=(B={x:_+4,y:L+4,width:1.66*(S-8),height:S-8}).x+B.width,A=B.y+B.height,e.beginPath(),e.rect(B.x,B.y,B.width,B.height),e.closePath(),e.clip();for(var H=B.y,F=0;H<A;H+=5,F++){M=F%2!=0;for(var j=B.x;j<P;j+=5)e.fillStyle=M?U:X,e.fillRect(j,H,5,5),M=!M}}e.restore(),e.beginPath(),tr(e,_,L,R,S,V,D,I,T),e.closePath(),c&&f?(e.fillStyle=c,e.fill()):c&&!f&&(e.fillStyle=c,e.fillRect(B.x,B.y,B.width,B.height),Z.setColor(c),N(e,Z,g,u,B.x+B.width+4,L,R-B.width-8,S,"left","middle")),n&&(e.lineWidth=n,e.strokeStyle=l,e.stroke()),v&&z(e,G(p||"ht.vector.dropDownIcon"),"uniform",_+R-8-b,L+.5*(S-y),b,y,o,a,x),w&&(w.disabled=r,w.onChange=m)},comboBox:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getValue("dataSource"),h=i.getValue("disabled"),s=i.getValue("borderWidth"),d=i.getColor("borderColor"),u=i.getColor("disabledBorderColor"),c=i.getColor("focusBorderColor"),g=i.getValue("borderRadius"),f=i.getValue("padding"),v=i.getColor("background"),p=i.getColor("disabledBackground"),x=i.getColor("focusBackground")||v,b=i.getValue("icon"),y=i.getValue("iconWidth"),m=i.getValue("iconHeight"),w=i.getValue("iconAlign"),C=i.getValue("font"),k=i.getValue("textAlign"),V=i.getColor("textColor"),D=i.getColor("disabledTextColor"),T=i.getValue("dropDownIcon"),I=i.getColor("dropDownIconColor"),_=i.getValue("dropDownIconWidth"),L=i.getValue("dropDownIconHeight"),R=i.getValue("drawUnMatchValue"),S=Ma(a,o,i),P=S&&S.editing,A=xa(f),M=Te(A,4),B=M[0],E=M[1],O=M[2],W=M[3],H=xa(g),F=Te(H,4),j=F[0],N=F[1],z=F[2],Y=F[3],G=t.x,X=t.y,U=t.width,Z=t.height,K=void 0;o?h?(K=p,d=u,V=D,s=s||1):P?(K=x,d=c):K=v:K=v,e.beginPath(),tr(e,G,X,U,Z,j,N,Y,z),e.closePath(),K&&(e.fillStyle=K,e.fill()),(s&&d||P&&s&&c)&&(e.strokeStyle=P?c:d,e.lineWidth=s,e.stroke());var J="";if(R)J=r;else if(!Oa(r)&&l)for(var q=0,Q=l.length;q<Q;q++)if(l[q].value===r){J=l[q].label,b=l[q].icon;break}J||(b=null,Oa(r)||(J=r+""));var $=J||n||"",ee=Math.max(0,U-W-E-_-8),te=Math.max(0,Z-B-O),ie=G+W,oe=X+B;if(Oa(r)&&!h&&(V=Ie.placeholderColor),e.save(),e.beginPath(),e.rect(ie,oe,ee,te),e.clip(),he(e,$,C,V,b?ie+y:ie,oe,ee,te,k,"middle"),e.restore(),b){var ae=void 0;ae="left"===w?ie:"center"===w?G+.5*(U-y):G+U-y-E,ue(e,ce(b),"uniform",ae,.5*(Z-m),y,m,o,a)}ue(e,ce(T||"ht.vector.dropDownIcon"),"uniform",G+U-8-_,X+.5*(Z-L),_,L,o,a,I),S&&(S.disabled=h,S.dataSource=l,S.dropIconWidth=i.getValue("dropIconWidth"),S.dropIconHeight=i.getValue("dropIconHeight"),S.dropRowHeight=i.getValue("dropRowHeight"),S.dropWidth=i.getValue("dropWidth"),S.dropBackground=i.getValue("dropBackground"),S.dropLabelFont=i.getValue("dropLabelFont"),S.dropLabelColor=i.getValue("dropLabelColor"),S.dropActiveLabelColor=i.getValue("dropActiveLabelColor"),S.dropActiveBackground=i.getValue("dropActiveBackground"),S.dropHoverBackground=i.getValue("dropHoverBackground"),S.dropMaxHeight=i.getValue("dropMaxHeight"),S.onChange=i.getValue("onChange"),S.dropBorderColor=i.getValue("dropBorderColor"),S.dropBorderWidth=i.getValue("dropBorderWidth"))},gauge:function(e,t,i,o,a){var r=i.getValue("pointerRadius"),n=i.getColor("pointerColor"),l=i.getValue("value"),h=i.getValue("max"),s=i.getValue("showTick"),d=i.getValue("tickEvery"),u=i.getColor("tickColor"),c=i.getValue("tickWidth"),g=(i.getValue("tickRadius"),i.getValue("bigTickEvery")),f=i.getColor("bigTickColor"),v=i.getValue("bigTickWidth"),p=(i.getValue("bigTickRadius"),i.getValue("showLabel")),x=i.getValue("labelEvery"),b=i.getColor("labelColor"),y=i.getValue("labelFont"),m=i.getValue("labelRadius"),w=i.getValue("showShadow"),C=i.getValue("shadowBlur"),k=i.getColor("shadowColor"),V=i.getValue("shadowOffsetX"),D=i.getValue("shadowOffsetY");_e=i.getValue("clockwise"),Le=i.getValue("min"),ve=i.getValue("startAngle"),pe=i.getValue("endAngle"),oe=Math.abs(h-Le),ae=Math.abs(pe-ve);var T=t.x,I=t.y,_=t.width,L=t.height,R=Math.min(_,L)/2,S=ie(l,_e);if(e.save(),w&&(e.shadowColor=k,e.shadowBlur=C,e.shadowOffsetX=V,e.shadowOffsetY=D),e.translate(T+.5*_,I+.5*L),s){if(g){e.beginPath(),e.strokeStyle=f,e.lineWidth=v;for(var P=Le;P<=h;P+=g){var A=ie(P,_e),M=R*Math.cos(A),B=R*Math.sin(A);e.moveTo(.84*M,.84*B),e.lineTo(M,B)}e.stroke()}if(d){e.beginPath(),e.strokeStyle=u,e.lineWidth=c;for(var E=Le;E<=h;E+=d){var O=ie(E,_e),W=R*Math.cos(O),H=R*Math.sin(O);e.moveTo(.9*W,.9*H),e.lineTo(W,H)}e.stroke()}}if(p&&x){m=te(m,R),e.font=y,e.fillStyle=b,e.textAlign="center",e.textBaseline="middle";for(var F=Le;F<=h;F+=x){var j=ie(F,_e),N=m*Math.cos(j),z=m*Math.sin(j);e.fillText(F,N,z)}}var Y=.05*(r=te(r,R));e.rotate(S),e.beginPath(),e.moveTo(-1.5*Y,0),e.lineTo(0,-Y),e.lineTo(r,0),e.lineTo(0,Y),e.closePath(),e.fillStyle=n,e.fill(),e.restore()},table:function(p,x,o,b,y){var a,i=o.getValue("columns"),e=o.getValue("dataSource"),t=o.getColor("thBackground"),r=o.getColor("tdBackground"),m=o.getValue("thHeight"),n=o.getValue("tdHeight"),w=o.getValue("textLineHeight"),s=o.getColor("thColor"),C=o.getColor("tdColor"),d=o.getValue("thFont"),k=o.getValue("tdFont"),V=o.getValue("borderWidth"),l=o.getColor("borderColor"),h=o.getColor("columnLineColor"),D=o.getValue("columnLineWidth"),u=o.getValue("columnLinePattern"),c=o.getColor("rowLineColor"),T=o.getValue("rowLineWidth"),g=o.getValue("rowLinePattern"),I=o.getValue("showHeadRowLine"),_=o.getValue("cellPadding"),L=o.getValue("showHead"),R=o.getColor("hoverBackground"),S=o.getColor("hoverColor"),P=o.getColor("selectBackground"),A=o.getColor("selectColor"),M=o.getValue("translateY")||0,B=o.getValue("translateX")||0,f=o.getValue("scrollable"),v=o.getValue("autoHideScrollBar"),E=o.getColor("scrollBarColor"),O=o.getValue("scrollBarWidth"),W=o.getValue("scrollBarWidthAbsolute"),H=o.getValue("drawRow"),F=o.getValue("multiple"),j=o.getValue("onSelectRow"),N=o.getValue("onHoverCell"),z=o.getValue("onClickCell"),Y=o.getValue("onClickCellImage"),G=o.getValue("selectedIndex")||[],X=o.getValue("visibleFunc"),U=o.getValue("columnVisibleFunc"),Z=o.getValue("resizable"),K=o.getValue("resizeLineWidth"),J=o.getValue("resizeLineColor"),q=o.getValue("resizeInteractiveSize"),Q=o.getValue("showHeadColumnLineOnly"),$=Ma(y,b,o),ee=x.x,te=x.y,ie=x.width,oe=x.height,ae=ie-2*V,re=oe-2*V,ne=void 0,le=[],he=[],se=[],de=[],ue=[];if(L&&(ne=[ee+V,te+V,ae,m]),a=[ee+V,te+m*L+V,ie,re-m*L],Oa(G)||ht.Default.isArray(G)||(G=[G]),p.save(),p.beginPath(),p.rect(ee,te,ie,oe),p.clip(),t&&L&&(p.fillStyle=t,p.fillRect.apply(p,Me(ne))),r&&(p.fillStyle=r,p.fillRect.apply(p,Me(a))),i&&0<i.length&&(i.forEach(function(e,t){(U&&U(e,t,b,y)||!U)&&(se.push(e),de.push(t))}),se.length)){var ce=se.length,ge=Ra(se,ae-D*(ce-1)),fe=e.length,ve=[],pe=[],xe=$.customColWidths||[],be=ee+V+B;if(L){var ye=1;y&&y.getZoom&&(ye=y.getZoom()),q*=1/ye;for(var me=function(e){var t=se[e],i=t.drawHeadCell,o=ge[e]-2*_,a=t.headColor||t.color||s,r=t.headFont||t.font||d;"function"==typeof a&&(a=a(t)),"function"==typeof r&&(r=r(t)),be+=_,p.save(),p.beginPath();var n,l=t.displayName||t.key,h=[be,te+V,o,m];p.rect.apply(p,h),p.clip(),n=function(){Ee.apply(void 0,[p,l,r,a].concat(h,[t.align||"left","middle"]))},i?i(p,l,Sa(h),{color:a,font:r,defaultDraw:n,data:b,column:t,colIndex:de[e]}):n(),p.restore(),be+=o+D+_,pe.push({x:be-q/2-D/2,y:te,width:q,height:m})},we=0;we<ce;we++)me(we)}p.save(),p.beginPath(),p.rect(ee+V,te+V+(L?m:0),ae,re-m*L),p.clip();var Ce=te;if(e&&0<fe&&(e.forEach(function(e,t){(X&&X(e,t,b,y)||!X)&&(le.push(e),he.push(t))}),le.forEach(function(e,t){ve.push(function(r,n,l,e,t){var h=Math.max(l,e);return t.forEach(function(e,t){var i=e.format,o=r[e.key];if(i&&(o=i(o,r,n,t)),"string"==typeof o){var a=o.match(je);a&&a.length&&(h=Math.max(h,l*(a.length+1)))}}),h}(e,he[t],w,n,i))}),!F&&1<G.length&&(G=G.slice(0,1)),le.forEach(function(s,d){var u=he[d],c=ve[d],g=Ce+T*(u+I*L*1)+m*L+V+M,e={x:ee,y:g,width:ie,height:c};if(Ce+=c,be=ee+V+B,Fe(Sa(a),e)){p.save(),H&&H.call(o,p,s,u,e,he.indexOf(u),b,y);var f=$&&$.hoverIndex===u,v=G&&-1!==G.indexOf(u);v&&P?(p.fillStyle=P,p.fillRect(ee,g,ie,c)):!v&&f&&R&&(p.fillStyle=R,p.fillRect(ee,g,ie,c));for(var t=function(e){var a=se[e],t=de[e],i=a.drawCell,r=ge[e]-2*_,n=a.bodyFont||a.font||k,l=a.bodyColor||a.color||C;if(v&&A&&(l=A),!v&&f&&S&&(l=S),"function"==typeof l&&(l=l(s[a.key],s)),"function"==typeof n&&(n=n(s[a.key],s)),!Fe({x:be+=_,y:g,width:r,height:c},x))return be+=r+D+_,"continue";var h=s[a.key];a.format&&(h=a.format(h,s,u,t)),p.save(),p.beginPath(),p.rect(be,g,r,c),p.clip();function o(){var e=a.isIcon;if(a.isIndex&&(e=!1,h=d+1),e)0<r&&Oe(p,We(h),"centerUniform",be,g+1,r,c-2,b,y);else{if(function(e){return e===undefined||e===null||e===""}(h))return;var t="string"==typeof h?h.match(je):null;if(t?t.length:0){var i=h.split(je),o=g;"middle"===a.vAlign?o=g+(c-i.length*w)/2:"bottom"===a.vAlign&&(o=g+(c-i.length*w)),i.forEach(function(e){Ee(p,e,n,l,be,o,r,w,a.align||"left",a.vAlign||"middle"),o+=w})}else Ee(p,h,n,l,be,g,r,c,a.align||"left",a.vAlign||"middle")}}i?i(p,h,{x:be,y:g,width:r,height:c},{column:a,colIndex:t,row:s,rowIndex:u,font:n,color:l,defaultDraw:o,data:b},ue):o();be+=r+D+_,p.restore()},i=0;i<ce;i++)t(i);p.restore()}})),$&&($.rowHeights=ve,$.colWidths=ge,$.headHeight=L?m:0,$.rowLineWidth=T,$.columnLineWidth=D,$.translateX=B,$.translateY=M,$.autoHideScrollBar=v,$.multiple=F,$.selectedIndex=G,$.dataSource=e,$.columns=i,$.onSelectRow=j,$.onHoverCell=N,$.onClickCell=z,$.onClickCellImage=Y,$.rawDatas=le,$.rawIndexs=he,$.rawCols=se,$.rawColIndexs=de,$.headRect=ne,$.bodyRect=a,$.resizable=Z,$.resizeRects=pe,$.customColWidths=xe,$.onClickHeadCell=o.getValue("onClickHeadCell"),$.pannable=o.getValue("pannable"),$.scrollBarInteractiveSize=o.getValue("scrollBarInteractiveSize"),$.scrollSpeed=o.getValue("scrollSpeed"),$.drawCellImageInfo=ue),T){var ke=te+V+m*L+M;p.beginPath(),I&&L&&(ke+=T/2,p.moveTo(ee,ke),p.lineTo(ee+ie,ke),ke+=T/2);for(we=0;we<fe&&(ke+=ve[we]+T/2,!(te+oe<ke));we++)ke<te||(p.moveTo(ee,ke),p.lineTo(ee+ie,ke)),ke+=T/2;p.strokeStyle=c,p.lineWidth=T,g&&1<g.length&&p.setLineDash(g),p.stroke()}if(p.restore(),D){var Ve=ee+V+B,De=te+(Q&&L?m:oe);p.beginPath();for(var Te=0;Te<ce;Te++)Ve+=ge[Te]+D/2,p.moveTo(Ve,te),p.lineTo(Ve,De),Ve+=D/2;p.strokeStyle=h,p.lineWidth=D,u&&1<u.length&&p.setLineDash(u),p.stroke()}if(b&&$&&f){var Ie=D?D*(ce-1):0,_e=T?(fe-1)*T:0;ge.forEach(function(e){Ie+=e}),ve.forEach(function(e){_e+=e});var Le={x:ee+V,y:te+V+(L?m:0),width:ae,height:re-(L?m:0)},Re={width:Ie,height:_e},Se={x:B,y:M},Pe=y.getZoom?y.getZoom():1;Be(p,Le,Re,Se,{visible:!v||$.scrollBarVisible,color:E,barWidth:W?O/Pe:O,gap:2/Pe},$)}}if(V&&He(p,l,ee,te,ie,oe,V),$.resizeDragPoint&&J&&K){var Ae=$.resizeDragPoint.x;p.strokeStyle=J,p.lineWidth=K,p.beginPath(),p.moveTo(Ae,te),p.lineTo(Ae,te+oe),p.stroke()}p.restore()},pie:function(V,e,t,i,o){var a=t.getValue("dataSource"),r=t.getValue("radius"),n=t.getValue("center"),D=t.getValue("startAngle"),l=t.getValue("endAngle"),h=t.getValue("tooltip.show"),s=t.getValue("tooltip.formatter"),T=t.getValue("roseType"),d=t.getValue("seriesName"),I=t.getValue("hoverOffset"),u=t.getValue("avoidLabelOverlap"),c=t.getValue("color"),g=t.getValue("minRoseRadius"),f=t.getValue("minAngle");if(a instanceof Array){l<D&&(l=D),360<l-D&&(l=D+360),D*=-ea/180,l*=ea/180;var v=e.x,p=e.y,x=e.width,b=e.height,y=Math.min(x,b),m=0,w=0,C=-D,k=Te(r,2),_=k[0],L=void 0===_?0:_,R=k[1],S=void 0===R?.5:R,P=Te(n,2),A=P[0],M=void 0===A?.5:A,B=P[1],E=void 0===B?.5:B,O=l-Math.abs(D);0<=L&&L<=1&&(L*=y/2),0<=S&&S<=1&&(S*=y/2),M=0<=M&&M<=1?M*x+v:M+v,E=0<=E&&E<=1?E*b+p:E+p;var W=(a=a.filter(function(){return 0<(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).value})).map(function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).value||0}),H=W.reduce(function(e,t){return e+t},0),F=W.map(function(e){return e/H}),j=Math.max.apply(Math,Me(W)),N=S-L,z=W.map(function(e){var t=e/j*N;return t<g?g:t}),Y=F.map(function(e){return e*O}),G=O,X=0;if(f*=ta,Y=Y.map(function(e,t){return e<f?(G-=f,f):(X+=W[t],e)}),G<=.001){var U=O/W.length;Y=Y.map(function(e,t){return U})}else{var Z=G/X;Y=Y.map(function(e,t){return e===f?f:W[t]*Z})}var K=Ma(o,i,t),J=[],q=void 0,Q=[],$=[],ee=[],te=[],ie=void 0;if(K){0<a.length&&(q=new Zo(t),a.forEach(function(e,t){if(e){var i=F[t],o=z[t],a=Y[t],r=C+a/2;m+=a,J.push(new qo({percent:i,roseRadius:o,lineAngle:r,arcAngle:a,arcEndAngle:m,arcStartAngle:w,seriesName:d,index:t,data:e,centerX:M,centerY:E,outerRadius:S,innerRadius:L,roseType:T,hoverOffset:I,color:c},q)),C+=a,w=m}}),C=-D,m=w=D),ie=K.foucusArcNum;for(var oe=0,ae=J.length;oe<ae;oe++){var re=J[oe].arcAngle;Q.push({x:M+S*Math.cos(C),y:E+S*Math.sin(C)}),$.push(re),C+=re,oe===ae-1&&(C=-D)}!function(e,t,i){for(var o=0,a=e.length;o<a;o++){var r=e[o],n=i===o,l=r.getLabelLinePoints(n),h=l.x0,s=l.y0,d=l.x1,u=l.y1,c=r.getLabelLineLabelInfo(n),g=c.labelTextArray,f=c.textHeight,v=c.beginHeight;t.push({x0:h,y0:s,x1:d,y1:u,labelTextArray:g,labelLineIsShow:n?r.labelLineEmphasis.show:r.labelLineNormal.show,lineLength2:n?r.labelLineEmphasis.length2:r.labelLineNormal.length2,oneTextHeight:f,allTextHeight:2*v})}}(J,ee,ie),u&&function(e,u,t,c,g){for(var i=[],o=[],a=0;a<e.length;a++)e[a].x0<u?i.push(e[a]):o.push(e[a]);function r(e,t){if(e.sort(function(e,t){return e.y0-t.y0}),0<(e=e.filter(function(e){if(e.labelLineIsShow)return e})).length){for(var i=e[0].allTextHeight/2+3,o=e[e.length-1].allTextHeight/2,a=g-i-o-3,r=e.length,n=0,l=0,h=e.length;l<h;l++){if(a<(n+=e[l].allTextHeight)){r=l;break}}var s=a/(r-1);s===1/0&&(s=0);for(var d=0;d<r;d++)e[d].avoidIsShow=!0,e[d].x1=u+t*(c+10),e[d].y1=i+d*s}}0<i.length&&r(i,-1),0<o.length&&r(o,1)}(ee,M,0,S,b);for(var ne=0,le=J.length;ne<le;ne++){var he=J[ne],se=(be=ie===ne)?he.labelLineEmphasis:he.labelLineNormal,de=se.show,ue=se.width,ce=se.type,ge=se.font,fe=se.lineColor,ve=se.textColor;if(he.value&&!1!==de)if("continue"===function(){var e=ee[ne],t=e.x0,i=e.y0,o=e.x1,a=e.y1,r=e.oneTextHeight,n=e.allTextHeight,l=e.labelTextArray,h=e.lineLength2,s=e.avoidIsShow;if(u&&!s)return"continue";V.save(),V.lineWidth=ue,V.font=ge,V.strokeStyle=fe,V.fillStyle=ve,V.setLineDash("dashed"===ce?[2,2]:[]);var d=o<=t?-1:1;V.textAlign=o<=t?"right":"left",V.textBaseline="top",V.beginPath(),0<ue?(V.moveTo(t,i),u&&V.lineTo(M+d*(S+5),i),V.lineTo(o,a),o+=d*h,V.lineTo(o,a),V.stroke()):o+=d*h,l.forEach(function(e,t){V.fillText(e,o+3*d,a-n/2+r*t)}),V.restore()}())continue}V.save(),V.translate(M,E),V.rotate(-D),Ce("fill"),Ce("stroke"),V.restore(),function(e,t){for(var i=0,o=e.length;i<o;i++){var a=e[i].getLabelPoints(),r=a.textX,n=a.textY;t.push({textX:r,textY:n})}}(J,te),V.save(),V.textAlign="center",V.textBaseline="top";for(var pe=0,xe=J.length;pe<xe;pe++){he=J[pe];var be,ye=(be=ie===pe)?he.labelEmphasis:he.labelNormal,me=(de=ye.show,ye.position),we=ye.color;ge=ye.font;he.value&&!1!==de&&function(){V.save(),V.font=ge,V.fillStyle=we;var e=te[pe],i="center"===me?M:e.textX,o="center"===me?E:e.textY,t=he.getLabelInfo(be),a=t.labelTextArray,r=t.textHeight,n=t.beginHeight;a.forEach(function(e,t){V.fillText(e,i,o-n+r*t)}),V.restore()}()}V.restore(),K&&(K.arcPoints=Q,K.arcAngles=$,K.center={x:M,y:E},K.radius={outerRadius:S,innerRadius:L},K.hoverOffset=I,K.tooltip={show:!$o(h)||h,formatter:s||""},K.pieItems=J)}}function Ce(e){for(var t=0,i=J.length;t<i;t++){var o=J[t],a=o.arcEndAngle,r=o.arcStartAngle,n=o.roseRadius,l=o.itemStyle,h=l.color,s=l.borderWidth,d=l.borderColor,u=l.borderType,c=void 0;if(o.value&&("stroke"===e&&0<s||"fill"===e)){if(V.save(),V.beginPath(),V.moveTo(L*Math.cos(r),L*Math.sin(r)),ie===t?(c=T?n+I+L:S+I,V.arc(0,0,c,r,a,!1),V.arc(0,0,L,a,r,!0),"fill"===e&&(V.globalAlpha=.9,V.shadowBlur=10,V.shadowColor="rgba(0, 0, 0, 0.5)")):(c=T?n+L:S,V.arc(0,0,c,r,a,!1),V.arc(0,0,L,a,r,!0)),V.closePath(),"fill"===e){if("string"==typeof h)V.fillStyle=h;else if("object"===(void 0===h?"undefined":De(h))){var g=h.type,f=h.colorStops,v=null;if("radial"===g)v=V.createRadialGradient(0,0,L,0,0,c);else if("linear"===g){var p=Go(o,D),x=p.minY,b=p.maxY;v=V.createLinearGradient(0,x,0,b)}if(v&&f instanceof Array){for(var y=0,m=f.length;y<m;y++){var w=f[y],C=w.offset,k=w.color;void 0!==C&&void 0!==k&&v.addColorStop(C,k)}V.fillStyle=v}}V.fill()}else"stroke"===e&&(V.strokeStyle=d,V.lineWidth=s,V.setLineDash("dashed"===u?[2,2]:[]),V.stroke());V.globalAlpha=1,V.restore()}}}},ruler:function(d,e,t,i,o){t.getValue("value");var u=t.getValue("max"),c=t.getValue("min"),a=t.getValue("labelEvery"),r=t.getValue("labelFont"),n=t.getColor("labelColor"),l=t.getValue("labelAlign"),h=t.getValue("labelDistance"),s=t.getValue("labelOffsetX"),g=t.getValue("labelOffsetY"),f=t.getValue("labelFormatter"),v=t.getValue("direction"),p=t.getValue("paddingBefore"),x=t.getValue("paddingAfter"),b=t.getColor("background"),y=t.getValue("smallTickEvery"),m=t.getColor("smallTickColor"),w=t.getValue("smallTickWidth"),C=t.getValue("smallTickLongness"),k=t.getValue("mediumTickEvery"),V=t.getColor("mediumTickColor"),D=t.getValue("mediumTickWidth"),T=t.getValue("mediumTickLongness"),I=t.getValue("largeTickEvery"),_=t.getColor("largeTickColor"),L=t.getValue("largeTickWidth"),R=t.getValue("largeTickLongness"),S=t.getValue("reverse"),P=e.x,A=e.y,M=e.width,B=e.height;b&&(d.fillStyle=b,d.fillRect(P,A,M,B));var E=u-c,O=B;v!==be&&v!==xe||(O=M);var W=[{every:y,color:m,longness:C,width:w},{every:k,color:V,longness:T,width:D},{every:I,color:_,longness:R,width:L}];if(S){if(W.forEach(function(e){if(e.every){var t=Re(e.longness,O);if(d.beginPath(),d.strokeStyle=e.color,d.lineWidth=e.width,v===se||v===de){var i=P+M-p,o=(M-p-x)*(e.every/E),a=v===se?A:A+B;v===de&&(t=0-t);for(var r=c;r<=u;r+=e.every)d.moveTo(i,a),d.lineTo(i,a+t),i-=o}else{var n=A+B-p,l=(B-p-x)*(e.every/E),h=v===be?P:P+M;v===xe&&(t=0-t);for(var s=c;s<=u;s+=e.every)d.moveTo(h,n),d.lineTo(h+t,n),n-=l}d.stroke()}}),a){var H=Re(h,O);if(d.fillStyle=n,d.font=r,v===se||v===de){var F=P+M-p+s,j=a/E*(M-p-x),N=(v===se?A:A+B)+g;if(v===de)H=0-H-pa(r,"1").height;else d.textBaseline="hanging";for(var z=c;z<=u;z+=a){var Y=f?f(z):z,G=pa(r,Y);l===ge?Se(d,Y,r,n,F-.5*G.width,N+H,G.width,G.height,l,"middle"):l===xe?d.fillText(Y,F-pa(r,Y).width+2,N+H):l===be&&d.fillText(Y,F,N+H),F-=j}}else{var X=A+B-p+g,U=a/E*(B-p-x),Z=(v===be?P:P+M)+s;d.textBaseline="middle",v===xe&&(H=0-H);for(var K=c;K<=u;K+=a){var J=f?f(K):K+"";v===xe?d.fillText(J,Z+H-pa(r,J).width+2,X):d.fillText(J,Z+H,X),X-=U}}}}else if(W.forEach(function(e){if(e.every){var t=Re(e.longness,O);if(d.beginPath(),d.strokeStyle=e.color,d.lineWidth=e.width,v===se||v===de){var i=P+p,o=(M-p-x)*(e.every/E),a=v===se?A:A+B;v===de&&(t=0-t);for(var r=c;r<=u;r+=e.every)d.moveTo(i,a),d.lineTo(i,a+t),i+=o}else{var n=A+p,l=(B-p-x)*(e.every/E),h=v===be?P:P+M;v===xe&&(t=0-t);for(var s=c;s<=u;s+=e.every)d.moveTo(h,n),d.lineTo(h+t,n),n+=l}d.stroke()}}),a){var q=Re(h,O);if(d.fillStyle=n,d.font=r,v===se||v===de){var Q=P+p+s,$=a/E*(M-p-x),ee=(v===se?A:A+B)+g;if(v===de)q=0-q-pa(r,"1").height;else d.textBaseline="hanging";for(var te=c;te<=u;te+=a){var ie=f?f(te):te,oe=pa(r,ie);l===ge?Se(d,ie,r,n,Q-.5*oe.width,ee+q,oe.width,oe.height,l,"middle"):l===xe?d.fillText(ie,Q-oe.width+2,ee+q):l===be&&d.fillText(ie,Q,ee+q),Q+=$}}else{var ae=A+p+g,re=a/E*(B-p-x),ne=(v===be?P:P+M)+s;d.textBaseline="middle",v===xe&&(q=0-q);for(var le=c;le<=u;le+=a){var he=f?f(le):le+"";v===xe?d.fillText(he,ne+q-pa(r,he).width+2,ae):d.fillText(he,ne+q,ae),ae+=re}}}},multilineText:function(i,e,t,o,a){var r=t.getValue("content"),n=t.getValue("font"),l=t.getValue("textAlign"),h=t.getValue("color"),s=t.getValue("lineHeight"),d=t.getColor("background"),u=t.getValue("padding"),c=t.getColor("borderColor"),g=t.getValue("borderWidth"),f=t.getValue("borderRadius"),v=t.getValue("dash"),p=t.getValue("dashPattern"),x=e.x,b=e.y,y=e.width,m=e.height,w=xa(u),C=Te(w,4),k=C[0],V=C[1],D=C[2],T=C[3],I=xa(f),_=Te(I,4),L=_[0],R=_[1],S=_[2],P=_[3];i.beginPath(),tr(i,x,b,y,m,L,R,P,S),i.closePath(),_a(i,{borderWidth:g,borderColor:c,dash:v,dashPattern:p,background:d});var A=T,M=k,B=0,E=y-T-V,O=r.split(/\n/),W=O.length*s+k+D,H=T+k;O.forEach(function(e){var t=pa(n,e);B=Math.max(B,t.width),F(i,e,n,h,A,M,E,s,l,"middle"),M+=s}),H+=B,o&&o.constructor===ht.Node&&(o.getWidth()===H&&o.getHeight()===W||(o.setSize(H,W),o.setSize3d(H,100,W)))},slider:function(e,t,i,o,a){var r=i.getValue("min"),n=i.getValue("max"),l=i.getValue("value"),h=i.getValue("step"),s=i.getValue("sliderImage"),d=i.getValue("sliderBorderWidth"),u=i.getValue("sliderBorderRadius"),c=i.getColor("sliderBorderColor"),g=i.getColor("sliderBackground"),f=i.getValue("sliderWidth"),v=i.getValue("sliderHeight"),p=i.getValue("sliderOffsetX"),x=i.getValue("sliderOffsetY"),b=i.getColor("barBackground"),y=i.getColor("barValueBackground"),m=i.getValue("barGradient"),w=i.getColor("barGradientColor"),C=i.getValue("barWidth"),k=i.getValue("barBorderRadius"),V=i.getValue("padding"),D=i.getValue("disabled"),T=i.getColor("disabledLayerColor"),I=i.getColor("showToolTip"),_=i.getColor("toolTipFormat"),L=Ma(a,o,i);l=Math.min(n,Math.max(r,l));var R=t.x,S=t.y,P=t.width,A=t.height,M=Math.abs(n-r),B={x:R+V,y:S+(A-C)/2,width:P-2*V,height:C};k<1&&(k*=C),Ua(e,B,b,k);var E=ht.Default.clone(B);E.width*=(l-r)/M,m&&(y=ht.Default.createGradient(e,m,y,w,B.x,B.y,B.width,B.height)),Ua(e,E,y,k);var O=E.x+E.width-f/2+p,W=E.y+(C-v)/2+x;s?H(e,ht.Default.getImage(s),O,W,f,v):(u<1&&(u*=Math.min(f,v)),e.beginPath(),tr(e,O,W,f,v,u),e.closePath(),e.fillStyle=g,e.fill(),d&&(e.lineWidth=d,e.strokeStyle=c,e.stroke())),D&&(e.fillStyle=T,e.fillRect(R,S,P,A)),L&&(L.disabled=D,L.value=l,L.max=n,L.min=r,L.step=h,L.showToolTip=I,L.toolTipFormat=_,L.barRect=B,L.onChange=i.getValue("onChange"),L.sliderRect={x:O,y:W,width:f,height:v})},rangeSlider:function(e,t,i,o,a){var r=i.getValue("min"),n=i.getValue("max"),l=i.getValue("value"),h=i.getValue("step"),s=i.getValue("sliderImage"),d=i.getValue("sliderBorderWidth"),u=i.getValue("sliderBorderRadius"),c=i.getColor("sliderBorderColor"),g=i.getColor("sliderBackground"),f=i.getValue("sliderWidth"),v=i.getValue("sliderHeight"),p=i.getValue("sliderOffsetX"),x=i.getValue("sliderOffsetY"),b=i.getColor("barBackground"),y=i.getColor("barValueBackground"),m=i.getValue("barGradient"),w=i.getColor("barGradientColor"),C=i.getValue("barWidth"),k=i.getValue("barBorderRadius"),V=i.getValue("padding"),D=i.getValue("disabled"),T=i.getColor("disabledLayerColor"),I=i.getColor("showToolTip"),_=i.getColor("toolTipFormat"),L=Ma(a,o,i),R=t.x,S=t.y,P=t.width,A=t.height,M=Te(l,2),B=M[0],E=M[1];B=Math.max(r,B),E=Math.min(n,E);var O=Math.abs(n-r),W={x:R+V,y:S+(A-C)/2,width:P-2*V,height:C};k<1&&(k*=C),Ua(e,W,b,k);var H=ht.Default.clone(W);H.width*=(E-B)/O,H.x+=(B-r)/O*W.width,m&&(y=ht.Default.createGradient(e,m,y,w,W.x,W.y,W.width,W.height)),Ua(e,H,y,k);var F=H.x-f/2+p,j=H.x+H.width-f/2+p,N=H.y+(C-v)/2+x;s?(Ae(e,ht.Default.getImage(s),F,N,f,v),Ae(e,ht.Default.getImage(s),j,N,f,v)):(u<1&&(u*=Math.min(f,v)),e.beginPath(),tr(e,F,N,f,v,u),e.closePath(),e.fillStyle=g,e.fill(),d&&(e.lineWidth=d,e.strokeStyle=c,e.stroke()),e.beginPath(),tr(e,j,N,f,v,u),e.closePath(),e.fillStyle=g,e.fill(),d&&(e.lineWidth=d,e.strokeStyle=c,e.stroke())),D&&(e.fillStyle=T,e.fillRect(R,S,P,A)),L&&(L.disabled=D,L.value=l,L.max=n,L.min=r,L.step=h,L.valueBarDraggable=i.getValue("valueBarDraggable"),L.onChange=i.getValue("onChange"),L.showToolTip=I,L.toolTipFormat=_,L.barRect=W,L.valueBarRect=H,L.sliderRect={x:F,y:N,width:f,height:v},L.sliderRect2={x:j,y:N,width:f,height:v})},multipleComboBox:function(r,e,t,i,o){var a=t.getValue("value"),n=t.getValue("dataSource"),l=t.getValue("placeholder"),h=t.getValue("disabled"),s=t.getValue("borderWidth"),d=t.getColor("borderColor"),u=t.getColor("focusBorderColor"),c=t.getValue("borderRadius"),g=t.getColor("background"),f=t.getColor("focusBackground")||g,v=t.getColor("disabledLayerColor"),p=t.getValue("itemFont"),x=t.getColor("itemTextColor"),b=t.getColor("itemBorderWidth"),y=t.getColor("itemBorderColor"),m=t.getColor("itemBorderRadius"),w=t.getColor("itemBackground"),C=t.getColor("itemGradient"),k=t.getColor("itemGradientColor"),V=t.getValue("itemPadding"),D=t.getValue("itemHGap"),T=t.getValue("itemVGap"),I=t.getValue("closeIconOnLeft"),_=t.getValue("closeIconSize"),L=t.getColor("closeIconColor"),R=t.getValue("padding"),S=Ma(o,i,t),P=S&&S.editing,A=e.x,M=e.y,B=e.width,E=e.height,O=xa(R),W=Te(O,4),H=W[0],F=W[1],j=W[2],N=W[3],z=xa(c),Y=Te(z,4),G=Y[0],X=Y[1],U=Y[2],Z=Y[3],K=void 0;i&&P?(K=f,d=u):K=g,r.beginPath(),tr(r,A,M,B,E,G,X,Z,U),r.closePath(),K&&(r.fillStyle=K,r.fill()),(s&&d||P&&s&&u)&&(r.strokeStyle=P?u:d,r.lineWidth=s,r.stroke());var J=[];a&&n&&a.forEach(function(e){for(var t=0;t<n.length;t++)if(e===n[t].value){J.push(n[t]);break}});var q=[],Q=xa(V),$=Te(Q,4),ee=$[0],te=$[1],ie=$[2],oe=$[3],ae=[A+N-b/2,M+H-b/2,B-N-F+b,E-H-j+b+1];r.save(),r.beginPath(),r.rect.apply(r,ae),r.clip();var re=1,ne=void 0;if(0<J.length){var le=[A+N+b/2,M+H+b/2,B-N-F-b,E-H-j-b],he=le[0],se=le[1],de=0,ue=xa(m),ce=Te(ue,4),ge=ce[0],fe=ce[1],ve=ce[2],pe=ce[3],xe=w;J.forEach(function(e){var t=e.label||e.value,i=pa(p,t);ne=ne||i.height,de&&he+i.width+D+b+7>le[0]+le[2]&&(he=le[de=0],se+=ne+T+b+ee+ie,re++);var o=[he,se,i.width+oe+te+_+2,i.height+ee+ie];b&&(r.beginPath(),r.strokeStyle=y,tr.apply(void 0,[r].concat(o,[ge,fe,pe,ve])),r.closePath(),w&&(C&&k&&(xe=ze.apply(void 0,[r,C,w,k].concat(o))),r.fillStyle=xe,r.fill()),r.stroke());var a=[o[0]+oe+i.width+2,o[1]+ee,_,o[3]-ie-ee];I&&(a[0]=o[0]+oe,o[0]+=_+2),o[2]=o[2]-_-2,q.push({value:e.value,rect:a}),r.beginPath(),r.strokeStyle=L,r.lineCap="round",r.moveTo(a[0],a[1]+(a[3]-_)/2),r.lineTo(a[0]+a[2],a[1]+(a[3]-_)/2+_),r.moveTo(a[0]+a[2],a[1]+(a[3]-_)/2),r.lineTo(a[0],a[1]+(a[3]-_)/2+_),r.stroke(),Ne.apply(void 0,[r,t,p,x].concat(o,["center","middle"])),he+=i.width+D+b+oe+te+_+2,de++})}else if(l){var be=pa(p,l),ye=[A+N,M+H,B-N-F,be.height+ee+ie];Ne.apply(void 0,[r,l,p,Ie.placeholderColor].concat(ye,["left","middle"])),ne=be.height}if(r.restore(),h){var me=[A-s/2,M-s/2,B+s,E+s];r.save(),r.beginPath(),tr.apply(void 0,[r].concat(me,[G,X,Z,U])),r.clip(),r.fillStyle=v,r.fill(),r.restore()}i&&(i.__suggestHeight=H+j+(ee+ie+ne)*re+T*(re-1)),S&&(S.value=a,S.valueItemInfo=q,S.disabled=h,S.dataSource=n,S.dropIconWidth=t.getValue("dropIconWidth"),S.dropIconHeight=t.getValue("dropIconHeight"),S.dropRowHeight=t.getValue("dropRowHeight"),S.dropWidth=t.getValue("dropWidth"),S.dropBackground=t.getValue("dropBackground"),S.dropLabelFont=t.getValue("dropLabelFont"),S.dropLabelColor=t.getValue("dropLabelColor"),S.dropActiveLabelColor=t.getValue("dropActiveLabelColor"),S.dropActiveBackground=t.getValue("dropActiveBackground"),S.dropHoverBackground=t.getValue("dropHoverBackground"),S.dropMaxHeight=t.getValue("dropMaxHeight"),S.onChange=t.getValue("onChange"),S.hideSelected=t.getValue("hideSelected"),S.maxSelection=t.getValue("maxSelection"))},richTextPane:function(h,e,t,s,d){var i=t.getValue("content"),o=t.getColor("background"),a=t.getValue("bgGradient"),r=t.getColor("bgGradientColor"),n=t.getValue("showArrow"),u=t.getValue("arrowOrientation"),l=t.getValue("arrowPosition"),c=t.getValue("padding"),g=t.getValue("vGap"),f=t.getValue("hGap"),v=t.getValue("font"),p=t.getValue("color"),x=t.getColor("borderColor"),b=t.getValue("borderWidth")||0,y=t.getValue("dash"),m=t.getValue("dashPattern"),w=t.getValue("vAlign"),C=xa(c),k=Te(C,4),V=k[0],D=(k[1],k[2],k[3]),T=e.x+b/2,I=e.y+b/2,_=e.width-b,L=e.height-b,R=[T,I,_,L];if(h.save(),n)if(h.beginPath(),de===u){var S=_-10;h.moveTo(T,I),h.lineTo(T+_,I),h.lineTo(T+_,I+L-10),h.lineTo(T+S*l+10,I+L-10),h.lineTo(T+S*l+5,I+L),h.lineTo(T+S*l,I+L-10),h.lineTo(T,I+L-10),h.closePath(),R=[T,I,_,L-10]}else if(be===u){var P=L-10;h.moveTo(T+10,I),h.lineTo(T+_,I),h.lineTo(T+_,I+L),h.lineTo(T+10,I+L),h.lineTo(T+10,I+P*l+10),h.lineTo(T,I+P*l+5),h.lineTo(T+10,I+P*l),h.closePath(),R=[T+10,I,_-10,L]}else if(xe===u){var A=L-10;h.moveTo(T,I),h.lineTo(T+_-10,I),h.lineTo(T+_-10,I+A*l),h.lineTo(T+_,I+A*l+5),h.lineTo(T+_-10,I+A*l+10),h.lineTo(T+_-10,I+L),h.lineTo(T,I+L),h.closePath(),R=[T,I,_-10,L]}else{var M=_-10;h.moveTo(T+M*l,I+10),h.lineTo(T+M*l+5,I),h.lineTo(T+M*l+10,I+10),h.lineTo(T+_,I+10),h.lineTo(T+_,I+L),h.lineTo(T,I+L),h.lineTo(T,I+10),h.closePath(),R=[T,I+10,_,L-10]}else h.beginPath(),h.rect(T,I,_,L);if(_a(h,{borderWidth:b,borderColor:x,background:o,bgGradient:a,bgGradientColor:r,contentRect:R,dash:y,dashPattern:m}),o){var B;if(a)o=(B=ht.Default).createGradient.apply(B,[h,a,o,r].concat(Me(R)));h.fillStyle=o,h.fill()}if(x&&b&&(h.lineWidth=b,h.strokeStyle=x,h.stroke()),h.textAlign="left",i){i.length;var E=I+V+(u===se?10:0);i.forEach(function(e,t){var r=T+D+(u===be?10:0),n=0,l=(i.length,[]);e.forEach(function(e,t){var i=Xa(e.text,s,d),o=pa(e.font||v,i);n=Math.max(n,o.height),o.width,l[t]=o.width}),e.forEach(function(e,t){var i=Xa(e.text,s,d),o=Xa(e.font,s,d)||v,a=Xa(e.vAlign,s,d)||w;h.fillStyle=Xa(e.color,s,d)||p,h.font=o,"top"===(h.textBaseline=a)?h.fillText(i,r,E):"middle"===a?h.fillText(i,r,E+n/2):h.fillText(i,r,E+n),r+=l[t]+f}),n,E+=g+n})}h.restore()},textBox:function(o,e,t,i,a){var r=t.getValue("content"),n=t.getValue("autoScale"),l=t.getValue("font"),h=t.getValue("wordBreak"),s=t.getValue("vAlign"),d=t.getColor("color"),u=t.getValue("lineHeight"),c=t.getValue("textAlign"),g=t.getValue("padding"),f=t.getColor("background"),v=t.getValue("fillContent"),p=t.getColor("borderColor"),x=t.getValue("borderWidth"),b=t.getValue("borderRadius"),y=t.getValue("dash"),m=t.getValue("dashPattern"),w=t.getValue("bgGradient"),C=t.getColor("bgGradientColor"),k=t.getValue("translateX"),V=t.getValue("translateY"),D=t.getColor("scrollBarColor"),T=t.getValue("scrollable"),I=t.getValue("autoHideScrollBar"),_=t.getValue("scrollBarWidth"),L=t.getValue("scrollBarWidthAbsolute"),R=t.getValue("underline"),S=xa(g),P=Te(S,4),A=P[0],M=P[1],B=P[2],E=P[3],O=xa(b),W=Te(O,4),H=W[0],F=W[1],j=W[2],N=W[3];if(o.beginPath(),tr(o,e.x,e.y,e.width,e.height,H,F,N,j),o.closePath(),_a(o,{borderWidth:x,borderColor:p,dash:y,dashPattern:m,background:f,bgGradient:w,bgGradientColor:C,contentRect:[e.x,e.y,e.width,e.height]}),r&&i){o.save();var z=e.x,Y=e.y,G=z+E,X=Y+A,U=parseInt(e.width)-E-M,Z=parseInt(e.height)-A-B,K=sa(r,l,U,h);if(n&&K.length*u>Z){var J=U+"-"+Z+l+u,q=rt[J];q=q||(rt[J]={});var Q=0,$=0,ee=void 0,te=void 0,ie=void 0,oe=void 0,ae=void 0,re=void 0;if(s="top",q&&q[r])te=1/(ee=q[r]),oe=ee*u,re=parseInt(U*te),o.scale(ee,ee),K=sa(r,l,re,h);else{for(;Q<4;){if(te=1/(ee=Math.sqrt(Z/((K.length+$)*u))),oe=ee*u,re=parseInt(U*te),ae&&o.scale(ae,ae),o.scale(ee,ee),(ie=sa(r,l,re,h)).length*oe>Z)$+=Math.ceil((ie.length*oe-Z)/oe+.5),ae=te;else{if(!(ie.length*oe<Z&&Math.abs(Z-ie.length*oe)>2*oe)){K=ie;break}$-=Math.floor((Z-ie.length*oe)/oe),ae=te}4==++Q&&(K=ie)}q[r]=ee}G=(z+E)*te,X=(Y+A)*te,K.forEach(function(e,t){if(ht.Default.drawText(o,e,l,d,G,X,re,oe,c,s),R){var i=pa(l,e);at(o,{x:G,y:X,height:u,width:re},i.width,c,d)}X+=u})}else if(v&&(K.length+1)*u<Z){var ne=U+"-"+Z+l+u,le=rt[ne];le=le||(rt[ne]={});var he=0,se=void 0,de=void 0,ue=void 0,ce=void 0,ge=void 0,fe=void 0;if(s="top",le&&le[r])de=1/(se=le[r]),ce=se*u,fe=parseInt(U*de),o.scale(se,se),K=sa(r,l,fe,h);else{for(var ve=Math.sqrt(Z/(K.length*u));he<4;){if(de=1/(se=ve),ce=se*u,fe=parseInt(U*de),ge&&o.scale(ge,ge),o.scale(se,se),!((ue=sa(r,l,fe,h)).length*ce>Z||ue.length*ce<Z&&Z-ue.length*ce>.8*ce)){K=ue;break}ge=de,ve*=Math.sqrt(Z/(ue.length*ce)),4==++he&&(K=ue)}le[r]=se}G=(z+E)*de,X=(Y+A)*de,K.forEach(function(e,t){if(ht.Default.drawText(o,e,l,d,G,X,fe,ce,c,s),R){var i=pa(l,e);at(o,{x:G,y:X,height:u,width:fe},i.width,c,d)}X+=u})}else if(!n&&T){var pe=z+E,xe=Y+A,be=xe-u,ye=xe+Z+u;o.save(),o.beginPath(),o.rect(pe,xe,U,Z),o.clip(),X+=V,K.forEach(function(e,t){if(be<=X&&X<ye&&(ht.Default.drawText(o,e,l,d,G,X,U,u,c,s),R)){var i=pa(l,e);at(o,{x:G,y:X,height:u,width:U},i.width,c,d)}X+=u}),o.restore();var me=Ma(a,i,t),we=U,Ce=K.length*u,ke=a.getZoom?a.getZoom():1,Ve=L?_/ke:_;me&&(me.translateX=k,me.translateY=V),Be(o,{x:G,y:Y+A,width:U,height:Z},{width:we,height:Ce},{x:k,y:V},{visible:!I||me.scrollBarVisible,color:D,gap:0,barWidth:Ve},me||{})}else"middle"===s?X+=(Z-K.length*u)/2:"bottom"===s&&(X+=Z-K.length*u),K.forEach(function(e,t){if(ht.Default.drawText(o,e,l,d,G,X,U,u,c,s),R){var i=pa(l,e);at(o,{x:G,y:X,height:u,width:U},i.width,c,d)}X+=u});o.restore()}},textEllipsis:function(e,t,i,o,a){var r,n=i.getValue("content"),l=i.getValue("font"),h=i.getValue("align"),s=i.getValue("vAlign"),d=i.getColor("color"),u=i.getValue("padding"),c=i.getColor("background"),g=i.getColor("borderColor"),f=i.getValue("borderWidth"),v=i.getValue("borderRadius"),p=i.getValue("dash"),x=i.getValue("dashPattern"),b=i.getValue("bgGradient"),y=i.getColor("bgGradientColor"),m=xa(u),w=Te(m,4),C=w[0],k=w[1],V=w[2],D=w[3],T=xa(v),I=Te(T,4),_=I[0],L=I[1],R=I[2],S=I[3];e.beginPath(),tr(e,t.x,t.y,t.width,t.height,_,L,S,R),e.closePath(),_a(e,{borderWidth:f,borderColor:g,dash:p,dashPattern:x,background:c,bgGradient:b,bgGradientColor:y,contentRect:[t.x,t.y,t.width,t.height]});for(var P=[t.x+D,t.y+C,t.width-D-k,t.height-C-V],A=P[2],M="",B=0;B<n.length;B++){M+=n[B];var E=pa(l,M+"...").width;if(E<=A&&B==n.length-1){n=M;break}if(A<E){n=(M=M.slice(0,M.length-1))+"...";break}}(r=ht.Default).drawText.apply(r,[e,n,l,d].concat(P,[h,s]))},verticalTextBox:function(o,e,t,i,a){var r=t.getValue("content"),n=t.getValue("font"),l=t.getColor("color"),h=t.getValue("padding"),s=t.getValue("startOnRight"),d=t.getColor("background"),u=t.getColor("borderColor"),c=t.getValue("borderWidth"),g=t.getValue("borderRadius"),f=t.getValue("dash"),v=t.getValue("dashPattern"),p=t.getValue("bgGradient"),x=t.getColor("bgGradientColor"),b=t.getValue("wordBreak"),y=t.getValue("vGap"),m=t.getValue("hGap"),w=t.getValue("autoWrap"),C=xa(h),k=Te(C,4),V=k[0],D=k[1],T=k[2],I=k[3],_=xa(g),L=Te(_,4),R=L[0],S=L[1],P=L[2],A=L[3];if(o.beginPath(),tr(o,e.x,e.y,e.width,e.height,R,S,A,P),o.closePath(),_a(o,{borderWidth:c,borderColor:u,dash:f,dashPattern:v,background:d,bgGradient:p,bgGradientColor:x,contentRect:[e.x,e.y,e.width,e.height]}),r){var M={x:e.x+I,y:e.y+V,width:e.width-I-D,height:e.height-V-T},B=M.x,E=M.y,O=M.width,W=w?function(e,g,f,v,p){var x=[];return e.split("\n").forEach(function(e){if(""===e&&(e=Y),p)Array.prototype.push.apply(x,nt(e,f,g,v));else{for(var t,i,o,a="",r=void 0,n=void 0,l="",h=0;h<e.length;h++){e.charAt(h).match(/[a-z|A-Z]/g)?a+="1":a+="2"}a=(a=a.replace(/21/g,"2_1")).replace(/12/g,"1_2");for(var s=0;s<a.length;s++){a.charAt(s).match(/\_/g)&&(e=Ca(e,s+1,"|"))}t=e.split("|"),i=a.split("_");for(var d=(o=pa(g,"å›¾")).height/3,u=0,c=t.length;u<c;u++)r=l+t[u],d+=o.height*t[u].length+v,"1"===i[u][0]?f<d?(l?(x.push(l),l="",u--):(n=nt(t[u],f,g,v),Array.prototype.push.apply(x,n.slice(0,n.length-1)),l=n[n.length-1]),d=o.height/3):d===f?(x.push(r),l="",d=o.height/3):l=r:f<d?(n=nt(r,f,g,v),Array.prototype.push.apply(x,n.slice(0,n.length-1)),l=n[n.length-1],d=o.height/3):l=r;l&&x.push(l)}}),x}(r,n,M.height,y,b):[r],H=pa(n,"å›¾"),F=H.width,j=H.height,N=void 0,z=void 0;o.save(),o.fillStyle=l,o.textBaseline="top",o.font=n,s?(N=B+O-F,z=E,W.forEach(function(e){for(var t=0;t<e.length;t++){var i=e[t];o.fillText(i,N,z),z+=y+j}z=E,N=N-F-m})):(N=B,z=E,W.forEach(function(e){for(var t=0;t<e.length;t++){var i=e[t];o.fillText(i,N,z),z+=y+j}z=E,N+=F+m})),o.restore()}},tree:function(T,I,e,_,L){var t=e.getValue("dataSource"),R=e.getValue("itemHeight"),S=e.getValue("badgeHeight"),P=e.getValue("badgeSpace"),A=e.getValue("badgeRadius"),M=e.getValue("translateX"),i=e.getValue("translateY"),o=e.getValue("borderWidth"),B=e.getValue("rowLineWidth"),a=e.getValue("treeFont"),E=e.getValue("badgeFont"),O=e.getColor("textColor"),W=e.getColor("hoverBackColor"),H=e.getColor("hoverTextColor"),F=e.getColor("selectBackColor"),j=e.getColor("selectTextColor"),r=e.getColor("backColor"),n=e.getColor("borderColor"),N=e.getValue("rowLineColor"),l=e.getColor("lineColor"),z=e.getValue("showLine"),Y=e.getValue("showCheckbox"),G=e.getValue("showIcon"),X=e.getValue("showBadge"),U=e.getValue("visibleFunc")||function(){return!0},Z=e.getColor("itemBackColor"),h=Ma(L,_,e),s=null,K=null,d=I.x,u=I.y,c=I.width,g=I.height,J=0,q=-B,Q={togglesRect:[],visibleRowsRect:[],checksRect:[],badgesRect:[]};if(h&&(h.treeTableDataModel?s=h.treeTableDataModel:(s=new Je,h.treeTableDataModel=s),s.reset(e,I),s.init(t),Y&&s.eachByBreadthFirst(function(e){e.a("checked")&&(e.checkAfter(),e.checkBefore())})),s){var $=s.getTreeIconInfo(e);r&&(T.save(),T.fillStyle=r,T.beginPath(),T.fillRect(d,u,c,g),T.restore()),T.save(),z&&(T.strokeStyle=l,T.setLineDash([1,1]),T.lineWidth=.5,T.lineJoin="miter"),T.font=a,T.fillStyle=O,T.textBaseline="top",T.textAlign="start";var ee=2*T.measureText("e").width;T.beginPath(),T.rect(d,u,c,g),T.clip(),s.getRoots().each(function e(t){if(U(t)){t.a("treeTextWH",{textWidth:T.measureText(t.a("text")).width+2,textHeight:ee}),t.initNodeRect(K);var i=(K=t).a("rowRect"),o=t.a("treeTextRect"),a=o.x,r=o.width,n={x:i.x-M,y:i.y,width:i.width,height:i.height};if(q+=R+B,J=Math.max(J,a-M+r),Qe(I,n)){var l=t.a("_isHovering"),h=t.a("selected"),s=t.a("disabled");if(Z){var d=n.x,u=n.y,c=n.width,g=n.height;T.save(),T.fillStyle=Z,T.fillRect(d,u,c,g+1),T.restore()}if(W&&l){var f=n.x,v=n.y,p=n.width,x=n.height;T.save(),T.fillStyle=W,T.fillRect(f,v,p,x),T.restore()}if(F&&h){var b=n.x,y=n.y,m=n.width,w=n.height;T.save(),T.fillStyle=F,T.fillRect(b,y,m,w),T.restore()}if(t.drawTreeToggleIcon(T,_,L,$,Q),Y&&t.drawTreeCheckIcon(T,_,L,$,Q),G&&t.drawTreeIcon(T,_,L,$),X&&t.drawTreeBadge(T,{badgeFont:E,badgeHeight:S,badgeSpace:P,badgeRadius:A},Q),z&&t.drawTreeCable(T,U),t.drawTreeText(T,{textColor:O,selectTextColor:j,hoverTextColor:H}),s){var C=n.x,k=n.y,V=n.width,D=n.height;T.save(),T.fillStyle="rgba(192, 192, 192, 0.5)",T.fillRect(C,k,V,D),T.restore()}t.drawRowLine(T,{rowLineWidth:B,rowLineColor:N},n),Q.visibleRowsRect.push({node:t,visibleRowRect:n})}t.a("expanded")&&t.getChildren().each(e)}}),s.drawBorder(T,n),T.restore(),h&&(h.translateX=M,h.translateY=i,h.rectInfo=Q);var f={x:d+o,y:u+o,width:c-2*o,height:g-2*o};s.drawScrollBar(T,e,L,h,J,q,f)}},treeTable:function(L,R,S,P,A){var e=S.getValue("dataSource"),M=S.getValue("translateX"),t=S.getValue("translateY"),i=S.getValue("borderWidth"),o=S.getColor("borderColor"),a=S.getValue("columnLineWidth"),r=S.getColor("columnLineColor"),B=S.getValue("rowLineWidth"),E=S.getColor("rowLineColor"),O=S.getValue("showLine"),W=S.getValue("showCheckbox"),H=S.getValue("showIcon"),n=S.getColor("lineColor"),l=S.getValue("showHead"),h=S.getValue("thHeight"),F=S.getValue("tdHeight"),j=S.getValue("tdFont"),s=S.getColor("thColor"),N=S.getColor("tdColor"),d=S.getColor("thBackground"),z=S.getColor("tdBackground"),Y=S.getValue("visibleFunc")||function(){return!0},G=S.getValue("drawRow"),X=S.getColor("hoverTextColor"),U=S.getColor("hoverBackColor"),Z=S.getColor("selectTextColor"),K=S.getColor("selectBackColor"),u=Ma(A,P,S),c=null,J=null,g=R.x,f=R.y,v=R.width,p=R.height,x=0,q=l?h:-B,Q={togglesRect:[],visibleRowsRect:[],checksRect:[],headCellsRect:[]};if(u&&(u.treeTableDataModel?c=u.treeTableDataModel:(c=new Je,u.treeTableDataModel=c),c.reset(S,R,u),c.init(e),W&&c.eachByBreadthFirst(function(e){e.a("checked")&&(e.checkAfter(),e.checkBefore())})),c){var $=c.a("visibleColumns"),ee=c.getTreeIconInfo(S),te=c.a("treeColumnIndex");L.save(),O&&(L.strokeStyle=n,L.setLineDash([1,1]),L.lineWidth=.5,L.lineJoin="miter"),L.font=j,L.fillStyle=N,L.textBaseline="top",L.textAlign="start";var ie=2*L.measureText("e").width;L.beginPath(),L.rect(g,f,v,p),L.clip();var oe=0;c.getRoots().each(function e(t){if(Y(t)){t.a("treeTextWH",{textWidth:L.measureText(t.a("text")).width+2,textHeight:ie}),t.initNodeRect(J),oe++;var i=(J=t).a("rowRect"),o={x:i.x-M,y:i.y,width:i.width,height:i.height};if(q+=F+B,$e(R,o)){var a=t.a("cellsRect"),r=a.length,n=t.a("_isHovering"),l=t.a("selected"),h=t.a("disabled");if(t.drawTableRow(L,{comp:S,visibleRowRect:o,tdBackground:z,drawRow:G}),U&&n){var s=o.x,d=o.y,u=o.width,c=o.height;L.save(),L.fillStyle=U,L.fillRect(s,d,u,c),L.restore()}if(K&&l){var g=o.x,f=o.y,v=o.width,p=o.height;L.save(),L.fillStyle=K,L.fillRect(g,f,v,p),L.restore()}if(0<r)for(var x=0;x<r;x++){var b=a[x],y=b.x,m=b.y,w=b.width,C=b.height,k=$[x],V=t.getTextColor({textColor:N,hoverTextColor:X,selectTextColor:Z},k);L.save(),L.beginPath(),V!==N&&(L.fillStyle=V),x==te?(L.rect(y,R.y,w,R.height),L.clip(),t.drawTreeToggleIcon(L,P,A,ee,Q),W&&t.drawTreeCheckIcon(L,P,A,ee,Q),H&&t.drawTreeIcon(L,P,A,ee),O&&t.drawTreeCable(L,Y),t.drawTreeText(L,{selectTextColor:Z,hoverTextColor:X})):(L.rect(y,m,w,C),L.clip(),t.drawTableCell(L,{comp:S,data:P,column:k,cellRect:b,tdFont:j,tdColor:V,colIndex:x,textHeight:ie,visibleRowIndex:oe})),L.restore()}if(h){var D=o.x,T=o.y,I=o.width,_=o.height;L.save(),L.fillStyle="rgba(192, 192, 192, 0.5)",L.fillRect(D,T,I,_),L.restore()}t.drawRowLine(L,{rowLineWidth:B,rowLineColor:E},o),Q.visibleRowsRect.push({node:t,visibleRowRect:o})}t.a("expanded")&&t.getChildren().each(e)}}),c.drawTableHead(L,u,{comp:S,data:P,columnLineColor:r,thColor:s,thBackground:d}),c.drawBorder(L,o),c.drawDragColumnLine(L,u),L.restore();for(var b=c.a("columnsRect"),y=0,m=b.length;y<m;y++){x+=b[y].width,y!==m-1&&(x+=a)}u&&(u.translateX=M,u.translateY=t,u.rectInfo=Q);var w={x:g+i,y:f+i,width:v-2*i,height:p-2*i};c.drawScrollBar(L,S,A,u,x,q,w)}},chart:function(t,e,i,o,a){var r=i.getValue("series"),n=i.getValue("xAxis"),l=i.getValue("yAxis"),h=i.getValue("colors"),s=i.getColor("background"),d=i.getValue("onRectSelected"),u=i.getValue("rectSelectBorderColor"),c=i.getValue("rectSelectBackground"),g=i.getValue("boundaryGap"),f={show:i.getValue("tooltip"),lineWidth:i.getValue("tooltipLineWidth"),lineColor:i.getValue("tooltipLineColor"),formatter:i.getValue("tooltipFormatter")};if(r&&r.length){var v={color:h&&h.length?h:To,xAxis:eo(n,Do),yAxis:eo(l,Vo),series:r,tooltip:f,onRectSelected:d,rectSelectBorderColor:u,rectSelectBackground:c},p={data:o,view:a,boundaryGap:g,rect:e,contentRect:Mo(e),valueAxis:K,seriesDatas:r.map(function(e){return!1===e.visible?[]:Xa(e.data,o,a)}),seriesColors:[],interactiveInfo:{}};if(v.xAxis.forEach(function(e){e._axisObj=new Lo(e,v,p)}),v.yAxis.forEach(function(e){e._axisObj=new So(e,v,p)}),$i(v,p),o){var x=Ma(a,o,i);if(x){var b=x;p.hoverIndex=b.hoverIndex,p._dragging=b._dragging,p.rectPoint1=b.rectPoint1,p.rectPoint2=b.rectPoint2,b._dragging&&b.rectPoint1&&b.rectPoint2&&(p.selectRect=Bo(b.rectPoint1,b.rectPoint2))}}if(s&&(t.fillStyle=s,t.fillRect(e.x,e.y,e.width,e.height)),v.xAxis.forEach(function(e){e._axisObj.draw(t)}),v.yAxis.forEach(function(e){e._axisObj.draw(t)}),r&&r.length&&function(a,r,n){var e=r.series,t=n.interactiveInfo.axisInfos=r.xAxis.map(function(e){return e._axisObj.axisInfos.map(function(e){return{position:e.position,label:e.label,series:[]}})});if(n.barSeries=[],n.barCategoryGap=null,e.forEach(function(e,t){e.type===D&&!1!==e.visible&&(n.barSeries.push(e),Qa(e.barCategoryGap)&&(n.barCategoryGap=e.barCategoryGap))}),e.forEach(function(e,t){var i=e.type,o=void 0;i===T?o=Co:i===D&&(o=ko),o&&o(a,e,t,r,n)}),void 0!==n.hoverIndex){var i=t[0][n.hoverIndex].position,o=n.bounds.bodyRect;a.strokeStyle=r.tooltip.lineColor,a.lineWidth=r.tooltip.lineWidth,a.beginPath(),a.moveTo(i,o.y),a.lineTo(i,o.y+o.height),a.stroke(),n._hoverHandlers&&n._hoverHandlers.forEach(function(e){e()})}}(t,v,p),p.selectRect){var y=p.selectRect,m=y.x,w=y.y,C=y.width,k=y.height;t.fillStyle=c,t.fillRect(m,w,C,k),t.strokeStyle=u,t.strokeRect(m,w,C,k)}if(o){var V=Ma(a,o,i);V.ui=p,V.option=v}}},radioButton:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("values")||[],l=i.getValue("labels")||[],h=i.getValue("borderWidth"),s=i.getValue("borderRadius"),d=i.getValue("font"),u=i.getColor("labelColor"),c=i.getColor("borderColor"),g=i.getColor("background"),f=i.getColor("hoverLabelColor"),v=i.getColor("hoverBorderColor"),p=i.getColor("hoverBackground"),x=i.getColor("activeLabelColor"),b=i.getColor("activeBorderColor"),y=i.getColor("activeBackground"),m=i.getColor("disabledLabelColor"),w=i.getColor("disabledBorderColor"),C=i.getColor("disabledBackground"),k=i.getValue("vertical"),V=i.getValue("onChange"),D=i.getValue("disabled"),T=Ma(a,o,i),I=t.x,_=t.y,L=t.width,R=t.height,S=Math.min(n.length,l.length);if(S){if(ut=ct=null,Qa(r)){var P=n.indexOf(r);ct=0<=P?P:null}T&&Qa(T.hoverIndex)&&(ut=T.hoverIndex);for(var A=[],M=0;M<S;M++)M!==ut&&M!==ct&&A.push(M);Qa(ut)&&ut===ct?A.push(ut):(Qa(ct)&&A.push(ct),Qa(ut)&&A.push(ut));var B,E,O,W,H,F,j,N,z,Y,G,X,U,Z,K,J,q,Q,$,ee,te,ie,oe,ae,re,ne,le,he,se=[];if(k)for(var de=R/S,ue=0;ue<A.length;ue++){var ce=A[ue],ge=l[ce],fe={x:I,y:_+ce*de,width:L,height:de};se.push({rect:fe,index:ce});var ve=lt(ce,D,u,f,x,m),pe=lt(ce,D,c,v,b,w),xe=lt(ce,D,g,p,y,C);K=e,J=fe,q=st(ce,S),Q=s,$=ge,ee=d,te=ve,ie=h,oe=pe,ae=xe,void 0,re=J.x,ne=J.y,le=J.width,he=J.height,K.save(),K.beginPath(),0===q?tr(K,re,ne,le,he,Q,Q,0,0):1===q?tr(K,re,ne,le,he,0):2===q?tr(K,re,ne,le,he,0,0,Q,Q):tr(K,re,ne,le,he,Q),K.closePath(),ae&&(K.fillStyle=ae,K.fill()),oe&&ie&&(K.strokeStyle=oe,K.stroke()),K.clip(),dt(K,$,ee,te,re,ne,le,he,"center","middle"),K.restore()}else for(var be=L/S,ye=0;ye<A.length;ye++){var me=A[ye],we=l[me],Ce={x:I+be*me,y:_,width:be,height:R};se.push({rect:Ce,index:me});var ke=lt(me,D,u,f,x,m),Ve=lt(me,D,c,v,b,w),De=lt(me,D,g,p,y,C);B=e,E=Ce,O=st(me,S),W=s,H=we,F=d,j=ke,N=h,z=Ve,Y=De,void 0,G=E.x,X=E.y,U=E.width,Z=E.height,B.save(),B.beginPath(),0===O?tr(B,G,X,U,Z,W,0,W,0):1===O?tr(B,G,X,U,Z,0):2===O?tr(B,G,X,U,Z,0,W,0,W):tr(B,G,X,U,Z,W),B.closePath(),Y&&(B.fillStyle=Y,B.fill()),z&&N&&(B.strokeStyle=z,B.stroke()),B.clip(),dt(B,H,F,j,G,X,U,Z,"center","middle"),B.restore()}T&&(T.disabled=D,T.onChange=V,T.buttonRects=se,T.values=n)}},carousel:function(e,t,i,o,a){var r=i.getValue("dataSource"),n=i.getValue("minScale"),l=i.getValue("minOpacity"),h=i.getValue("vertical"),s=i.getValue("index"),d=i.getValue("gap"),u=i.getValue("itemWidth"),c=i.getValue("itemHeight"),g=i.getColor("itemBackground"),f=i.getColor("itemColor"),v=i.getValue("font"),p=i.getColor("background"),x=i.getValue("drawItem"),b=i.getValue("animation"),y=i.getValue("onClickItem"),m=Ma(a,o,i),w=t.x,C=t.y,k=t.width,V=t.height,D=s%1;if(s|=0,p&&(e.fillStyle=p,e.fillRect(w,C,k,V)),r&&r.length){var T,I,_=1-l,L=[],R=void 0;if(T=(1-n)/(R=h?gt(c,V,d,n):gt(u,k,d,n)),I=_/R,e.save(),e.beginPath(),e.rect(w,C,k,V),e.clip(),h){for(var S=w+k/2,P=C+V/2-c/2-d-D*c,A=0;A<R;A++){var M=n+T*(R-A-1-D),B=l+I*(R-A-1-D),E=s-A-1;if(E<0||E>=r.length)break;var O=r[E],W=[(S-u*M/2)/M,(P-=c*M)/M,u,c];e.save(),e.globalAlpha=B,e.scale(M,M),x?x(e,O,Sa(W),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,W)),er.apply(void 0,[e,O,v,f].concat(W,[ge,fe]))),e.restore(),P-=d,L.push({index:E,rect:{x:W[0]*M,y:W[1]*M,width:W[2]*M,height:W[3]*M}})}P=C+V/2+c/2+d-D*(c+d);for(var H=0;H<R;H++){var F=n+T*(R-H-1+D),j=l+I*(R-H-1+D),N=s+H+1;if(N<0||N>=r.length)break;var z=r[N],Y=[(S-u*F/2)/F,P/F,u,c];e.save(),e.globalAlpha=j,e.scale(F,F),x?x(e,z,Sa(Y),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,Y)),er.apply(void 0,[e,z,v,f].concat(Y,[ge,fe]))),e.restore(),P+=c*F+d,L.push({index:N,rect:{x:Y[0]*F,y:Y[1]*F,width:Y[2]*F,height:Y[3]*F}})}P=C+V/2-c/2-D*c;var G=r[s];if(G){var X=1-T*D,U=1-I*D,Z=[(S-u*X/2)/X,P/X,u,c];e.save(),e.globalAlpha=U,e.scale(X,X),x?x(e,G,Sa(Z),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,Z)),er.apply(void 0,[e,G,v,f].concat(Z,[ge,fe]))),e.restore(),L.push({index:s,rect:{x:Z[0]*X,y:Z[1]*X,width:Z[2]*X,height:Z[3]*X}})}}else{for(var K=C+V/2,J=w+k/2-u/2-d-D*u,q=0;q<R;q++){var Q=n+T*(R-q-1-D),$=l+I*(R-q-1-D),ee=s-q-1;if(ee<0||ee>=r.length)break;var te=r[ee],ie=[(J-=u*Q)/Q,(K-c*Q/2)/Q,u,c];e.save(),e.globalAlpha=$,e.scale(Q,Q),x?x(e,te,Sa(ie),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,ie)),er.apply(void 0,[e,te,v,f].concat(ie,[ge,fe]))),e.restore(),J-=d,L.push({index:ee,rect:{x:ie[0]*Q,y:ie[1]*Q,width:ie[2]*Q,height:ie[3]*Q}})}J=w+k/2+u/2+d-D*(u+d);for(var oe=0;oe<R;oe++){var ae=n+T*(R-oe-1+D),re=l+I*(R-oe-1+D),ne=s+oe+1;if(ne<0||ne>=r.length)break;var le=r[ne],he=[J/ae,(K-c*ae/2)/ae,u,c];e.save(),e.globalAlpha=re,e.scale(ae,ae),x?x(e,le,Sa(he),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,he)),er.apply(void 0,[e,le,v,f].concat(he,[ge,fe]))),e.restore(),J+=u*ae+d,L.push({index:ne,rect:{x:he[0]*ae,y:he[1]*ae,width:he[2]*ae,height:he[3]*ae}})}J=w+k/2-u/2-D*u;var se=r[s];if(se){var de=1-T*D,ue=1-I*D,ce=[J/de,(K-c*de/2)/de,u,c];e.save(),e.globalAlpha=ue,e.scale(de,de),x?x(e,se,Sa(ce),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,ce)),er.apply(void 0,[e,se,v,f].concat(ce,[ge,fe]))),e.restore(),L.push({index:s,rect:{x:ce[0]*de,y:ce[1]*de,width:ce[2]*de,height:ce[3]*de}})}}e.restore(),m&&(m.itemInfos=L,m.index=s,m.animation=b,m.dataSource=r,m.onClickItem=y,m.scrollable=i.getValue("scrollable"))}},carousel2:function(e,t,i,o,a){var r=i.getValue("dataSource"),n=i.getValue("vertical"),l=i.getValue("gap"),h=i.getValue("itemWidth"),s=i.getValue("itemHeight"),d=i.getColor("itemBackground"),u=i.getColor("itemColor"),c=i.getValue("font"),g=i.getColor("background"),f=i.getValue("drawItem"),v=i.getValue("offset")||0,p=(Ma(a,o,i),t.x),x=t.y,b=t.width,y=t.height;if(g&&(e.fillStyle=g,e.fillRect(p,x,b,y)),r&&r.length){e.save(),e.beginPath(),e.rect(p,x,b,y),e.clip();var m=r.length;if(n){var w=s+l,C=x+v,k=p+(b-h)/2,V=0;if((C%=w*r.length)<=x)for(;;){if(La({x:k,y:C,width:h,height:s},t))break;V++,C+=w}else if(x<C)for(;;){if(!La({x:k,y:C,width:h,height:s},t)&&C<x){C+=w,V++;break}C-=w,V--}for(;;){var D={x:k,y:C,width:h,height:s};if(!La(D,t))break;var T,I=V%m;I<0&&(I=m+V),T=r[I],f?f(e,T,D,o,a):(d&&(e.fillStyle=d,e.fillRect(k,C,h,s)),er(e,T,c,u,k,C,h,s,ge,fe)),C+=w,V++}}else{var _=h+l,L=x+(y-s)/2,R=p+v,S=0;if((R%=_*r.length)<=p)for(;;){if(La({x:R,y:L,width:h,height:s},t))break;S++,R+=_}else if(p<R)for(;;){if(!La({x:R,y:L,width:h,height:s},t)&&R<p){R+=_,S++;break}R-=_,S--}for(;;){var P={x:R,y:L,width:h,height:s};if(!La(P,t))break;var A,M=S%m;M<0&&(M=m+S),A=r[M],f?f(e,A,P,o,a):(d&&(e.fillStyle=d,e.fillRect(R,L,h,s)),er(e,A,c,u,R,L,h,s,ge,fe)),R+=_,S++}}e.restore()}},timeAxisChart:function(t,e,i,o,a){var r=i.getValue("series"),n=i.getValue("xAxis"),l=i.getValue("yAxis"),h=i.getValue("colors"),s=i.getColor("background"),d=i.getValue("onRectSelected"),u=i.getValue("rectSelectBorderColor"),c=i.getValue("rectSelectBackground"),g=i.getValue("maxVisiblePoint"),f=i.getValue("endProtectPoint"),v=i.getValue("xAxisRange"),p={show:i.getValue("tooltip"),lineWidth:i.getValue("tooltipLineWidth"),lineColor:i.getValue("tooltipLineColor"),pattern:i.getValue("tooltipLinePattern"),formatter:i.getValue("tooltipFormatter")};if(r&&r.length){n&&!Ja(n)&&(n=[n]),l&&!Ja(l)&&(l=[l]);var x={series:r,xAxis:n,yAxis:l,color:h},b={color:h&&h.length?h:To,xAxis:eo(n,Eo),yAxis:eo(l,Vo),series:r,tooltip:p,onRectSelected:d,rectSelectBorderColor:u,rectSelectBackground:c},y={data:o,view:a,maxVisiblePoint:g,endProtectPoint:f,xAxisRange:v,originalOption:x,rect:e,contentRect:Ka(e),valueAxis:K,seriesDatas:r.map(function(e){return!1===e.visible?[]:Xa(e.data,o,a)}),seriesColors:[],interactiveInfo:{}};if(b.xAxis.forEach(function(e){e._axisObj=new Oo(e,b,y)}),b.yAxis.forEach(function(e){e._axisObj=new So(e,b,y)}),$i(b,y),o){var m=Ma(a,o,i);if(m){var w=m;y.hoverTime=w.hoverTime,y._dragging=w._dragging,y.rectPoint1=w.rectPoint1,y.rectPoint2=w.rectPoint2,w._dragging&&w.rectPoint1&&w.rectPoint2&&(y.selectRect=or(w.rectPoint1,w.rectPoint2))}}if(s&&(t.fillStyle=s,t.fillRect(e.x,e.y,e.width,e.height)),b.xAxis.forEach(function(e){e._axisObj.draw(t)}),b.yAxis.forEach(function(e){e._axisObj.draw(t)}),r&&r.length&&function(i,o,a){if(o.series.forEach(function(e,t){"line"===e.type&&Ho(i,e,t,o,a)}),void 0!==a.hoverTime){var e=o.xAxis[0]._axisObj.zoomTimeRange,t=e[0],r=e[1]-t,n=a.bounds.bodyRect,l=n.x,h=n.y,s=n.width,d=n.height,u=l+(a.hoverTime-t)/r*s,c=o.tooltip,g=c.lineColor,f=c.lineWidth,v=c.pattern;i.strokeStyle=g,i.lineWidth=f,v&&i.setLineDash(v),i.beginPath(),i.moveTo(u,h),i.lineTo(u,h+d),i.stroke(),a._hoverHandlers&&a._hoverHandlers.forEach(function(e){e()})}}(t,b,y),y.selectRect){var C=y.selectRect,k=C.x,V=C.y,D=C.width,T=C.height;t.fillStyle=c,t.fillRect(k,V,D,T),t.strokeStyle=u,t.strokeRect(k,V,D,T)}if(o){var I=Ma(a,o,i);I.ui=y,I.option=b}}},pagination:function(s,e,t,d,u){var c=t.getValue("current"),i=t.getValue("pageSize"),o=t.getValue("total"),a=t.getValue("align"),r=t.getValue("itemWidth"),g=t.getValue("itemHeight"),f=t.getValue("gap"),v=t.getColor("labelColor"),p=t.getColor("background"),x=t.getValue("borderWidth"),b=t.getColor("borderColor"),y=t.getValue("borderRadius"),m=t.getValue("font"),w=t.getColor("hoverLabelColor"),C=t.getColor("hoverBorderColor"),k=t.getColor("hoverBackground"),V=t.getColor("activeLabelColor"),D=t.getColor("activeBorderColor"),T=t.getColor("activeBackground"),I=t.getColor("disabledLabelColor"),_=t.getColor("disabledBorderColor"),L=t.getColor("disabledBackground"),R=t.getColor("disabledActiveLabelColor"),S=t.getColor("disabledActiveBorderColor"),P=t.getColor("disabledActiveBackground"),n=t.getColor("showFirstAndLast"),l=t.getValue("disabled"),h=d?Ma(u,d,t):{},A=e.x,M=e.y,B=e.width,E=e.height;if(o){for(var O=Math.ceil(o/i),W=7<O,H=W&&4<c,F=W&&c<=O-4,j=1<c,N=c<O,z=[],Y=0;Y<O;Y++)W?((0===Y||Y===O-1||Math.abs(Y+1-c)<=2||!H&&Y<5||!F&&O-5<Y)&&z.push({label:Y+1,isDisabled:!!l}),1===Y&&H&&z.push({label:we,isDisabled:!!l}),Y===O-2&&F&&z.push({label:Ce,isDisabled:!!l})):z.push({label:Y+1,isDisabled:!!l});z.unshift({label:ye,isDisabled:!j||l}),n&&z.unshift({label:ke,isDisabled:!j||l}),z.push({label:me,isDisabled:!N||l}),n&&z.push({label:Ve,isDisabled:!N||l});var G=h.hoverLabel;if(xe===a)for(var X=A+B-x/2,U=M+(E-g)/2,Z=z.length-1;0<=Z;Z--){var K=(ne=z[Z]).label,J=ne.isDisabled,q=pa(m,K),Q={x:X-=le=0<=xt.indexOf(K)?r:Math.max(r,q.width),y:U,width:le,height:g},$={active:c===K,hover:G===K,disabled:J},ee=vt($,v,w,V,I,R),te=vt($,b,C,D,_,S),ie=vt($,p,k,T,L,P);ft(s,Q,K,m,ee,te,y,x,ie,$,d,u),X-=f,ne.rect=Q}else if(be===a)for(var oe=A+x/2,ae=M+(E-g)/2,re=0;re<z.length;re++){K=(ne=z[re]).label,J=ne.isDisabled,q=pa(m,K);var ne,le,he={x:oe,y:ae,width:le=0<=xt.indexOf(K)?r:Math.max(r,q.width),height:g},se={active:c===K,hover:G===K,disabled:J},de=vt(se,v,w,V,I,R),ue=vt(se,b,C,D,_,S),ce=vt(se,p,k,T,L,P);ft(s,he,K,m,de,ue,y,x,ce,se,d,u),oe+=le+f,ne.rect=he}else{var ge=0,fe=M+(E-g)/2,ve=[],pe=void 0;z.forEach(function(e){var t=e.label,i=(e.isDisabled,pa(m,t)),o=0<=xt.indexOf(t)?r:Math.max(r,i.width);ge+=o,ve.push(o)}),ge+=(z.length-1)*f,pe=A+B/2-ge/2,z.forEach(function(e,t){var i=e.label,o=e.isDisabled,a={x:pe,y:fe,width:ve[t],height:g},r={active:c===i,hover:G===i,disabled:o},n=vt(r,v,w,V,I,R),l=vt(r,b,C,D,_,S),h=vt(r,p,k,T,L,P);ft(s,a,i,m,n,l,y,x,h,r,d,u),pe+=a.width+f,e.rect=a})}d&&(h.itemList=z,h.totalPage=O,h.current=c,h.disabled=l,h.onChange=t.getValue("onChange"))}},gantt:function(v,e,t,i,o){var a=t.getValue("dataSource"),n=t.getValue("font"),r=t.getValue("xAxisStart"),l=t.getValue("xAxisEnd"),h=t.getValue("xAxisGroup"),s=t.getValue("xAxisLabelType"),d=(t.getValue("xAxisLabelLayout"),t.getValue("yAxisPercent")),u=t.getValue("overflow"),c=t.getValue("tipShow"),g=t.getValue("yAxisTipShow"),f=t.getValue("xAxisTipShow"),p=t.getValue("seriesTipShow"),x=t.getValue("barColorGradient"),b=t.getColor("backgroundColor"),y=t.getColor("yAxisLabelColor"),m=t.getColor("xAxisLabelColor"),w=t.getColor("barColor"),C=t.getColor("columnColors"),k=Ma(o,i,t),V=e.x,D=e.y,T=e.width,I=e.height,_={tipInfoList:[]};if(v.font=n,v.textAlign="left",v.textBaseline="top",b&&(v.fillStyle=b,v.fillRect(V,D,T,I)),a&&0!==a.length){var L=new Date(r),R=new Date(l),S=(1-d)*T,P=R-L,A=P/(h-1),M=S/h,B=I/(a.length+1),E=T-S;v.fillStyle=m;for(var O=0;O<h;O++){var W=new Date(L.getTime()+A*O),H=V+E+O*M,F=D+.5*B-.3*pa(n,W).height,j=lr(W,"YYYY-MM-DD hh:mm:ss");switch(s){case 0:W=lr(W,"YYYY-MM-DD hh:mm:ss");break;case 1:W=lr(W,"YYYY-MM-DD");break;case 2:W=lr(W,"DD");break;case 3:W=lr(W,"hh:mm:ss");break;default:W=lr(W,"YYYY-MM-DD hh:mm:ss")}if(v.fillText(W,H,F),f){var N={x:H,y:F-4,width:pa(n,W).width,height:pa(n,W).height,name:j};_.tipInfoList.push(N)}}v.fillStyle=y,a.forEach(function(e,t){var i=V+2,o=D+(t+1)*B-.3*pa(n,e.name).height+.5*B,a=e.name;if(u&&pa(n,e.name).width>d*T&&(a=function(e,t,i,o){for(var a="",r=e.length;r>0;r--){a=e.slice(0,r)+o;if(pa(t,a).width<=i){break}}return a}(a,n,d*T,"...")),0<C.length&&(v.fillStyle=C[t%C.length],v.fillRect(V,D+B+t*B,T,B)),v.fillStyle=y,v.fillText(a,i,o),g){var r={x:i,y:o,width:pa(n,e.name).width,height:pa(n,e.name).height,name:e.name};_.tipInfoList.push(r)}}),a.forEach(function(e,t){var i=new Date(e.start),o=new Date(e.end),a=S*((o-i)/P),r=.6*B,n=V+E+(i-L)/P*S,l=D+(t+1)*B+(B-r)/2,h=8<a?4:0,s=a-2*h,d=r-8,u=n+h,c=D+(t+1)*B+(B-d)/2;v.strokeStyle=w,tr(v,n,l,a,r,8),v.stroke();var g=v.createLinearGradient(u,D,u+s,D);if(g.addColorStop(0,"rgba(255,255,255,0)"),g.addColorStop(1,w),v.fillStyle=x?g:w,v.beginPath(),tr(v,u,c,s,d,5),v.closePath(),v.fill(),p){var f={x:n,y:l,width:a,height:r,start:e.start,end:e.end,name:e.name,text:e.start+"~"+e.end};_.tipInfoList.push(f)}}),k&&(k.tipInfoList=_.tipInfoList,k.tipShow=c)}},radio2:function(e,t,i,o,a){var r=i.getValue("disabled"),n=i.getValue("checked"),l=i.getColor("normalColor"),h=i.getColor("background"),s=i.getColor("activeColor"),d=i.getColor("disabledColor"),u=i.getColor("disabledBackground"),c=(i.getValue("symbol"),Ma(a,o,i));Qa(c.checked)&&(n=c.checked);var g=n?s:l,f=t.x,v=t.y,p=t.width,x=t.height,b=Math.min(p,x);o&&(r?(g=d,h=u):c.pressed?n?g=ht.Default.darker(g,Ie.activeDarker):h=ht.Default.darker(h,Ie.activeDarker):c.hover&&(n?g=ht.Default.darker(g,Ie.hoverDarker):h=ht.Default.darker(h,Ie.hoverDarker))),h&&(e.beginPath(),e.fillStyle=h,e.arc(f+.5*p,v+.5*x,.5*b,0,2*Math.PI),e.fill()),e.beginPath(),e.strokeStyle=g,e.lineWidth=1.5,e.arc(f+.5*p,v+.5*x,.5*b,0,2*Math.PI),e.stroke(),n&&(e.beginPath(),e.fillStyle=g,e.arc(f+.5*p,v+.5*x,.25*b,0,2*Math.PI),e.fill()),o&&!o.__inputType&&(o.__inputType=y),c&&(c.disabled=r,c.onChange=i.getValue("onChange"),c.group=i.getValue("group"),c.value=i.getValue("value"),c.checked=n,c.__inputType=y)},valueAxisChart:function(t,e,i,o,a){var r=i.getValue("series"),n=i.getValue("xAxis"),l=i.getValue("yAxis"),h=i.getValue("colors"),s=i.getColor("background"),d=i.getValue("clipMode"),u={show:i.getValue("tooltip"),formatter:i.getValue("tooltipFormatter")};if(r&&r.length){n&&!Ja(n)&&(n=[n]),l&&!Ja(l)&&(l=[l]);var c={series:r,xAxis:n,yAxis:l,color:h,clipMode:d},g={color:h&&h.length?h:To,xAxis:eo(n,Do),yAxis:eo(l,Vo),series:r,tooltip:u,clipMode:d},f={data:o,view:a,rect:e,contentRect:Yo(e),valueAxis:K,originalOption:c,seriesDatas:r.map(function(e){return!1===e.visible?[]:Xa(e.data,o,a)}),seriesColors:[],interactiveInfo:{}};if(g.xAxis.forEach(function(e){e._axisObj=new jo(e,g,f)}),g.yAxis.forEach(function(e){e._axisObj=new So(e,g,f)}),$i(g,f),s&&(t.fillStyle=s,t.fillRect(e.x,e.y,e.width,e.height)),o){var v=Ma(a,o,i);if(v){var p=v;f.hitPointIndex=p.hitPointIndex,f.hitSeriesIndex=p.hitSeriesIndex}}if(g.xAxis.forEach(function(e){e._axisObj.draw(t)}),g.yAxis.forEach(function(e){e._axisObj.draw(t)}),r&&r.length&&function(i,o,a){var e=o.series;a.pointsInfo={},e.forEach(function(e,t){Fo(i,e,t,o,a)})}(t,g,f),o){var x=Ma(a,o,i);x.ui=f,x.option=g}}}},pieInteractor:new aa,buttonInteractor:new Rt,inputInteractor:new Ct,textAreaInteractor:new mt,radioInteractor:new Pt,checkboxInteractor:new Et,colorPickerInteractor:new Kt,dateTimePickerInteractor:new qt,comboBoxInteractor:new si,tableInteractor:new ci,sliderInteractor:new pi,rangeSliderInteractor:new yi,multipleComboBoxInteractor:new Ci,treeInteractor:new Ti,treeTableInteractor:new Ri,chartInteractor:new Wi,inputNumberInteractor:new Tt,dateRangePickerInteractor:new Fi,radioButtonInteractor:new zi,carouselInteractor:new Ki,timeAxisChartInteractor:new ho,carouselInteractor2:new qi,paginationInteractor:new vo,ganttInteractor:new uo,textBoxInteractor:new xo,radioInteractor2:new Mt,valueAxisChartInteractor:new na,Color:c,ListView:ai,ListDropDown:ni,getVectorInfo:Ma,caluMultilineSize:function(e,t){var i=e.a("ht.content"),o=e.a(f.FONT),a=e.a(f.LINE_HEIGHT),r=e.a(f.PADDING),n=xa(r),l=Te(n,4),h=l[0],s=l[1],d=l[2],u=l[3],c=i.split(/\n/),g=0;return c.forEach(function(e){var t=pa(o,e);g=Math.max(g,t.width)}),{width:g+u+s,height:c.length*a+h+d}},caluRichTextPaneSize:function(n,l){var e=n.a("ht.content"),t=n.a("ht.borderWidth")||1,i=n.a("ht.padding"),o=n.a("ht.showArrow"),a=n.a("ht.arrowOrientation"),r=n.a("ht.vGap"),h=n.a("ht.hGap"),s=n.a("ht.font"),d=xa(i),u=Te(d,4),c=u[0],g=u[1],f=u[2],v=u[3]+g+t,p=c+f+t;o&&(a===be||a===xe?v+=10:p+=10);var x=0,b=0;return e&&(e.forEach(function(e,t){var a=0,r=(e.length-1)*h;e.forEach(function(e,t){var i=Xa(e.text,n,l),o=pa(e.font||s,i);a=Math.max(a,o.height),r+=o.width}),x=Math.max(x,r),b+=a}),b+=(e.length-1)*r),{width:v+=x,height:p+=b}},setFormData:function a(r,e,n){return(e?e.getChildren():r.dm().getDatas()).each(function(e){var t=e.a(f.FORM_ITEM_NAME),i=e.a(f.FORM_ITEM_GROUP),o=n[t];if(t)void 0!==o&&function(e,t){e.a(f.VALUE,t)}(e,o);else if(i){if(void 0===(o=n[i]))return;e.__inputType===y?e.a(f.CHECKED,e.a(f.VALUE)===o):e.__inputType===C&&e.a(f.CHECKED,0<=o.indexOf(e.a(f.VALUE)))}e.hasChildren()&&a(r,e,n)}),n}},xr="0.0.7-dev11";return function(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===i&&o.firstChild?o.insertBefore(a,o.firstChild):o.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".ht-vector-tooltip{\n    box-sizing: border-box;\n    padding: 5px 12px;\n    margin: 0;\n    position: absolute;\n    background-color: rgba(0, 0, 0, 0.5);\n    color: rgb(247, 247, 247);\n    border-radius: 5px;\n    /* -webkit-transition: all 0.5s;\n    transition: all 0.5s; */\n}\n",{}),pr.openColorDropDown=Nt,pr.openDateTimeDropDown=Gt,pr.getFormData=function(e,t){var n={},l=t?t.getChildren():e.dm().getDatas();return l.each(function(e){var t=e.a(f.FORM_ITEM_NAME),i=e.a(f.FORM_ITEM_GROUP);if(t)n[t]=Va(e);else if(i&&!n[f.FORM_ITEM_GROUP])if(e.__inputType===y)for(var o=0;o<l.length;o++){var a=l.get(o);if(i===a.a(f.FORM_ITEM_GROUP)&&a.a(f.CHECKED)){n[i]=Va(a);break}}else if(e.__inputType===C){var r=[];l.each(function(e){i===e.a(f.FORM_ITEM_GROUP)&&e.a(f.CHECKED)&&r.push(Va(e))}),n[i]=r}}),n},pr.selectFile=Ta,pr.getVersion=function(){return xr},pr}();
